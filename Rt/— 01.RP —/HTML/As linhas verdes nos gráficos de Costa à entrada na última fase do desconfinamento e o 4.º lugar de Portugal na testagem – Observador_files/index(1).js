!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){"use strict";function r(){return window.feedbackData}n.d(t,"a",function(){return a}),n.d(t,"c",function(){return document}),n.d(t,"b",function(){return i}),n.d(t,"e",function(){return window}),t.d=r;var a=!0,i="3.6.5"},function(e,t,n){"use strict";function r(e,t,n){if(e&&t&&n){if(t.addEventListener)return t.addEventListener(e,n,!1)||!0;if(t.attachEvent)return t.attachEvent("on"+e,n)||!0}return!1}function a(e,t,n){if(e&&t&&n){if(t.removeEventListener)return t.removeEventListener(e,n,!1)||!0;if(t.detachEvent)return t.detachEvent("on"+e,n)||!0}return!1}function i(e){if(!r("load",window,e)){var t=window.onload;window.onload=function(){try{t&&t.apply(this,arguments)}catch(e){}e.apply(this,arguments)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.listen=r,t.unlisten=a,t.onLoad=i,t.mute=a},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return d});var r=n(0),a=n(5),i=n.n(a),o=r.a?"//s.frames.news":"//localhost:3000",c=r.e.translation||i.a,s={ACTIVE:"active",BUTTON:"feedback-button",CONTAINER:"feedback-container",EDITING:"editing",SHOW_MESSAGE:"show-message",REQUIRED_MESSAGE:"required-message"},u=c.feedbackContainer,d={MESSAGE:'<div class="feedback-message">\n    <span class="message-text"></span>\n    <button class="close-button">'+u.successClose+"</button>\n  </div>",EDITOR:('\n<div class="feedback-editor">\n  <form>\n  <div>'+u.feedbackHeader+'</div>\n  <div class="required-message"></div>\n  <textarea rows="5" maxlength="1000" required autofocus></textarea>\n  <div>'+u.feedbackEmail+'</div>\n  <input type = "email" name="email">\n  <button class="send" type="submit">'+u.send+'</button>\n  <button class="cancel" type="reset">'+u.cancel+'</button>\n  </form>\n  <div class="clear"></div>\n</div>').replace(/\n|\t/g,"").replace(/>\s+</g,"><")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=(n.n(r),n(4)),i=(n.n(a),n(2)),o=n(0),c=n(6);o.e.livecardsCardFeedbackVersion=o.b,Object(r.onLoad)(function(){var e=Object(o.d)();if(e&&e.cardSlug){var t=Object(a.querySelector)("."+i.a.BUTTON),n=Object(a.querySelector)("."+i.a.CONTAINER);if(!n){if(!o.c.body)return;n=o.c.createElement("div"),o.c.body.appendChild(n)}t||(t=o.c.createElement("a"),t.innerHTML=i.d.FEEDBACK,n.appendChild(t)),Object(c.a)(t,n,e)}})},function(e,t,n){"use strict";function r(e,t){var n=t||document;return n&&n.querySelector?n.querySelector(e):null}function a(e,t){var n=t||document;return n&&n.querySelectorAll?n.querySelectorAll(e):[]}Object.defineProperty(t,"__esModule",{value:!0}),t.querySelector=r,t.querySelectorAll=a},function(e,t){e.exports={source:"Fonte",consultDate:"a",notesShow:"Notas",notesHide:"Esconder",feedback:"Sugestões?",seeMore:"ver mais",seeLess:"ver menos",feedbackContainer:{feedback:"Sugestões?",feedbackSent:"Obrigado, vamos rever a sugestão sobre este gráfico para melhorar a sua experiência.",feedbackRequire:"Preenchimento obrigatório.",feedbackMaxLen:"A sugestão só pode ter no máximo 1000 caracteres.",error:"Ocorreu um erro ao tentar enviar a sugestão",feedbackHeader:"Dê-nos a sua sugestão sobre este gráfico:",feedbackEmail:"Se quiser uma resposta, deixe-nos o seu email:",send:"Enviar",successClose:"Fechar",cancel:"Cancelar"},share:{title:"Partilhe este gráfico",copylink:"Copiar link",copied:"Copiado!"}}},function(e,t,n){"use strict";function r(e){var t=l.c.createElement("div");t.innerHTML=f.b.EDITOR+f.b.MESSAGE;var n=t.childNodes[0],r=t.childNodes[1];return t.removeChild(n),t.removeChild(r),e.appendChild(n),e.appendChild(r),{domEditor:n,domMessage:r}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.cardSlug,i=n.articleId,u=n.userId;if(!e||!t||!a)return!1;Object(c.changeClass)(e,f.a.BUTTON+" "+f.a.ACTIVE),Object(c.changeClass)(t,f.a.CONTAINER+" "+f.a.ACTIVE);var v=new d.a,b=r(t),h=b.domEditor,m=b.domMessage,E=h.childNodes[0][0],O=h.childNodes[0][1],g=h.childNodes[0][2],S=h.childNodes[0][3],T=h.childNodes[0].childNodes[1],y=m.childNodes[3],C=m.childNodes[1],M=l.e&&l.e.framesUser&&l.e.framesUser.email||null;return M&&(O.value=M,Object(s.listen)("input",O,function(e){e.preventDefault()}),O.setAttribute&&O.setAttribute("disabled","true")),Object(s.listen)("click",e,function(){v.stop(),Object(c.changeClass)(t,f.a.EDITING),E.focus()}),Object(s.listen)("click",S,function(){v.stop(),Object(c.changeClass)(t,null,f.a.EDITING+" "+f.a.SHOW_MESSAGE)}),Object(s.listen)("click",y,function(){v.stop(),Object(c.changeClass)(t,null,f.a.EDITING+" "+f.a.SHOW_MESSAGE),C.innerHTML=""}),Object(s.listen)("click",g,function(e){e.preventDefault();var n=M||O.value,r=Object(p.a)(E.value);return r?r.length>1e3?(T.innerHTML=f.d.feedbackMaxLen,void Object(c.changeClass)(t,f.a.SHOW_MESSAGE)):(T.innerHTML="",C.innerHTML=f.d.feedbackSent,Object(c.changeClass)(t,f.a.SHOW_MESSAGE,f.a.EDITING),void o()(f.c+"/api/cards/"+a+"/feedback",function(){E.value="",M||(O.value="")},function(){alert(f.d.error),C.innerHTML="",Object(c.changeClass)(t,f.a.EDITING,f.a.SHOW_MESSAGE)},{method:"POST",contentType:"application/json",data:JSON.stringify({feedback:r,email:n,articleId:i,userId:u})})):void(T.innerHTML=f.d.feedbackRequire)}),!0}n.d(t,"a",function(){return a});var i=n(7),o=n.n(i),c=n(8),s=(n.n(c),n(1)),u=(n.n(s),n(10)),d=n.n(u),l=n(0),f=n(2),p=n(11)},function(e,t,n){"use strict";function r(e,t,n,r,a){try{r=r||{},a=new(XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0"),a.open(r.method||(r.data?"POST":"GET"),e,1),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-type",r.contentType||"application/x-www-form-urlencoded"),a.onreadystatechange=function(){a.readyState>3&&(200===a.status?t&&t(a.responseText,a):n&&n(a.status,a))},a.send(r.data)}catch(e){n?n(e):window.console&&console.log(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.ajax=r},function(e,t,n){"use strict";function r(e){return e&&e.getAttribute&&e.getAttribute("class")||""}function a(e,t){if(e&&1===e.nodeType){var n=" "+t+" ";return(" "+(0,o.stripAndCollapse)(r(e))+" ").indexOf(n)>-1}return!1}function i(e,t,n){if(e&&1===e.nodeType){var a=(0,o.stripAndCollapse)(r(e)),i=" "+a+" ";if(t)for(var c,s="string"==typeof t&&t.match(o.rnothtmlwhite)||[],u=-1;c=s[u+=1];)i.indexOf(" "+c+" ")<0&&(i+=c+" ");if(n)for(var c,d="string"==typeof n&&n.match(o.rnothtmlwhite)||[],u=-1;c=d[u+=1];)for(;i.indexOf(" "+c+" ")>-1;)i=i.replace(" "+c+" "," ");if(i=(0,o.stripAndCollapse)(i),a!==i)return e.setAttribute("class",i),!0}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.getClass=r,t.hasClass=a,t.changeClass=i;var o=n(9)},function(e,t,n){"use strict";function r(e){return(e&&e.match(a)||[]).join(" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.stripAndCollapse=r;var a=t.rnothtmlwhite=/[^\x20\t\r\n\f]+/g},function(e,t,n){"use strict";function r(e){this.handler=null,this.setNativeTimer=e?function(e,t){return setInterval(e,t)}:function(e,t){return setTimeout(e,t)},this.clearNativeTimer=e?function(e){return clearInterval(e)}:function(e){return clearTimeout(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.prototype.start=function(e,t){if(this.handler&&(this.clearNativeTimer(this.handler),this.handler=null),e){var n=this;this.handler=this.setNativeTimer(function(){e(n,this,arguments)},t)}},r.prototype.stop=function(){this.start()}},function(e,t,n){"use strict";function r(e){return e&&e.trim?e.trim():e&&e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")||e}t.a=r}]);