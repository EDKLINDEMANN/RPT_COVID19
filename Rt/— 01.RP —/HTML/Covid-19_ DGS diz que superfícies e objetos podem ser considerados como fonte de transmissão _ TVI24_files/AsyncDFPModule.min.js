var AsyncDFPModule=function(){var e,n,s={},a=[],o=[],i=!1,l=0,d=function(n){e&&(null==n?e.pubads().refresh(o):e.pubads().refresh([s[n]]))},t=function(i){e&&i.entries.forEach(i=>{let l;if(null==i.viewports?s[i.name]=e.defineSlot(`${n}/${i.segmentation}`,i.sizes,i.name).addService(e.pubads()).setTargeting("sizes",i.sizes):(l=e.sizeMapping(),i.viewports.forEach(e=>{l.addSize(e.viewport,e.sizes)}),s[i.name]=e.defineSlot(`${n}/${i.segmentation}`,i.sizes,i.name).defineSizeMapping(l.build()).addService(e.pubads()).setTargeting("sizes",i.sizes)),null!=i.key_values)for(kv in i.key_values)s[i.name].setTargeting(kv,i.key_values[kv]);if(i.isLazy){var d={name:i.name,value:s[i.name],loaded:!1,isRefreshable:i.isRefreshable};i.shouldLoadFunction&&(d.shouldLoad=new Function(i.shouldLoadArguments,i.shouldLoadFunction)),i.scrollReference&&(d.scrollReference=i.scrollReference),a.push(d)}!i.isLazy&&i.automaticalyDisplayed&&(e.display(i.name),e.pubads().refresh([s[i.name]])),!i.isLazy&&i.isRefreshable&&o.push(s[i.name])})},r=function(){e&&"loading"!==document.readyState&&(a.length==l&&(window.removeEventListener("scroll",r),i=!1,a=[],l=0),$.each(a,function(n,s){if(!s.loaded){var a=`#${s.name}`,o=s.scrollReference?$(s.scrollReference):void 0;if($(a).length>0){var i=void 0!==o?o.offset().top-window.innerHeight:$(a).offset().top-window.innerHeight,d=window.scrollY||window.pageYOffset||document.documentElement.scrollTop;i>0&&d>=i&&(!s.shouldLoad||s.shouldLoad&&s.shouldLoad())&&e.cmd.push(function(){e.pubads().refresh([s.value]),s.loaded=!0,l++,console.log("lazy loaded: "+s.name)})}}}))};return{init:function(s,a,o){e=s,n=a,t(o),e.pubads().enableSingleRequest(),o.containsLazySlots&&(e.pubads().disableInitialLoad(),window.addEventListener("scroll",r),i=!0);e.pubads().setSafeFrameConfig({allowOverlayExpansion:!0,allowPushExpansion:!0,sandbox:!0}),e.pubads().collapseEmptyDivs(!0),e.enableServices()},refreshSlots:d,addNewSlots:function(n){e&&e.cmd.push(function(){t(n),i||(window.addEventListener("scroll",r),i=!0)})},loadAd:function(n,s){e&&e.cmd.push(function(){e.display(n),s&&d(n)})},isSlotPresent:function(e){for(var n in s)if(n==e)return!0;return!1}}}();