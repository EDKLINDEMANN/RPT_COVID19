var sas=sas||{};sas.clicktag=sas.clicktag||{},function(){var t=!1,e="",n=!1,a=!1;!function(t,e){"use strict";function n(){if(!c){c=!0;for(var t=0;t<i.length;t++)i[t].fn.call(window,i[t].ctx);i=[]}}function a(){"complete"===document.readyState&&n()}t=t||"docReady",e=e||window;var i=[],c=!1,d=!1;e[t]=function(t,e){return c?void setTimeout(function(){t(e)},1):(i.push({fn:t,ctx:e}),void("complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(n,1):d||(document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):(document.attachEvent("onreadystatechange",a),window.attachEvent("onload",n)),d=!0)))}}("docReady",sas.clicktag),sas.clicktag.register=function(a){e=a,t&&e&&0==n&&(n=!0,e())},_addEvent=function(t,e,n){t&&e&&n&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n))};var i=function(){var t=document.URL.split("?")[1];if(null!=t){t=t.split("&");for(var e=0;e<t.length;e++)if(!t[e].indexOf("sasfid="))return t[e].split("=")[1]}return null};log=function(t){a&&console.log(t)},document.location.href.indexOf("sasfid")>0&&window.parent&&window.parent.postMessage&&(_addEvent(window,"message",function(a){if(a.data){try{log("new logic");var i=JSON.parse(a.data);if(log(i),!i.isSmart||!i.clickUrls)return;if("undefined"!=typeof clickTag){log("single clicktag");var c=i.clickUrls[0].indexOf("&go=http")>0?!0:!1;clickTag=c?i.clickUrls[0]:i.clickUrls[0]+clickTag}else if("undefined"!=typeof window.clickTag0){log("multiclick");var d=0;do{var o="";o=i.clickUrls[d]?i.clickUrls[d]:i.clickUrls[0];var c=o.indexOf("&go=http")>0?!0:!1;window["clickTag"+d]=c?o:o+window["clickTag"+d],log(window["clickTag"+d]),d++}while("undefined"!=typeof window["clickTag"+d])}}catch(l){if(log("old logic"),!a.data||a.data.indexOf("http")<0||a.data.indexOf("imgid")<0)return;var c=a.data.indexOf("&go=http")>0?!0:!1;if("undefined"!=typeof clickTag)clickTag=c?a.data:a.data+clickTag;else if("undefined"!=typeof window.clickTag0){var d=0;do window["clickTag"+d]=c?a.data:a.data+window["clickTag"+d],d++;while("undefined"!=typeof window["clickTag"+d])}}t=!0,e&&0==n&&(n=!0,e())}}),sas.clicktag.docReady(function(){log("document ready"),window.parent.postMessage(i(),"*")}))}();