/*! expresso - v0.0.1 - 2020-05-15
* Copyright (c) 2020 Impresa - Software Factory;
 Licensed Proprietary */

(function(){var hr,e,t,mr="3.10.1",gr=1,_r=2,vr=4,yr=8,br=16,wr=32,Sr=64,kr=128,Tr=256,Cr=30,Er="...",xr=150,Pr=16,Ir=200,Ar=1,Or=2,Mr="Expected a function",Dr="__lodash_placeholder__",Nr="[object Arguments]",Lr="[object Array]",Rr="[object Boolean]",$r="[object Date]",jr="[object Error]",Hr="[object Function]",i="[object Map]",Ur="[object Number]",zr="[object Object]",qr="[object RegExp]",n="[object Set]",Fr="[object String]",r="[object WeakMap]",Yr="[object ArrayBuffer]",Wr="[object Float32Array]",Br="[object Float64Array]",Vr="[object Int8Array]",Gr="[object Int16Array]",Qr="[object Int32Array]",Kr="[object Uint8Array]",Xr="[object Uint8ClampedArray]",Jr="[object Uint16Array]",Zr="[object Uint32Array]",eo=/\b__p \+= '';/g,to=/\b(__p \+=) '' \+/g,io=/(__e\(.*?\)|\b__t\)) \+\n'';/g,no=/&(?:amp|lt|gt|quot|#39|#96);/g,ro=/[&<>"'`]/g,oo=RegExp(no.source),so=RegExp(ro.source),ao=/<%-([\s\S]+?)%>/g,lo=/<%([\s\S]+?)%>/g,uo=/<%=([\s\S]+?)%>/g,co=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,fo=/^\w*$/,po=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ho=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,mo=RegExp(ho.source),go=/[\u0300-\u036f\ufe20-\ufe23]/g,_o=/\\(\\)?/g,vo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yo=/\w*$/,bo=/^0[xX]/,wo=/^\[object .+?Constructor\]$/,So=/^\d+$/,ko=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,To=/($^)/,Co=/['\n\r\u2028\u2029\\]/g,Eo=(e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")),xo=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Po=-1,Io={};Io[Wr]=Io[Br]=Io[Vr]=Io[Gr]=Io[Qr]=Io[Kr]=Io[Xr]=Io[Jr]=Io[Zr]=!0,Io[Nr]=Io[Lr]=Io[Yr]=Io[Rr]=Io[$r]=Io[jr]=Io[Hr]=Io[i]=Io[Ur]=Io[zr]=Io[qr]=Io[n]=Io[Fr]=Io[r]=!1;var Ao={};Ao[Nr]=Ao[Lr]=Ao[Yr]=Ao[Rr]=Ao[$r]=Ao[Wr]=Ao[Br]=Ao[Vr]=Ao[Gr]=Ao[Qr]=Ao[Ur]=Ao[zr]=Ao[qr]=Ao[Fr]=Ao[Kr]=Ao[Xr]=Ao[Jr]=Ao[Zr]=!0,Ao[jr]=Ao[Hr]=Ao[i]=Ao[n]=Ao[r]=!1;var o={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},a={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},l={function:!0,object:!0},u={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},c={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},d=l[typeof exports]&&exports&&!exports.nodeType&&exports,f=l[typeof module]&&module&&!module.nodeType&&module,p=d&&f&&"object"==typeof global&&global&&global.Object&&global,h=l[typeof self]&&self&&self.Object&&self,m=l[typeof window]&&window&&window.Object&&window,g=f&&f.exports===d&&d,Oo=p||m!==(this&&this.window)&&m||h||this;function Mo(e,t){if(e!==t){var i=null===e,n=e===hr,r=e===e,o=null===t,s=t===hr,a=t===t;if(e>t&&!o||!r||i&&!s&&a||n&&a)return 1;if(e<t&&!i||!a||o&&!n&&r||s&&r)return-1}return 0}function Do(e,t,i){for(var n=e.length,r=i?n:-1;i?r--:++r<n;)if(t(e[r],r,e))return r;return-1}function No(e,t,i){if(t!==t)return Yo(e,i);for(var n=i-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}function Lo(e){return"function"==typeof e||!1}function Ro(e){return null==e?"":e+""}function $o(e,t){for(var i=-1,n=e.length;++i<n&&t.indexOf(e.charAt(i))>-1;);return i}function jo(e,t){for(var i=e.length;i--&&t.indexOf(e.charAt(i))>-1;);return i}function Ho(e,t){return Mo(e.criteria,t.criteria)||e.index-t.index}function Uo(e){return o[e]}function zo(e){return s[e]}function qo(e,t,i){return t?e=u[e]:i&&(e=c[e]),"\\"+e}function Fo(e){return"\\"+c[e]}function Yo(e,t,i){for(var n=e.length,r=t+(i?0:-1);i?r--:++r<n;){var o=e[r];if(o!==o)return r}return-1}function Wo(e){return!!e&&"object"==typeof e}function _(e){return e<=160&&e>=9&&e<=13||32==e||160==e||5760==e||6158==e||e>=8192&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function Bo(e,t){for(var i=-1,n=e.length,r=-1,o=[];++i<n;)e[i]===t&&(e[i]=Dr,o[++r]=i);return o}function Vo(e){for(var t=-1,i=e.length;++t<i&&_(e.charCodeAt(t)););return t}function Go(e){for(var t=e.length;t--&&_(e.charCodeAt(t)););return t}function Qo(e){return a[e]}var Ko=function e(t){var I=(t=t?Ko.defaults(Oo.Object(),t,Ko.pick(Oo,xo)):Oo).Array,i=t.Date,n=t.Error,g=t.Function,r=t.Math,o=t.Number,_=t.Object,v=t.RegExp,s=t.String,y=t.TypeError,a=I.prototype,l=_.prototype,u=s.prototype,c=g.prototype.toString,b=l.hasOwnProperty,d=0,w=l.toString,f=Oo._,p=v("^"+c.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),h=t.ArrayBuffer,S=t.clearTimeout,m=t.parseFloat,k=r.pow,T=l.propertyIsEnumerable,C=Lt(t,"Set"),E=t.setTimeout,x=a.splice,P=t.Uint8Array,A=Lt(t,"WeakMap"),O=r.ceil,M=Lt(_,"create"),D=r.floor,N=Lt(I,"isArray"),L=t.isFinite,R=Lt(_,"keys"),$=r.max,j=r.min,H=Lt(i,"now"),U=t.parseInt,z=r.random,q=o.NEGATIVE_INFINITY,F=o.POSITIVE_INFINITY,Y=4294967295,W=Y-1,B=Y>>>1,V=9007199254740991,G=A&&new A,Q={};function K(e){if(Wo(e)&&!cn(e)&&!(e instanceof Z)){if(e instanceof J)return e;if(b.call(e,"__chain__")&&b.call(e,"__wrapped__"))return Zt(e)}return new J(e)}function X(){}function J(e,t,i){this.__wrapped__=e,this.__actions__=i||[],this.__chain__=!!t}K.support={};function Z(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function ee(){this.__data__={}}function te(e){var t=e?e.length:0;for(this.data={hash:M(null),set:new C};t--;)this.push(e[t])}function ie(e,t){var i=e.data;return("string"==typeof t||hn(t)?i.set.has(t):i.hash[t])?0:-1}function ne(e,t){var i=-1,n=e.length;for(t||(t=I(n));++i<n;)t[i]=e[i];return t}function re(e,t){for(var i=-1,n=e.length;++i<n&&!1!==t(e[i],i,e););return e}function oe(e,t){for(var i=-1,n=e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function se(e,t){for(var i=-1,n=e.length,r=-1,o=[];++i<n;){var s=e[i];t(s,i,e)&&(o[++r]=s)}return o}function ae(e,t){for(var i=-1,n=e.length,r=I(n);++i<n;)r[i]=t(e[i],i,e);return r}function le(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}function ue(e,t,i,n){var r=-1,o=e.length;for(n&&o&&(i=e[++r]);++r<o;)i=t(i,e[r],r,e);return i}function ce(e,t){for(var i=-1,n=e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function de(e,t,i,n){return e!==hr&&b.call(n,i)?e:t}function fe(e,t,i){for(var n=-1,r=Ln(t),o=r.length;++n<o;){var s=r[n],a=e[s],l=i(a,t[s],s,e,t);(l===l?l===a:a!==a)&&(a!==hr||s in e)||(e[s]=l)}return e}function pe(e,t){return null==t?e:me(t,Ln(t),e)}function he(e,t){for(var i=-1,n=null==e,r=!n&&$t(e),o=r?e.length:0,s=t.length,a=I(s);++i<s;){var l=t[i];a[i]=r?jt(l,o)?e[l]:hr:n?hr:e[l]}return a}function me(e,t,i){i||(i={});for(var n=-1,r=t.length;++n<r;){var o=t[n];i[o]=e[o]}return i}function ge(e,t,i){var n=typeof e;return"function"==n?t===hr?e:Ze(e,t,i):null==e?tr:"object"==n?$e(e):t===hr?ar(e):je(e,t)}function _e(i,n,r,e,t,o,s){var a;if(r&&(a=t?r(i,e,t):r(i)),a!==hr)return a;if(!hn(i))return i;var l,u,c,d,f=cn(i);if(f){if(c=(u=i).length,d=new u.constructor(c),c&&"string"==typeof u[0]&&b.call(u,"index")&&(d.index=u.index,d.input=u.input),a=d,!n)return ne(i,a)}else{var p=w.call(i),h=p==Hr;if(p!=zr&&p!=Nr&&(!h||t))return Ao[p]?function(e,t,i){var n=e.constructor;switch(t){case Yr:return et(e);case Rr:case $r:return new n(+e);case Wr:case Br:case Vr:case Gr:case Qr:case Kr:case Xr:case Jr:case Zr:var r=e.buffer;return new n(i?et(r):r,e.byteOffset,e.length);case Ur:case Fr:return new n(e);case qr:var o=new n(e.source,yo.exec(e));o.lastIndex=e.lastIndex}return o}(i,p,n):t?i:{};if("function"==typeof(l=(h?{}:i).constructor)&&l instanceof l||(l=_),a=new l,!n)return pe(a,i)}o||(o=[]),s||(s=[]);for(var m=o.length;m--;)if(o[m]==i)return s[m];return o.push(i),s.push(a),(f?re:Ae)(i,function(e,t){a[t]=_e(e,n,r,t,i,o,s)}),a}K.templateSettings={escape:ao,evaluate:lo,interpolate:uo,variable:"",imports:{_:K}};var ve=function(){function i(){}return function(e){if(hn(e)){i.prototype=e;var t=new i;i.prototype=hr}return t||{}}}();function ye(e,t,i){if("function"!=typeof e)throw new y(Mr);return E(function(){e.apply(hr,i)},t)}function be(e,t){var i=e?e.length:0,n=[];if(!i)return n;var r=-1,o=Mt(),s=o===No,a=s&&t.length>=Ir?at(t):null,l=t.length;a&&(o=ie,s=!1,t=a);e:for(;++r<i;){var u=e[r];if(s&&u===u){for(var c=l;c--;)if(t[c]===u)continue e;n.push(u)}else o(t,u,0)<0&&n.push(u)}return n}var we=ot(Ae),Se=ot(Oe,!0);function ke(e,n){var r=!0;return we(e,function(e,t,i){return r=!!n(e,t,i)}),r}function Te(e,n){var r=[];return we(e,function(e,t,i){n(e,t,i)&&r.push(e)}),r}function Ce(e,n,t,r){var o;return t(e,function(e,t,i){if(n(e,t,i))return o=r?t:e,!1}),o}function Ee(e,t,i,n){n||(n=[]);for(var r=-1,o=e.length;++r<o;){var s=e[r];Wo(s)&&$t(s)&&(i||cn(s)||un(s))?t?Ee(s,t,i,n):le(n,s):i||(n[n.length]=s)}return n}var xe=st(),Pe=st(!0);function Ie(e,t){return xe(e,t,Rn)}function Ae(e,t){return xe(e,t,Ln)}function Oe(e,t){return Pe(e,t,Ln)}function Me(e,t){for(var i=-1,n=t.length,r=-1,o=[];++i<n;){var s=t[i];pn(e[s])&&(o[++r]=s)}return o}function De(e,t,i){if(null!=e){i!==hr&&i in Xt(e)&&(t=[i]);for(var n=0,r=t.length;null!=e&&n<r;)e=e[t[n++]];return n&&n==r?e:hr}}function Ne(e,t,i,n,r,o){return e===t||(null==e||null==t||!hn(e)&&!Wo(t)?e!==e&&t!==t:function(e,t,i,n,r,o,s){var a=cn(e),l=cn(t),u=Lr,c=Lr;a||((u=w.call(e))==Nr?u=zr:u!=zr&&(a=bn(e))),l||((c=w.call(t))==Nr?c=zr:c!=zr&&(l=bn(t)));var d=u==zr,f=c==zr,p=u==c;if(p&&!a&&!d)return function(e,t,i){switch(i){case Rr:case $r:return+e==+t;case jr:return e.name==t.name&&e.message==t.message;case Ur:return e!=+e?t!=+t:e==+t;case qr:case Fr:return e==t+""}return!1}(e,t,u);if(!r){var h=d&&b.call(e,"__wrapped__"),m=f&&b.call(t,"__wrapped__");if(h||m)return i(h?e.value():e,m?t.value():t,n,r,o,s)}if(!p)return!1;o||(o=[]),s||(s=[]);for(var g=o.length;g--;)if(o[g]==e)return s[g]==t;o.push(e),s.push(t);var _=(a?function(e,t,i,n,r,o,s){var a=-1,l=e.length,u=t.length;if(l!=u&&!(r&&u>l))return!1;for(;++a<l;){var c=e[a],d=t[a],f=n?n(r?d:c,r?c:d,a):hr;if(f!==hr){if(f)continue;return!1}if(r){if(!ce(t,function(e){return c===e||i(c,e,n,r,o,s)}))return!1}else if(c!==d&&!i(c,d,n,r,o,s))return!1}return!0}:function(e,t,i,n,r,o,s){var a=Ln(e),l=a.length,u=Ln(t).length;if(l!=u&&!r)return!1;for(var c=l;c--;){var d=a[c];if(!(r?d in t:b.call(t,d)))return!1}for(var f=r;++c<l;){d=a[c];var p=e[d],h=t[d],m=n?n(r?h:p,r?p:h,d):hr;if(!(m===hr?i(p,h,n,r,o,s):m))return!1;f||(f="constructor"==d)}if(!f){var g=e.constructor,_=t.constructor;if(g!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _))return!1}return!0})(e,t,i,n,r,o,s);return o.pop(),s.pop(),_}(e,t,Ne,i,n,r,o))}function Le(e,t,i){var n=t.length,r=n,o=!i;if(null==e)return!r;for(e=Xt(e);n--;){var s=t[n];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++n<r;){var a=(s=t[n])[0],l=e[a],u=s[1];if(o&&s[2]){if(l===hr&&!(a in e))return!1}else{var c=i?i(l,u,a):hr;if(!(c===hr?Ne(u,l,i,!0):c))return!1}}return!0}function Re(e,n){var r=-1,o=$t(e)?I(e.length):[];return we(e,function(e,t,i){o[++r]=n(e,t,i)}),o}function $e(e){var t=Nt(e);if(1==t.length&&t[0][2]){var i=t[0][0],n=t[0][1];return function(e){return null!=e&&e[i]===n&&(n!==hr||i in Xt(e))}}return function(e){return Le(e,t)}}function je(i,n){var r=cn(i),o=Ut(i)&&Ft(n),s=i+"";return i=Jt(i),function(e){if(null==e)return!1;var t=s;if(e=Xt(e),(r||!o)&&!(t in e)){if(null==(e=1==i.length?e:De(e,Fe(i,0,-1))))return!1;t=li(i),e=Xt(e)}return e[t]===n?n!==hr||t in e:Ne(n,e[t],hr,!0)}}function He(t){return function(e){return null==e?hr:e[t]}}function Ue(e,t){for(var i=e?t.length:0;i--;){var n=t[i];if(n!=r&&jt(n)){var r=n;x.call(e,n,1)}}return e}function ze(e,t){return e+D(z()*(t-e+1))}var qe=G?function(e,t){return G.set(e,t),e}:tr;function Fe(e,t,i){var n=-1,r=e.length;(t=null==t?0:+t||0)<0&&(t=-t>r?0:r+t),(i=i===hr||i>r?r:+i||0)<0&&(i+=r),r=t>i?0:i-t>>>0,t>>>=0;for(var o=I(r);++n<r;)o[n]=e[n+t];return o}function Ye(e,n){var r;return we(e,function(e,t,i){return!(r=n(e,t,i))}),!!r}function We(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}function Be(e,i,n){var t=It(),r=-1;return i=ae(i,function(e){return t(e)}),We(Re(e,function(t){return{criteria:ae(i,function(e){return e(t)}),index:++r,value:t}}),function(e,t){return function(e,t,i){for(var n=-1,r=e.criteria,o=t.criteria,s=r.length,a=i.length;++n<s;){var l=Mo(r[n],o[n]);if(l){if(n>=a)return l;var u=i[n];return l*("asc"===u||!0===u?1:-1)}}return e.index-t.index}(e,t,n)})}function Ve(e,t){var i=-1,n=Mt(),r=e.length,o=n===No,s=o&&r>=Ir,a=s?at():null,l=[];a?(n=ie,o=!1):(s=!1,a=t?[]:l);e:for(;++i<r;){var u=e[i],c=t?t(u,i,e):u;if(o&&u===u){for(var d=a.length;d--;)if(a[d]===c)continue e;t&&a.push(c),l.push(u)}else n(a,c,0)<0&&((t||s)&&a.push(c),l.push(u))}return l}function Ge(e,t){for(var i=-1,n=t.length,r=I(n);++i<n;)r[i]=e[t[i]];return r}function Qe(e,t,i,n){for(var r=e.length,o=n?r:-1;(n?o--:++o<r)&&t(e[o],o,e););return i?Fe(e,n?0:o,n?o+1:r):Fe(e,n?o+1:0,n?r:o)}function Ke(e,t){var i=e;i instanceof Z&&(i=i.value());for(var n=-1,r=t.length;++n<r;){var o=t[n];i=o.func.apply(o.thisArg,le([i],o.args))}return i}function Xe(e,t,i){var n=0,r=e?e.length:n;if("number"==typeof t&&t===t&&r<=B){for(;n<r;){var o=n+r>>>1,s=e[o];(i?s<=t:s<t)&&null!==s?n=o+1:r=o}return r}return Je(e,t,tr,i)}function Je(e,t,i,n){t=i(t);for(var r=0,o=e?e.length:0,s=t!==t,a=null===t,l=t===hr;r<o;){var u=D((r+o)/2),c=i(e[u]),d=c!==hr,f=c===c;if(s)var p=f||n;else p=a?f&&d&&(n||null!=c):l?f&&(n||d):null!=c&&(n?c<=t:c<t);p?r=u+1:o=u}return j(o,W)}function Ze(o,s,e){if("function"!=typeof o)return tr;if(s===hr)return o;switch(e){case 1:return function(e){return o.call(s,e)};case 3:return function(e,t,i){return o.call(s,e,t,i)};case 4:return function(e,t,i,n){return o.call(s,e,t,i,n)};case 5:return function(e,t,i,n,r){return o.call(s,e,t,i,n,r)}}return function(){return o.apply(s,arguments)}}function et(e){var t=new h(e.byteLength);return new P(t).set(new P(e)),t}function tt(e,t,i){for(var n=i.length,r=-1,o=$(e.length-n,0),s=-1,a=t.length,l=I(a+o);++s<a;)l[s]=t[s];for(;++r<n;)l[i[r]]=e[r];for(;o--;)l[s++]=e[r++];return l}function it(e,t,i){for(var n=-1,r=i.length,o=-1,s=$(e.length-r,0),a=-1,l=t.length,u=I(s+l);++o<s;)u[o]=e[o];for(var c=o;++a<l;)u[c+a]=t[a];for(;++n<r;)u[c+i[n]]=e[o++];return u}function nt(a,l){return function(e,n,t){var r=l?l():{};if(n=It(n,t,3),cn(e))for(var i=-1,o=e.length;++i<o;){var s=e[i];a(r,s,n(s,i,e),e)}else we(e,function(e,t,i){a(r,e,n(e,t,i),i)});return r}}function rt(l){return an(function(e,t){var i=-1,n=null==e?0:t.length,r=n>2?t[n-2]:hr,o=n>2?t[2]:hr,s=n>1?t[n-1]:hr;for("function"==typeof r?(r=Ze(r,s,5),n-=2):n-=(r="function"==typeof s?s:hr)?1:0,o&&Ht(t[0],t[1],o)&&(r=n<3?hr:r,n=1);++i<n;){var a=t[i];a&&l(e,a,r)}return e})}function ot(o,s){return function(e,t){var i=e?Dt(e):0;if(!qt(i))return o(e,t);for(var n=s?i:-1,r=Xt(e);(s?n--:++n<i)&&!1!==t(r[n],n,r););return e}}function st(l){return function(e,t,i){for(var n=Xt(e),r=i(e),o=r.length,s=l?o:-1;l?s--:++s<o;){var a=r[s];if(!1===t(n[a],a,n))break}return e}}function at(e){return M&&C?new te(e):null}function lt(o){return function(e){for(var t=-1,i=Jn(Yn(e)),n=i.length,r="";++t<n;)r=o(r,i[t],t);return r}}function ut(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=ve(n.prototype),i=n.apply(t,e);return hn(i)?i:t}}function ct(o){return function e(t,i,n){n&&Ht(t,i,n)&&(i=hr);var r=Pt(t,o,hr,hr,hr,hr,hr,i);return r.placeholder=e.placeholder,r}}function dt(i,n){return an(function(e){var t=e[0];return null==t?t:(e.push(n),i.apply(hr,e))})}function ft(u,c){return function(e,t,i){if(i&&Ht(e,t,i)&&(t=hr),1==(t=It(t,i,3)).length){var n=function(e,t,i,n){for(var r=-1,o=e.length,s=n,a=s;++r<o;){var l=e[r],u=+t(l);i(u,s)&&(s=u,a=l)}return a}(e=cn(e)?e:Kt(e),t,u,c);if(!e.length||n!==c)return n}return r=t,o=u,l=a=s=c,we(e,function(e,t,i){var n=+r(e,t,i);(o(n,a)||n===s&&n===l)&&(a=n,l=e)}),l;var r,o,s,a,l}}function pt(r,o){return function(e,t,i){if(t=It(t,i,3),cn(e)){var n=Do(e,t,o);return n>-1?e[n]:hr}return Ce(e,t,r)}}function ht(n){return function(e,t,i){return e&&e.length?Do(e,t=It(t,i,3),n):-1}}function mt(n){return function(e,t,i){return Ce(e,t=It(t,i,3),n,!0)}}function gt(l){return function(){for(var r,o=arguments.length,e=l?o:-1,t=0,s=I(o);l?e--:++e<o;){var i=s[t++]=arguments[e];if("function"!=typeof i)throw new y(Mr);!r&&J.prototype.thru&&"wrapper"==Ot(i)&&(r=new J([],!0))}for(e=r?-1:o;++e<o;){var n=Ot(i=s[e]),a="wrapper"==n?At(i):hr;r=a&&zt(a[0])&&a[1]==(kr|yr|wr|Tr)&&!a[4].length&&1==a[9]?r[Ot(a[0])].apply(r,a[3]):1==i.length&&zt(i)?r[n]():r.thru(i)}return function(){var e=arguments,t=e[0];if(r&&1==e.length&&cn(t)&&t.length>=Ir)return r.plant(t).value();for(var i=0,n=o?s[i].apply(this,e):t;++i<o;)n=s[i].call(this,n);return n}}}function _t(n,r){return function(e,t,i){return"function"==typeof t&&i===hr&&cn(e)?n(e,t):r(e,Ze(t,i,3))}}function vt(n){return function(e,t,i){return"function"==typeof t&&i===hr||(t=Ze(t,i,3)),n(e,t,Rn)}}function yt(n){return function(e,t,i){return"function"==typeof t&&i===hr||(t=Ze(t,i,3)),n(e,t)}}function bt(s){return function(e,r,t){var o={};return r=It(r,t,3),Ae(e,function(e,t,i){var n=r(e,t,i);e=s?e:n,o[t=s?n:t]=e}),o}}function wt(n){return function(e,t,i){return e=Ro(e),(n?e:"")+Ct(e,t,i)+(n?"":e)}}function St(n){var r=an(function(e,t){var i=Bo(t,r.placeholder);return Pt(e,n,hr,t,i)});return r}function kt(u,c){return function(e,t,i,n){var r,o,s,a,l=arguments.length<3;return"function"==typeof t&&n===hr&&cn(e)?u(e,t,i,l):(r=e,o=It(t,n,4),s=i,a=l,c(r,function(e,t,i){s=a?(a=!1,e):o(s,e,t,i)}),s)}}function Tt(f,p,h,m,g,_,v,y,b,w){var S=p&kr,k=p&gr,T=p&_r,C=p&yr,E=p&vr,x=p&br,P=T?hr:ut(f);return function e(){for(var t=arguments.length,i=t,n=I(t);i--;)n[i]=arguments[i];if(m&&(n=tt(n,m,g)),_&&(n=it(n,_,v)),C||x){var r=e.placeholder,o=Bo(n,r);if((t-=o.length)<w){var s=y?ne(y):hr,a=$(w-t,0);p|=C?wr:Sr,p&=~(C?Sr:wr),E||(p&=~(gr|_r));var l=[f,p,h,C?n:hr,C?o:hr,C?hr:n,C?hr:o,s,b,a],u=Tt.apply(hr,l);return zt(f)&&Gt(u,l),u.placeholder=r,u}}var c=k?h:this,d=T?c[f]:f;return y&&(n=function(e,t){for(var i=e.length,n=j(t.length,i),r=ne(e);n--;){var o=t[n];e[n]=jt(o,i)?r[o]:hr}return e}(n,y)),S&&b<n.length&&(n.length=b),this&&this!==Oo&&this instanceof e&&(d=P||ut(f)),d.apply(c,n)}}function Ct(e,t,i){var n=e.length;if(n>=(t=+t)||!L(t))return"";var r=t-n;return Gn(i=null==i?" ":i+"",O(r/i.length)).slice(0,r)}function Et(e){var i=r[e];return function(e,t){return(t=t===hr?0:+t||0)?(t=k(10,t),i(e*t)/t):i(e)}}function xt(o){return function(e,t,i,n){var r=It(i);return null==i&&r===ge?Xe(e,t,o):Je(e,t,r(i,n,1),o)}}function Pt(e,t,i,n,r,o,s,a){var l=t&_r;if(!l&&"function"!=typeof e)throw new y(Mr);var u=n?n.length:0;if(u||(t&=~(wr|Sr),n=r=hr),u-=r?r.length:0,t&Sr){var c=n,d=r;n=r=hr}var f,p,h,m=l?hr:At(e),g=[e,t,i,n,r,c,d,o,s,a];if(m&&(function(e,t){var i=e[1],n=t[1],r=i|n,o=r<kr,s=n==kr&&i==yr||n==kr&&i==Tr&&e[7].length<=t[8]||n==(kr|Tr)&&i==yr;if(o||s){n&gr&&(e[2]=t[2],r|=i&gr?0:vr);var a=t[3];if(a){var l=e[3];e[3]=l?tt(l,a,t[4]):ne(a),e[4]=l?Bo(e[3],Dr):ne(t[4])}(a=t[5])&&(l=e[5],e[5]=l?it(l,a,t[6]):ne(a),e[6]=l?Bo(e[5],Dr):ne(t[6])),(a=t[7])&&(e[7]=ne(a)),n&kr&&(e[8]=null==e[8]?t[8]:j(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}}(g,m),t=g[1],a=g[9]),g[9]=null==a?l?0:e.length:$(a-u,0)||0,t==gr)var _=(f=g[0],p=g[2],h=ut(f),function e(){return(this&&this!==Oo&&this instanceof e?h:f).apply(p,arguments)});else _=t!=wr&&t!=(gr|wr)||g[4].length?Tt.apply(hr,g):function(s,e,a,l){var u=e&gr,c=ut(s);return function e(){for(var t=-1,i=arguments.length,n=-1,r=l.length,o=I(r+i);++n<r;)o[n]=l[n];for(;i--;)o[n++]=arguments[++t];return(this&&this!==Oo&&this instanceof e?c:s).apply(u?a:this,o)}}.apply(hr,g);return(m?qe:Gt)(_,g)}function It(e,t,i){var n=K.callback||er;return n=n===er?ge:n,i?n(e,t,i):n}var At=G?function(e){return G.get(e)}:sr;function Ot(e){for(var t=e.name+"",i=Q[t],n=i?i.length:0;n--;){var r=i[n],o=r.func;if(null==o||o==e)return r.name}return t}function Mt(e,t,i){var n=K.indexOf||si;return n=n===si?No:n,e?n(e,t,i):n}var Dt=He("length");function Nt(e){for(var t=Un(e),i=t.length;i--;)t[i][2]=Ft(t[i][1]);return t}function Lt(e,t){var i=null==e?hr:e[t];return mn(i)?i:hr}function Rt(e,t,i){null==e||Ut(t,e)||(e=1==(t=Jt(t)).length?e:De(e,Fe(t,0,-1)),t=li(t));var n=null==e?e:e[t];return null==n?hr:n.apply(e,i)}function $t(e){return null!=e&&qt(Dt(e))}function jt(e,t){return e="number"==typeof e||So.test(e)?+e:-1,t=null==t?V:t,e>-1&&e%1==0&&e<t}function Ht(e,t,i){if(!hn(i))return!1;var n=typeof t;if("number"==n?$t(i)&&jt(t,i.length):"string"==n&&t in i){var r=i[t];return e===e?e===r:r!==r}return!1}function Ut(e,t){var i=typeof e;return!!("string"==i&&fo.test(e)||"number"==i)||!cn(e)&&(!co.test(e)||null!=t&&e in Xt(t))}function zt(e){var t=Ot(e),i=K[t];if("function"!=typeof i||!(t in Z.prototype))return!1;if(e===i)return!0;var n=At(i);return!!n&&e===n[0]}function qt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=V}function Ft(e){return e===e&&!hn(e)}function Yt(e,t){e=Xt(e);for(var i=-1,n=t.length,r={};++i<n;){var o=t[i];o in e&&(r[o]=e[o])}return r}function Wt(e,n){var r={};return Ie(e,function(e,t,i){n(e,t,i)&&(r[t]=e)}),r}var Bt,Vt,Gt=(Vt=Bt=0,function(e,t){var i=Fi(),n=Pr-(i-Vt);if(Vt=i,n>0){if(++Bt>=xr)return e}else Bt=0;return qe(e,t)});function Qt(e){for(var t=Rn(e),i=t.length,n=i&&e.length,r=!!n&&qt(n)&&(cn(e)||un(e)),o=-1,s=[];++o<i;){var a=t[o];(r&&jt(a,n)||b.call(e,a))&&s.push(a)}return s}function Kt(e){return null==e?[]:$t(e)?hn(e)?e:_(e):qn(e)}function Xt(e){return hn(e)?e:_(e)}function Jt(e){if(cn(e))return e;var r=[];return Ro(e).replace(po,function(e,t,i,n){r.push(i?n.replace(_o,"$1"):t||e)}),r}function Zt(e){return e instanceof Z?e.clone():new J(e.__wrapped__,e.__chain__,ne(e.__actions__))}var ei=an(function(e,t){return Wo(e)&&$t(e)?be(e,Ee(t,!1,!0)):[]});function ti(e,t,i){return e&&e.length?((i?Ht(e,t,i):null==t)&&(t=1),Fe(e,t<0?0:t)):[]}function ii(e,t,i){var n=e?e.length:0;return n?((i?Ht(e,t,i):null==t)&&(t=1),Fe(e,0,(t=n-(+t||0))<0?0:t)):[]}var ni=ht(),ri=ht(!0);function oi(e){return e?e[0]:hr}function si(e,t,i){var n=e?e.length:0;if(!n)return-1;if("number"==typeof i)i=i<0?$(n+i,0):i;else if(i){var r=Xe(e,t);return r<n&&(t===t?t===e[r]:e[r]!==e[r])?r:-1}return No(e,t,i||0)}var ai=an(function(e){for(var t=e.length,i=t,n=I(c),r=Mt(),o=r===No,s=[];i--;){var a=e[i]=$t(a=e[i])?a:[];n[i]=o&&a.length>=120?at(i&&a):null}var l=e[0],u=-1,c=l?l.length:0,d=n[0];e:for(;++u<c;)if(a=l[u],(d?ie(d,a):r(s,a,0))<0){for(i=t;--i;){var f=n[i];if((f?ie(f,a):r(e[i],a,0))<0)continue e}d&&d.push(a),s.push(a)}return s});function li(e){var t=e?e.length:0;return t?e[t-1]:hr}var ui=an(function(e,t){var i=he(e,t=Ee(t));return Ue(e,t.sort(Mo)),i});function ci(e){return ti(e,1)}var di=xt(),fi=xt(!0);var pi=an(function(e){return Ve(Ee(e,!1,!0))});function hi(e,t,i,n){if(!e||!e.length)return[];null!=t&&"boolean"!=typeof t&&(i=Ht(e,t,n=i)?hr:t,t=!1);var r=It();return null==i&&r===ge||(i=r(i,n,3)),t&&Mt()===No?function(e,t){for(var i,n=-1,r=e.length,o=-1,s=[];++n<r;){var a=e[n],l=t?t(a,n,e):a;n&&i===l||(i=l,s[++o]=a)}return s}(e,i):Ve(e,i)}function mi(e){if(!e||!e.length)return[];var t=-1,i=0;e=se(e,function(e){if($t(e))return i=$(e.length,i),!0});for(var n=I(i);++t<i;)n[t]=ae(e,He(t));return n}function gi(e,t,i){if(!e||!e.length)return[];var n=mi(e);return null==t?n:(t=Ze(t,i,4),ae(n,function(e){return ue(e,t,hr,!0)}))}var _i=an(function(e,t){return $t(e)?be(e,t):[]});var vi=an(mi);function yi(e,t){var i=-1,n=e?e.length:0,r={};for(!n||t||cn(e[0])||(t=[]);++i<n;){var o=e[i];t?r[o]=t[i]:o&&(r[o[0]]=o[1])}return r}var bi=an(function(e){var t=e.length,i=t>2?e[t-2]:hr,n=t>1?e[t-1]:hr;return t>2&&"function"==typeof i?t-=2:(i=t>1&&"function"==typeof n?(--t,n):hr,n=hr),e.length=t,gi(e,i,n)});function wi(e){var t=K(e);return t.__chain__=!0,t}function Si(e,t,i){return t.call(i,e)}var ki=an(function(t){return t=Ee(t),this.thru(function(e){return function(e,t){for(var i=-1,n=e.length,r=-1,o=t.length,s=I(n+o);++i<n;)s[i]=e[i];for(;++r<o;)s[i++]=t[r];return s}(cn(e)?e:[Xt(e)],t)})});var Ti=an(function(e,t){return he(e,Ee(t))}),Ci=nt(function(e,t,i){b.call(e,i)?++e[i]:e[i]=1});function Ei(e,t,i){var n=cn(e)?oe:ke;return i&&Ht(e,t,i)&&(t=hr),"function"==typeof t&&i===hr||(t=It(t,i,3)),n(e,t)}function xi(e,t,i){return(cn(e)?se:Te)(e,t=It(t,i,3))}var Pi=pt(we),Ii=pt(Se,!0);var Ai=_t(re,we),Oi=_t(function(e,t){for(var i=e.length;i--&&!1!==t(e[i],i,e););return e},Se),Mi=nt(function(e,t,i){b.call(e,i)?e[i].push(t):e[i]=[t]});function Di(e,t,i,n){var r=e?Dt(e):0;return qt(r)||(r=(e=qn(e)).length),i="number"!=typeof i||n&&Ht(t,i,n)?0:i<0?$(r+i,0):i||0,"string"==typeof e||!cn(e)&&yn(e)?i<=r&&e.indexOf(t,i)>-1:!!r&&Mt(e,t,i)>-1}var Ni=nt(function(e,t,i){e[i]=t}),Li=an(function(e,i,n){var r=-1,o="function"==typeof i,s=Ut(i),a=$t(e)?I(e.length):[];return we(e,function(e){var t=o?i:s&&null!=e?e[i]:hr;a[++r]=t?t.apply(e,n):Rt(e,i,n)}),a});function Ri(e,t,i){return(cn(e)?ae:Re)(e,t=It(t,i,3))}var $i=nt(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]});var ji=kt(ue,we),Hi=kt(function(e,t,i,n){var r=e.length;for(n&&r&&(i=e[--r]);r--;)i=t(i,e[r],r,e);return i},Se);function Ui(e,t,i){if(i?Ht(e,t,i):null==t)return(n=(e=Kt(e)).length)>0?e[ze(0,n-1)]:hr;var n,r=-1,o=Sn(e),s=(n=o.length)-1;for(t=j(t<0?0:+t||0,n);++r<t;){var a=ze(r,s),l=o[a];o[a]=o[r],o[r]=l}return o.length=t,o}function zi(e,t,i){var n=cn(e)?ce:Ye;return i&&Ht(e,t,i)&&(t=hr),"function"==typeof t&&i===hr||(t=It(t,i,3)),n(e,t)}var qi=an(function(e,t){if(null==e)return[];var i=t[2];return i&&Ht(t[0],t[1],i)&&(t.length=1),Be(e,Ee(t),[])});var Fi=H||function(){return(new i).getTime()};function Yi(e,t){var i;if("function"!=typeof t){if("function"!=typeof e)throw new y(Mr);var n=e;e=t,t=n}return function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=hr),i}}var Wi=an(function(e,t,i){var n=gr;if(i.length){var r=Bo(i,Wi.placeholder);n|=wr}return Pt(e,n,t,i,r)}),Bi=an(function(e,t){for(var i=-1,n=(t=t.length?Ee(t):Nn(e)).length;++i<n;){var r=t[i];e[r]=Pt(e[r],gr,e)}return e}),Vi=an(function(e,t,i){var n=gr|_r;if(i.length){var r=Bo(i,Vi.placeholder);n|=wr}return Pt(t,n,e,i,r)}),Gi=ct(yr),Qi=ct(br);function Ki(n,r,e){var o,s,a,l,u,c,d,f=0,p=!1,h=!0;if("function"!=typeof n)throw new y(Mr);if(r=r<0?0:+r||0,!0===e){var m=!0;h=!1}else hn(e)&&(m=!!e.leading,p="maxWait"in e&&$(+e.maxWait||0,r),h="trailing"in e?!!e.trailing:h);function t(e,t){t&&S(t),s=c=d=hr,e&&(f=Fi(),a=n.apply(u,o),c||s||(o=u=hr))}function g(){var e=r-(Fi()-l);e<=0||e>r?t(d,s):c=E(g,e)}function _(){t(h,c)}function i(){if(o=arguments,l=Fi(),u=this,d=h&&(c||!m),!1===p)var e=m&&!c;else{s||m||(f=l);var t=p-(l-f),i=t<=0||t>p;i?(s&&(s=S(s)),f=l,a=n.apply(u,o)):s||(s=E(_,t))}return i&&c?c=S(c):c||r===p||(c=E(g,r)),e&&(i=!0,a=n.apply(u,o)),!i||c||s||(o=u=hr),a}return i.cancel=function(){c&&S(c),s&&S(s),f=0,s=c=d=hr},i}var Xi=an(function(e,t){return ye(e,1,t)}),Ji=an(function(e,t,i){return ye(e,t,i)}),Zi=gt(),en=gt(!0);function tn(r,o){if("function"!=typeof r||o&&"function"!=typeof o)throw new y(Mr);var s=function(){var e=arguments,t=o?o.apply(this,e):e[0],i=s.cache;if(i.has(t))return i.get(t);var n=r.apply(this,e);return s.cache=i.set(t,n),n};return s.cache=new tn.Cache,s}var nn=an(function(i,n){if(n=Ee(n),"function"!=typeof i||!oe(n,Lo))throw new y(Mr);var r=n.length;return an(function(e){for(var t=j(e.length,r);t--;)e[t]=n[t](e[t]);return i.apply(this,e)})});var rn=St(wr),on=St(Sr),sn=an(function(e,t){return Pt(e,Tr,hr,hr,hr,Ee(t))});function an(o,s){if("function"!=typeof o)throw new y(Mr);return s=$(s===hr?o.length-1:+s||0,0),function(){for(var e=arguments,t=-1,i=$(e.length-s,0),n=I(i);++t<i;)n[t]=e[s+t];switch(s){case 0:return o.call(this,n);case 1:return o.call(this,e[0],n);case 2:return o.call(this,e[0],e[1],n)}var r=I(s+1);for(t=-1;++t<s;)r[t]=e[t];return r[s]=n,o.apply(this,r)}}function ln(e,t){return e>t}function un(e){return Wo(e)&&$t(e)&&b.call(e,"callee")&&!T.call(e,"callee")}var cn=N||function(e){return Wo(e)&&qt(e.length)&&w.call(e)==Lr};function dn(e,t,i,n){var r=(i="function"==typeof i?Ze(i,n,3):hr)?i(e,t):hr;return r===hr?Ne(e,t,i):!!r}function fn(e){return Wo(e)&&"string"==typeof e.message&&w.call(e)==jr}function pn(e){return hn(e)&&w.call(e)==Hr}function hn(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function mn(e){return null!=e&&(pn(e)?p.test(c.call(e)):Wo(e)&&wo.test(e))}function gn(e){return"number"==typeof e||Wo(e)&&w.call(e)==Ur}function _n(e){var t,i;return!(!Wo(e)||w.call(e)!=zr||un(e)||!(b.call(e,"constructor")||"function"!=typeof(t=e.constructor)||t instanceof t))&&(Ie(e,function(e,t){i=t}),i===hr||b.call(e,i))}function vn(e){return hn(e)&&w.call(e)==qr}function yn(e){return"string"==typeof e||Wo(e)&&w.call(e)==Fr}function bn(e){return Wo(e)&&qt(e.length)&&!!Io[w.call(e)]}function wn(e,t){return e<t}function Sn(e){var t=e?Dt(e):0;return qt(t)?t?ne(e):[]:qn(e)}function kn(e){return me(e,Rn(e))}var Tn=rt(function o(s,a,l,u,c){if(!hn(s))return s;var d=$t(a)&&(cn(a)||bn(a)),f=d?hr:Ln(a);return re(f||a,function(e,t){if(f&&(e=a[t=e]),Wo(e))u||(u=[]),c||(c=[]),function(e,t,i,n,r,o,s){for(var a=o.length,l=t[i];a--;)if(o[a]==l)return e[i]=s[a];var u=e[i],c=r?r(u,l,i,e,t):hr,d=c===hr;d&&($t(c=l)&&(cn(l)||bn(l))?c=cn(u)?u:$t(u)?ne(u):[]:_n(l)||un(l)?c=un(u)?kn(u):_n(u)?u:{}:d=!1),o.push(l),s.push(c),d?e[i]=n(c,l,r,o,s):(c===c?c!==u:u===u)&&(e[i]=c)}(s,a,t,o,l,u,c);else{var i=s[t],n=l?l(i,e,t,s,a):hr,r=n===hr;r&&(n=e),n===hr&&(!d||t in s)||!r&&(n===n?n===i:i!==i)||(s[t]=n)}}),s}),Cn=rt(function(e,t,i){return i?fe(e,t,i):pe(e,t)});var En=dt(Cn,function(e,t){return e===hr?t:e}),xn=dt(Tn,function e(t,i){return t===hr?i:Tn(t,i,e)}),Pn=mt(Ae),In=mt(Oe),An=vt(xe),On=vt(Pe),Mn=yt(Ae),Dn=yt(Oe);function Nn(e){return Me(e,Rn(e))}var Ln=R?function(e){var t=null==e?hr:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&$t(e)?Qt(e):hn(e)?R(e):[]}:Qt;function Rn(e){if(null==e)return[];hn(e)||(e=_(e));var t=e.length;t=t&&qt(t)&&(cn(e)||un(e))&&t||0;for(var i=e.constructor,n=-1,r="function"==typeof i&&i.prototype===e,o=I(t),s=t>0;++n<t;)o[n]=n+"";for(var a in e)s&&jt(a,t)||"constructor"==a&&(r||!b.call(e,a))||o.push(a);return o}var $n=bt(!0),jn=bt(),Hn=an(function(e,t){if(null==e)return{};if("function"!=typeof t[0])return t=ae(Ee(t),s),Yt(e,be(Rn(e),t));var n=Ze(t[0],t[1],3);return Wt(e,function(e,t,i){return!n(e,t,i)})});function Un(e){e=Xt(e);for(var t=-1,i=Ln(e),n=i.length,r=I(n);++t<n;){var o=i[t];r[t]=[o,e[o]]}return r}var zn=an(function(e,t){return null==e?{}:"function"==typeof t[0]?Wt(e,Ze(t[0],t[1],3)):Yt(e,Ee(t))});function qn(e){return Ge(e,Ln(e))}var Fn=lt(function(e,t,i){return t=t.toLowerCase(),e+(i?t.charAt(0).toUpperCase()+t.slice(1):t)});function Yn(e){return(e=Ro(e))&&e.replace(ko,Uo).replace(go,"")}var Wn=lt(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()});var Bn=wt(),Vn=wt(!0);function Gn(e,t){var i="";if(e=Ro(e),(t=+t)<1||!e||!L(t))return i;for(;t%2&&(i+=e),e+=e,t=D(t/2););return i}var Qn=lt(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}),Kn=lt(function(e,t,i){return e+(i?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))});function Xn(e,t,i){var n=e;return(e=Ro(e))?(i?Ht(n,t,i):null==t)?e.slice(Vo(e),Go(e)+1):(t+="",e.slice($o(e,t),jo(e,t)+1)):e}function Jn(e,t,i){return i&&Ht(e,t,i)&&(t=hr),(e=Ro(e)).match(t||Eo)||[]}var Zn=an(function(e,t){try{return e.apply(hr,t)}catch(e){return fn(e)?e:new n(e)}});function er(e,t,i){return i&&Ht(e,t,i)&&(t=hr),Wo(e)?ir(e):ge(e,t)}function tr(e){return e}function ir(e){return $e(_e(e,!0))}var nr=an(function(t,i){return function(e){return Rt(e,t,i)}}),rr=an(function(t,i){return function(e){return Rt(t,e,i)}});function or(n,e,t){if(null==t){var i=hn(e),r=i?Ln(e):hr,o=r&&r.length?Me(e,r):hr;(o?o.length:i)||(o=!1,t=e,e=n,n=this)}o||(o=Me(e,Ln(e)));var s=!0,a=-1,l=pn(n),u=o.length;!1===t?s=!1:hn(t)&&"chain"in t&&(s=t.chain);for(;++a<u;){var c=o[a],d=e[c];n[c]=d,l&&(n.prototype[c]=function(i){return function(){var e=this.__chain__;if(s||e){var t=n(this.__wrapped__);return(t.__actions__=ne(this.__actions__)).push({func:i,args:arguments,thisArg:n}),t.__chain__=e,t}return i.apply(n,le([this.value()],arguments))}}(d))}return n}function sr(){}function ar(e){return Ut(e)?He(e):(i=(t=e)+"",t=Jt(t),function(e){return De(e,t,i)});var t,i}var lr,ur=Et("ceil"),cr=Et("floor"),dr=ft(ln,q),fr=ft(wn,F),pr=Et("round");return K.prototype=X.prototype,(J.prototype=ve(X.prototype)).constructor=J,(Z.prototype=ve(X.prototype)).constructor=Z,ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ee.prototype.get=function(e){return"__proto__"==e?hr:this.__data__[e]},ee.prototype.has=function(e){return"__proto__"!=e&&b.call(this.__data__,e)},ee.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},te.prototype.push=function(e){var t=this.data;"string"==typeof e||hn(e)?t.set.add(e):t.hash[e]=!0},tn.Cache=ee,K.after=function(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new y(Mr);var i=e;e=t,t=i}return e=L(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments)}},K.ary=function(e,t,i){return i&&Ht(e,t,i)&&(t=hr),t=e&&null==t?e.length:$(+t||0,0),Pt(e,kr,hr,hr,hr,hr,t)},K.assign=Cn,K.at=Ti,K.before=Yi,K.bind=Wi,K.bindAll=Bi,K.bindKey=Vi,K.callback=er,K.chain=wi,K.chunk=function(e,t,i){t=(i?Ht(e,t,i):null==t)?1:$(D(t)||1,1);for(var n=0,r=e?e.length:0,o=-1,s=I(O(r/t));n<r;)s[++o]=Fe(e,n,n+=t);return s},K.compact=function(e){for(var t=-1,i=e?e.length:0,n=-1,r=[];++t<i;){var o=e[t];o&&(r[++n]=o)}return r},K.constant=function(e){return function(){return e}},K.countBy=Ci,K.create=function(e,t,i){var n=ve(e);return i&&Ht(e,t,i)&&(t=hr),t?pe(n,t):n},K.curry=Gi,K.curryRight=Qi,K.debounce=Ki,K.defaults=En,K.defaultsDeep=xn,K.defer=Xi,K.delay=Ji,K.difference=ei,K.drop=ti,K.dropRight=ii,K.dropRightWhile=function(e,t,i){return e&&e.length?Qe(e,It(t,i,3),!0,!0):[]},K.dropWhile=function(e,t,i){return e&&e.length?Qe(e,It(t,i,3),!0):[]},K.fill=function(e,t,i,n){var r=e?e.length:0;return r?(i&&"number"!=typeof i&&Ht(e,t,i)&&(i=0,n=r),function(e,t,i,n){var r=e.length;for((i=null==i?0:+i||0)<0&&(i=-i>r?0:r+i),(n=n===hr||n>r?r:+n||0)<0&&(n+=r),r=i>n?0:n>>>0,i>>>=0;i<r;)e[i++]=t;return e}(e,t,i,n)):[]},K.filter=xi,K.flatten=function(e,t,i){var n=e?e.length:0;return i&&Ht(e,t,i)&&(t=!1),n?Ee(e,t):[]},K.flattenDeep=function(e){return e&&e.length?Ee(e,!0):[]},K.flow=Zi,K.flowRight=en,K.forEach=Ai,K.forEachRight=Oi,K.forIn=An,K.forInRight=On,K.forOwn=Mn,K.forOwnRight=Dn,K.functions=Nn,K.groupBy=Mi,K.indexBy=Ni,K.initial=function(e){return ii(e,1)},K.intersection=ai,K.invert=function(e,t,i){i&&Ht(e,t,i)&&(t=hr);for(var n=-1,r=Ln(e),o=r.length,s={};++n<o;){var a=r[n],l=e[a];t?b.call(s,l)?s[l].push(a):s[l]=[a]:s[l]=a}return s},K.invoke=Li,K.keys=Ln,K.keysIn=Rn,K.map=Ri,K.mapKeys=$n,K.mapValues=jn,K.matches=ir,K.matchesProperty=function(e,t){return je(e,_e(t,!0))},K.memoize=tn,K.merge=Tn,K.method=nr,K.methodOf=rr,K.mixin=or,K.modArgs=nn,K.negate=function(e){if("function"!=typeof e)throw new y(Mr);return function(){return!e.apply(this,arguments)}},K.omit=Hn,K.once=function(e){return Yi(2,e)},K.pairs=Un,K.partial=rn,K.partialRight=on,K.partition=$i,K.pick=zn,K.pluck=function(e,t){return Ri(e,ar(t))},K.property=ar,K.propertyOf=function(t){return function(e){return De(t,Jt(e),e+"")}},K.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var i=0,n=Mt(),r=e.length;++i<r;)for(var o=0,s=e[i];(o=n(t,s,o))>-1;)x.call(t,o,1);return t},K.pullAt=ui,K.range=function(e,t,i){i&&Ht(e,t,i)&&(t=i=hr),e=+e||0,null==t?(t=e,e=0):t=+t||0;for(var n=-1,r=$(O((t-e)/((i=null==i?1:+i||0)||1)),0),o=I(r);++n<r;)o[n]=e,e+=i;return o},K.rearg=sn,K.reject=function(e,n,t){var i=cn(e)?se:Te;return n=It(n,t,3),i(e,function(e,t,i){return!n(e,t,i)})},K.remove=function(e,t,i){var n=[];if(!e||!e.length)return n;var r=-1,o=[],s=e.length;for(t=It(t,i,3);++r<s;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Ue(e,o),n},K.rest=ci,K.restParam=an,K.set=function(e,t,i){if(null==e)return e;for(var n=t+"",r=-1,o=(t=null!=e[n]||Ut(t,e)?[n]:Jt(t)).length,s=o-1,a=e;null!=a&&++r<o;){var l=t[r];hn(a)&&(r==s?a[l]=i:null==a[l]&&(a[l]=jt(t[r+1])?[]:{})),a=a[l]}return e},K.shuffle=function(e){return Ui(e,F)},K.slice=function(e,t,i){var n=e?e.length:0;return n?(i&&"number"!=typeof i&&Ht(e,t,i)&&(t=0,i=n),Fe(e,t,i)):[]},K.sortBy=function(e,n,t){if(null==e)return[];t&&Ht(e,n,t)&&(n=hr);var r=-1;return n=It(n,t,3),We(Re(e,function(e,t,i){return{criteria:n(e,t,i),index:++r,value:e}}),Ho)},K.sortByAll=qi,K.sortByOrder=function(e,t,i,n){return null==e?[]:(n&&Ht(t,i,n)&&(i=hr),cn(t)||(t=null==t?[]:[t]),cn(i)||(i=null==i?[]:[i]),Be(e,t,i))},K.spread=function(t){if("function"!=typeof t)throw new y(Mr);return function(e){return t.apply(this,e)}},K.take=function(e,t,i){return e&&e.length?((i?Ht(e,t,i):null==t)&&(t=1),Fe(e,0,t<0?0:t)):[]},K.takeRight=function(e,t,i){var n=e?e.length:0;return n?((i?Ht(e,t,i):null==t)&&(t=1),Fe(e,(t=n-(+t||0))<0?0:t)):[]},K.takeRightWhile=function(e,t,i){return e&&e.length?Qe(e,It(t,i,3),!1,!0):[]},K.takeWhile=function(e,t,i){return e&&e.length?Qe(e,It(t,i,3)):[]},K.tap=function(e,t,i){return t.call(i,e),e},K.throttle=function(e,t,i){var n=!0,r=!0;if("function"!=typeof e)throw new y(Mr);return!1===i?n=!1:hn(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),Ki(e,t,{leading:n,maxWait:+t,trailing:r})},K.thru=Si,K.times=function(e,t,i){if((e=D(e))<1||!L(e))return[];var n=-1,r=I(j(e,Y));for(t=Ze(t,i,1);++n<e;)n<Y?r[n]=t(n):t(n);return r},K.toArray=Sn,K.toPlainObject=kn,K.transform=function(e,n,r,t){var i=cn(e)||bn(e);if(n=It(n,t,4),null==r)if(i||hn(e)){var o=e.constructor;r=i?cn(e)?new o:[]:ve(pn(o)?o.prototype:hr)}else r={};return(i?re:Ae)(e,function(e,t,i){return n(r,e,t,i)}),r},K.union=pi,K.uniq=hi,K.unzip=mi,K.unzipWith=gi,K.values=qn,K.valuesIn=function(e){return Ge(e,Rn(e))},K.where=function(e,t){return xi(e,$e(t))},K.without=_i,K.wrap=function(e,t){return Pt(t=null==t?tr:t,wr,hr,[e],[])},K.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var i=arguments[e];if($t(i))var n=n?le(be(n,i),be(i,n)):i}return n?Ve(n):[]},K.zip=vi,K.zipObject=yi,K.zipWith=bi,K.backflow=en,K.collect=Ri,K.compose=en,K.each=Ai,K.eachRight=Oi,K.extend=Cn,K.iteratee=er,K.methods=Nn,K.object=yi,K.select=xi,K.tail=ci,K.unique=hi,or(K,K),K.add=function(e,t){return(+e||0)+(+t||0)},K.attempt=Zn,K.camelCase=Fn,K.capitalize=function(e){return(e=Ro(e))&&e.charAt(0).toUpperCase()+e.slice(1)},K.ceil=ur,K.clone=function(e,t,i,n){return t&&"boolean"!=typeof t&&Ht(e,t,i)?t=!1:"function"==typeof t&&(n=i,i=t,t=!1),"function"==typeof i?_e(e,t,Ze(i,n,3)):_e(e,t)},K.cloneDeep=function(e,t,i){return"function"==typeof t?_e(e,!0,Ze(t,i,3)):_e(e,!0)},K.deburr=Yn,K.endsWith=function(e,t,i){t+="";var n=(e=Ro(e)).length;return i=i===hr?n:j(i<0?0:+i||0,n),(i-=t.length)>=0&&e.indexOf(t,i)==i},K.escape=function(e){return(e=Ro(e))&&so.test(e)?e.replace(ro,zo):e},K.escapeRegExp=function(e){return(e=Ro(e))&&mo.test(e)?e.replace(ho,qo):e||"(?:)"},K.every=Ei,K.find=Pi,K.findIndex=ni,K.findKey=Pn,K.findLast=Ii,K.findLastIndex=ri,K.findLastKey=In,K.findWhere=function(e,t){return Pi(e,$e(t))},K.first=oi,K.floor=cr,K.get=function(e,t,i){var n=null==e?hr:De(e,Jt(t),t+"");return n===hr?i:n},K.gt=ln,K.gte=function(e,t){return e>=t},K.has=function(e,t){if(null==e)return!1;var i=b.call(e,t);if(!i&&!Ut(t)){if(null==(e=1==(t=Jt(t)).length?e:De(e,Fe(t,0,-1))))return!1;t=li(t),i=b.call(e,t)}return i||qt(e.length)&&jt(t,e.length)&&(cn(e)||un(e))},K.identity=tr,K.includes=Di,K.indexOf=si,K.inRange=function(e,t,i){return t=+t||0,i===hr?(i=t,t=0):i=+i||0,e>=j(t,i)&&e<$(t,i)},K.isArguments=un,K.isArray=cn,K.isBoolean=function(e){return!0===e||!1===e||Wo(e)&&w.call(e)==Rr},K.isDate=function(e){return Wo(e)&&w.call(e)==$r},K.isElement=function(e){return!!e&&1===e.nodeType&&Wo(e)&&!_n(e)},K.isEmpty=function(e){return null==e||($t(e)&&(cn(e)||yn(e)||un(e)||Wo(e)&&pn(e.splice))?!e.length:!Ln(e).length)},K.isEqual=dn,K.isError=fn,K.isFinite=function(e){return"number"==typeof e&&L(e)},K.isFunction=pn,K.isMatch=function(e,t,i,n){return i="function"==typeof i?Ze(i,n,3):hr,Le(e,Nt(t),i)},K.isNaN=function(e){return gn(e)&&e!=+e},K.isNative=mn,K.isNull=function(e){return null===e},K.isNumber=gn,K.isObject=hn,K.isPlainObject=_n,K.isRegExp=vn,K.isString=yn,K.isTypedArray=bn,K.isUndefined=function(e){return e===hr},K.kebabCase=Wn,K.last=li,K.lastIndexOf=function(e,t,i){var n=e?e.length:0;if(!n)return-1;var r=n;if("number"==typeof i)r=(i<0?$(n+i,0):j(i||0,n-1))+1;else if(i){var o=e[r=Xe(e,t,!0)-1];return(t===t?t===o:o!==o)?r:-1}if(t!==t)return Yo(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1},K.lt=wn,K.lte=function(e,t){return e<=t},K.max=dr,K.min=fr,K.noConflict=function(){return Oo._=f,this},K.noop=sr,K.now=Fi,K.pad=function(e,t,i){t=+t;var n=(e=Ro(e)).length;if(n>=t||!L(t))return e;var r=(t-n)/2,o=D(r);return(i=Ct("",O(r),i)).slice(0,o)+e+i},K.padLeft=Bn,K.padRight=Vn,K.parseInt=function(e,t,i){return(i?Ht(e,t,i):null==t)?t=0:t&&(t=+t),e=Xn(e),U(e,t||(bo.test(e)?16:10))},K.random=function(e,t,i){i&&Ht(e,t,i)&&(t=i=hr);var n=null==e,r=null==t;if(null==i&&(r&&"boolean"==typeof e?(i=e,e=1):"boolean"==typeof t&&(i=t,r=!0)),n&&r&&(r=!(t=1)),e=+e||0,r?(t=e,e=0):t=+t||0,i||e%1||t%1){var o=z();return j(e+o*(t-e+m("1e-"+((o+"").length-1))),t)}return ze(e,t)},K.reduce=ji,K.reduceRight=Hi,K.repeat=Gn,K.result=function(e,t,i){var n=null==e?hr:e[t];return n===hr&&(null==e||Ut(t,e)||(n=null==(e=1==(t=Jt(t)).length?e:De(e,Fe(t,0,-1)))?hr:e[li(t)]),n=n===hr?i:n),pn(n)?n.call(e):n},K.round=pr,K.runInContext=e,K.size=function(e){var t=e?Dt(e):0;return qt(t)?t:Ln(e).length},K.snakeCase=Qn,K.some=zi,K.sortedIndex=di,K.sortedLastIndex=fi,K.startCase=Kn,K.startsWith=function(e,t,i){return e=Ro(e),i=null==i?0:j(i<0?0:+i||0,e.length),e.lastIndexOf(t,i)==i},K.sum=function(e,t,i){return i&&Ht(e,t,i)&&(t=hr),1==(t=It(t,i,3)).length?function(e,t){for(var i=e.length,n=0;i--;)n+=+t(e[i])||0;return n}(cn(e)?e:Kt(e),t):(n=t,r=0,we(e,function(e,t,i){r+=+n(e,t,i)||0}),r);var n,r},K.template=function(s,e,t){var i=K.templateSettings;t&&Ht(s,e,t)&&(e=t=hr),s=Ro(s);var a,l,n=fe(pe({},(e=fe(pe({},t||e),i,de)).imports),i.imports,de),r=Ln(n),o=Ge(n,r),u=0,c=e.interpolate||To,d="__p += '",f=v((e.escape||To).source+"|"+c.source+"|"+(c===uo?vo:To).source+"|"+(e.evaluate||To).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Po+"]")+"\n";s.replace(f,function(e,t,i,n,r,o){return i||(i=n),d+=s.slice(u,o).replace(Co,Fo),t&&(a=!0,d+="' +\n__e("+t+") +\n'"),r&&(l=!0,d+="';\n"+r+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=o+e.length,e}),d+="';\n";var h=e.variable;h||(d="with (obj) {\n"+d+"\n}\n"),d=(l?d.replace(eo,""):d).replace(to,"$1").replace(io,"$1;"),d="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Zn(function(){return g(r,p+"return "+d).apply(hr,o)});if(m.source=d,fn(m))throw m;return m},K.trim=Xn,K.trimLeft=function(e,t,i){var n=e;return(e=Ro(e))?(i?Ht(n,t,i):null==t)?e.slice(Vo(e)):e.slice($o(e,t+"")):e},K.trimRight=function(e,t,i){var n=e;return(e=Ro(e))?(i?Ht(n,t,i):null==t)?e.slice(0,Go(e)+1):e.slice(0,jo(e,t+"")+1):e},K.trunc=function(e,t,i){i&&Ht(e,t,i)&&(t=hr);var n=Cr,r=Er;if(null!=t)if(hn(t)){var o="separator"in t?t.separator:o;n="length"in t?+t.length||0:n,r="omission"in t?Ro(t.omission):r}else n=+t||0;if(n>=(e=Ro(e)).length)return e;var s=n-r.length;if(s<1)return r;var a=e.slice(0,s);if(null==o)return a+r;if(vn(o)){if(e.slice(s).search(o)){var l,u,c=e.slice(0,s);for(o.global||(o=v(o.source,(yo.exec(o)||"")+"g")),o.lastIndex=0;l=o.exec(c);)u=l.index;a=a.slice(0,null==u?s:u)}}else if(e.indexOf(o,s)!=s){var d=a.lastIndexOf(o);d>-1&&(a=a.slice(0,d))}return a+r},K.unescape=function(e){return(e=Ro(e))&&oo.test(e)?e.replace(no,Qo):e},K.uniqueId=function(e){var t=++d;return Ro(e)+t},K.words=Jn,K.all=Ei,K.any=zi,K.contains=Di,K.eq=dn,K.detect=Pi,K.foldl=ji,K.foldr=Hi,K.head=oi,K.include=Di,K.inject=ji,or(K,(lr={},Ae(K,function(e,t){K.prototype[t]||(lr[t]=e)}),lr),!1),K.sample=Ui,K.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Ui(e,t)}):Ui(this.value())},K.VERSION=mr,re(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){K[e].placeholder=K}),re(["drop","take"],function(n,r){Z.prototype[n]=function(e){var t=this.__filtered__;if(t&&!r)return new Z(this);e=null==e?1:$(D(e)||0,0);var i=this.clone();return t?i.__takeCount__=j(i.__takeCount__,e):i.__views__.push({size:e,type:n+(i.__dir__<0?"Right":"")}),i},Z.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),re(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=Or;Z.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:It(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),re(["first","last"],function(e,t){var i="take"+(t?"Right":"");Z.prototype[e]=function(){return this[i](1).value()[0]}}),re(["initial","rest"],function(e,t){var i="drop"+(t?"":"Right");Z.prototype[e]=function(){return this.__filtered__?new Z(this):this[i](1)}}),re(["pluck","where"],function(e,t){var i=t?"filter":"map",n=t?$e:ar;Z.prototype[e]=function(e){return this[i](n(e))}}),Z.prototype.compact=function(){return this.filter(tr)},Z.prototype.reject=function(t,e){return t=It(t,e,1),this.filter(function(e){return!t(e)})},Z.prototype.slice=function(e,t){e=null==e?0:+e||0;var i=this;return i.__filtered__&&(e>0||t<0)?new Z(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==hr&&(i=(t=+t||0)<0?i.dropRight(-t):i.take(t-e)),i)},Z.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},Z.prototype.toArray=function(){return this.take(F)},Ae(Z.prototype,function(d,e){var f=/^(?:filter|map|reject)|While$/.test(e),p=/^(?:first|last)$/.test(e),h=K[p?"take"+("last"==e?"Right":""):e];h&&(K.prototype[e]=function(){var t=p?[1]:arguments,i=this.__chain__,e=this.__wrapped__,n=!!this.__actions__.length,r=e instanceof Z,o=t[0],s=r||cn(e);s&&f&&"function"==typeof o&&1!=o.length&&(r=s=!1);var a=function(e){return p&&i?h(e,1)[0]:h.apply(hr,le([e],t))},l={func:Si,args:[a],thisArg:hr},u=r&&!n;if(p&&!i)return u?((e=e.clone()).__actions__.push(l),d.call(e)):h.call(hr,this.value())[0];if(p||!s)return this.thru(a);e=u?e:new Z(this);var c=d.apply(e,t);return c.__actions__.push(l),new J(c,i)})}),re(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var i=(/^(?:replace|split)$/.test(e)?u:a)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);K.prototype[e]=function(){var t=arguments;return r&&!this.__chain__?i.apply(this.value(),t):this[n](function(e){return i.apply(e,t)})}}),Ae(Z.prototype,function(e,t){var i=K[t];if(i){var n=i.name+"";(Q[n]||(Q[n]=[])).push({name:t,func:i})}}),Q[Tt(hr,_r).name]=[{name:"wrapper",func:hr}],Z.prototype.clone=function(){var e=new Z(this.__wrapped__);return e.__actions__=ne(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ne(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ne(this.__views__),e},Z.prototype.reverse=function(){if(this.__filtered__){var e=new Z(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Z.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,i=cn(e),n=t<0,r=i?e.length:0,o=function(e,t,i){for(var n=-1,r=i.length;++n<r;){var o=i[n],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=j(t,e+s);break;case"takeRight":e=$(e,t-s)}}return{start:e,end:t}}(0,r,this.__views__),s=o.start,a=o.end,l=a-s,u=n?a:s-1,c=this.__iteratees__,d=c.length,f=0,p=j(l,this.__takeCount__);if(!i||r<Ir||r==l&&p==l)return Ke(e,this.__actions__);var h=[];e:for(;l--&&f<p;){for(var m=-1,g=e[u+=t];++m<d;){var _=c[m],v=_.iteratee,y=_.type,b=v(g);if(y==Or)g=b;else if(!b){if(y==Ar)continue e;break e}}h[f++]=g}return h},K.prototype.chain=function(){return wi(this)},K.prototype.commit=function(){return new J(this.value(),this.__chain__)},K.prototype.concat=ki,K.prototype.plant=function(e){for(var t,i=this;i instanceof X;){var n=Zt(i);t?r.__wrapped__=n:t=n;var r=n;i=i.__wrapped__}return r.__wrapped__=e,t},K.prototype.reverse=function(){var e=this.__wrapped__,t=function(e){return e.reverse()};if(e instanceof Z){var i=e;return this.__actions__.length&&(i=new Z(this)),(i=i.reverse()).__actions__.push({func:Si,args:[t],thisArg:hr}),new J(i,this.__chain__)}return this.thru(t)},K.prototype.toString=function(){return this.value()+""},K.prototype.run=K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=function(){return Ke(this.__wrapped__,this.__actions__)},K.prototype.collect=K.prototype.map,K.prototype.head=K.prototype.first,K.prototype.select=K.prototype.filter,K.prototype.tail=K.prototype.rest,K}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Oo._=Ko,define("lodash",[],function(){return Ko})):d&&f?g?(f.exports=Ko)._=Ko:d._=Ko:Oo._=Ko}).call(this),require.config({map:{"*":{royalslider:"royalSlider","es6-promises":"sys/polyfills/promises",promises:"sys/polyfills/promises"}},shim:{royalSlider:{deps:["jquery"]},fetch:{exports:"(typeof self !== 'undefined' ? self : this).fetch",deps:["sys/polyfills/promises"]}},bundles:{"impresa-widgets":["sys/bus","sys/utils","sys/polyfills","sys/polyfills/promises","sys/store","sys/store/permanent","sys/store/session","widgets/base","widgets/content-loader","widgets/content-slider","widgets/gallery","widgets/infinite-scroll","widgets/picture-loader","widgets/read-more","widgets/social-share","widgets/tabs","widgets/telefunken-widget","widgets/visibility-checker","royalSlider","fetch"]}}),define("sys/polyfills/promises",["bluebird"],function(){var e=require("bluebird");return"undefined"!==typeof window&&null!==window?window.Promise=e:"undefined"!==typeof self&&null!==self&&(self.Promise=e),e}),function(e){define("fetch",["sys/polyfills/promises"],function(){return function(){return function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,i="Symbol"in e&&"iterator"in Symbol,s="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),n="FormData"in e,r="ArrayBuffer"in e;d.prototype.append=function(e,t){e=l(e),t=u(t);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(t)},d.prototype.delete=function(e){delete this.map[l(e)]},d.prototype.get=function(e){var t=this.map[l(e)];return t?t[0]:null},d.prototype.getAll=function(e){return this.map[l(e)]||[]},d.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},d.prototype.set=function(e,t){this.map[l(e)]=[u(t)]},d.prototype.forEach=function(i,n){Object.getOwnPropertyNames(this.map).forEach(function(t){this.map[t].forEach(function(e){i.call(n,e,t,this)},this)},this)},d.prototype.keys=function(){var i=[];return this.forEach(function(e,t){i.push(t)}),c(i)},d.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},d.prototype.entries=function(){var i=[];return this.forEach(function(e,t){i.push([t,e])}),c(i)},i&&(d.prototype[Symbol.iterator]=d.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this)},m.call(g.prototype),m.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];v.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=d,e.Request=g,e.Response=v,e.fetch=function(i,r){return new Promise(function(n,e){var t;t=g.prototype.isPrototypeOf(i)&&!r?i:new g(i,r);var o=new XMLHttpRequest;o.onload=function(){var e,r,t={status:o.status,statusText:o.statusText,headers:(e=o,r=new d,(e.getAllResponseHeaders()||"").trim().split("\n").forEach(function(e){var t=e.trim().split(":"),i=t.shift().trim(),n=t.join(":").trim();r.append(i,n)}),r),url:"responseURL"in o?o.responseURL:/^X-Request-URL:/m.test(o.getAllResponseHeaders())?o.getResponseHeader("X-Request-URL"):void 0},i="response"in o?o.response:o.responseText;n(new v(i,t))},o.onerror=function(){e(new TypeError("Network request failed"))},o.ontimeout=function(){e(new TypeError("Network request failed"))},o.open(t.method,t.url,!0),"include"===t.credentials&&(o.withCredentials=!0),"responseType"in o&&s&&(o.responseType="blob"),t.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"===typeof t._bodyInit?null:t._bodyInit)})},e.fetch.polyfill=!0}function l(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!==typeof e&&(e=String(e)),e}function c(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach(function(e,t){this.append(t,e)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(i){return new Promise(function(e,t){i.onload=function(){e(i.result)},i.onerror=function(){t(i.error)}})}function h(e){var t=new FileReader;return t.readAsArrayBuffer(e),p(t)}function m(){return this.bodyUsed=!1,this._initBody=function(e){if("string"===typeof(this._bodyInit=e))this._bodyText=e;else if(s&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(n&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!r||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s?(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(h)},this.text=function(){var e,t,i=f(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,(t=new FileReader).readAsText(e),p(t);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=f(this);return e||Promise.resolve(this._bodyText)},n&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(e,t){var i,n,r=(t=t||{}).body;if(g.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,r||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(i=t.method||this.method||"GET",n=i.toUpperCase(),o.indexOf(n)>-1?n:i),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function _(e){var r=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),i=t.shift().replace(/\+/g," "),n=t.join("=").replace(/\+/g," ");r.append(decodeURIComponent(i),decodeURIComponent(n))}}),r}function v(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof d?t.headers:new d(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!==typeof self?self:this),("undefined"!==typeof self?self:this).fetch}.apply(e,arguments)})}(this),define("sys/polyfills/console",[],function(){return function(){for(var e,t=function(){},i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],n=i.length,r=window.console=window.console||{};n--;)r[e=i[n]]||(r[e]=t)}(),window.console}),define("sys/polyfills/object-create",[],function(){var i;return"function"!=typeof Object.create&&(Object.create=(i=function(){},function(e){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=typeof e)throw TypeError("Argument must be an object");i.prototype=e;var t=new i;return i.prototype=null,t})),Object.create}),define("sys/polyfills/matchmedia",[],function(){return window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var i,n=document.createElement("style"),e=document.getElementsByTagName("script")[0];n.type="text/css",n.id="matchmediajs-test",e.parentNode.insertBefore(n,e),i="getComputedStyle"in window&&window.getComputedStyle(n,null)||n.currentStyle,t={matchMedium:function(e){var t="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return n.styleSheet?n.styleSheet.cssText=t:n.textContent=t,"1px"===i.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),window.matchMedia}),define("sys/polyfills/raf",[],function(){return function(){for(var o=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var i=(new Date).getTime(),n=Math.max(0,16-(i-o)),r=window.setTimeout(function(){e(i+n)},n);return o=i+n,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),{requestAnimationFrame:window.requestAnimationFrame,cancelAnimationFrame:window.cancelAnimationFrame}}),define("sys/polyfills/startswith",[],function(){return String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e}),String.prototype.startsWith}),define("sys/polyfills",["require","sys/polyfills/promises","fetch","sys/polyfills/console","sys/polyfills/object-create","sys/polyfills/matchmedia","sys/polyfills/raf","sys/polyfills/startswith"],function(e){e("sys/polyfills/promises"),e("fetch"),e("sys/polyfills/console"),e("sys/polyfills/object-create"),e("sys/polyfills/matchmedia"),e("sys/polyfills/raf"),e("sys/polyfills/startswith")}),define("widgets/base",["jquery"],function(a){"use strict";function e(e,t){this._$element=a(t),this._$element.data(e,this)}return e.init=function(e,i,n,r){return console.log("[%s] Initializing widgets",i),a(e).map(function(e,t){return a(t).data(i)||new n(t,r||{})}).toArray()},e.start=function(e,r,o,s){return console.log("[%s] Initializing widgets",r),a(e).map(function(e,t){var i,n;return(n=(i=a(t)).data(r))||(n=new o(i,s||{}),console.log("[%s] Starting widget",r),n.start()),n}).toArray()},e.destroy=function(e,r){console.log("[%s] Destroying widgets",r),a(e).each(function(e,t){var i,n;(n=(i=a(t)).data(r))&&(n.stop(),i.removeData(r))})},e.find=function(e,i){return a(e).map(function(e,t){return a(t).data(i)}).toArray().filter(function(e){return!!e})},e.option=function(e,t){var i=a(e).attr("data-imp-"+t);return""===i&&(i=!0),i},e._getInternetExplorerVersion=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e},e.prototype.on=function(){this._$element.on.apply(this._$element,arguments)},e.prototype.off=function(){this._$element.off.apply(this._$element,arguments)},e.prototype.trigger=function(){this._$element.trigger.apply(this._$element,arguments)},e}),define("widgets/content-slider",["widgets/base","bxslider-4"],function(i){"use strict";var n="imp-content-slider";function r(e,t){i.call(this,n,e),this._options=t}return r.prototype=Object.create(i.prototype),r.init=function(e,t){return i.init(e,n,r,t)},r.start=function(e,t){return i.start(e,n,r,t)},r.find=function(e){return i.find(e,n)},r.destroy=function(e){return i.destroy(e,n)},r.prototype.start=function(){this._$slider=this._$element.bxSlider(this._options)},r.prototype.stop=function(){this._$slider.destroySlider()},r}),define("sys/bus",["require","lodash","postal","postal.federation","postal.xframe"],function(e){var t=e("lodash"),i=e("postal");e("postal.federation"),e("postal.xframe");var n,r="impresa",o=r+".error",s={ALL:r+".*",ERRORS:o+".*",CONTENT:{LOADED:r+".content.loaded",LOAD_ERROR:o+".content.loaded"},PAGE:{LOADED:r+".page.loaded",LOAD_ERROR:o+".page.loaded"},EPG:{LOADED:r+".epg.loaded",LOAD_ERROR:o+".epg.loaded"},TAB:{SELECTED:r+".tab.selected"},VIDEO:{PLAY:r+".video.play",PAUSE:r+".video.pause",STARTED:r+".video.started",ENDED:r+".video.ended",SEEKED:r+".video.seeked",FIRST_QUARTILE:r+".video.first_quartile",MIDPOINT:r+".video.midpoint",THIRD_QUARTILE:r+".video.third_quartile",PREROLL_START:r+".video.preroll.start",PREROLL_END:r+".video.preroll.end",PLAYLIST_NEXT:r+".video.playlist.next",PLAYLIST_PREV:r+".video.playlist.prev",PLAYLIST_END:r+".video.playlist.end"},SOCIAL:{SHARED:r+".social.shared"},USER:{LOGIN:r+".user.login",LOGOUT:r+".user.logout",AUTHENTICATION:r+".user.authentication"},STORE:{PERMANENT:{UPDATED:r+".store.permanent.updated"},SESSION:{UPDATED:r+".store.temporary.updated"}},GALLERY:{SLIDE_CHANGED:r+".gallery.slide.changed"},ARTICLE:{READ_MORE:r+".article.read_more"}};function a(e,t){console.debug("[%s] Message","imp-bus",t)}return t.defer(function(){i.instanceId("bus-"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)),i.fedx.configure({filterMode:"blacklist"}),i.fedx.signalReady()}),{subscribe:t.bind(i.subscribe,i),unsubscribe:t.bind(i.unsubscribe,i),publish:t.bind(i.publish,i),_toggleDebug:function(){return n?n():n=i.addWireTap(a),!!n},TOPICS:s}}),function(e){define("royalSlider",["jquery"],function(){return function(){!function(A){"use strict";function r(e,t){var i,o=this,n=window.navigator,r=n.userAgent.toLowerCase();o.uid=A.rsModules.uid++,o.ns=".rs"+o.uid;var s,a=document.createElement("div").style,l=["webkit","Moz","ms","O"],u="",c=0;for(i=0;i<l.length;i++)s=l[i],!u&&s+"Transform"in a&&(u=s),s=s.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[s+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s+"CancelAnimationFrame"]||window[s+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var i=(new Date).getTime(),n=Math.max(0,16-(i-c)),r=window.setTimeout(function(){e(i+n)},n);return c=i+n,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),o.isIPAD=r.match(/(ipad)/),o.isIOS=o.isIPAD||r.match(/(iphone|ipod)/);var d,f,p={browser:(f=/(chrome)[ \/]([\w.]+)/.exec(d=r)||/(webkit)[ \/]([\w.]+)/.exec(d)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(d)||/(msie) ([\w.]+)/.exec(d)||d.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(d)||[])[1]||"",version:f[2]||"0"},h={};if(p.browser&&(h[p.browser]=!0,h.version=p.version),h.chrome&&(h.webkit=!0),o._browser=h,o.isAndroid=r.indexOf("android")>-1,o.slider=A(e),o.ev=A(o),o._doc=A(document),o.st=A.extend({},A.fn.royalSlider.defaults,t),o._currAnimSpeed=o.st.transitionSpeed,o._minPosOffset=0,o.st.allowCSS3&&(!h.webkit||o.st.allowCSS3OnWebkit)){var m=u+(u?"T":"t");o._useCSS3Transitions=m+"ransform"in a&&m+"ransition"in a,o._useCSS3Transitions&&(o._use3dTransform=u+(u?"P":"p")+"erspective"in a)}u=u.toLowerCase(),o._vendorPref="-"+u+"-",o._slidesHorizontal="vertical"!==o.st.slidesOrientation,o._reorderProp=o._slidesHorizontal?"left":"top",o._sizeProp=o._slidesHorizontal?"width":"height",o._prevNavItemId=-1,o._isMove="fade"!==o.st.transitionType,o._isMove||(o.st.sliderDrag=!1,o._fadeZIndex=10),o._opacityCSS="z-index:0; display:none; opacity:0;",o._newSlideId=0,o._sPosition=0,o._nextSlidePos=0,A.each(A.rsModules,function(e,t){"uid"!==e&&t.call(o)}),o.slides=[],o._idCount=0,(o.st.slides?A(o.st.slides):o.slider.children().detach()).each(function(){o._parseNode(this,!0)}),o.st.randomizeSlides&&o.slides.sort(function(){return.5-Math.random()}),o.numSlides=o.slides.length,o._refreshNumPreloadImages(),o.st.startSlideId?o.st.startSlideId>o.numSlides-1&&(o.st.startSlideId=o.numSlides-1):o.st.startSlideId=0,o._newSlideId=o.staticSlideId=o.currSlideId=o._realId=o.st.startSlideId,o.currSlide=o.slides[o.currSlideId],o._accelerationPos=0,o.pointerMultitouch=!1,o.slider.addClass((o._slidesHorizontal?"rsHor":"rsVer")+(o._isMove?"":" rsFade"));var g='<div class="rsOverflow"><div class="rsContainer">';o.slidesSpacing=o.st.slidesSpacing,o._slideSize=(o._slidesHorizontal?o.slider.width():o.slider.height())+o.st.slidesSpacing,o._preload=Boolean(o._numPreloadImages>0),o.numSlides<=1&&(o._loop=!1);var _,v,y=o._loop&&o._isMove?2===o.numSlides?1:2:0;for(o._loopHelpers=y,o._maxImages=o.numSlides<6?o.numSlides:6,o._currBlockIndex=0,o._idOffset=0,o.slidesJQ=[],i=0;i<o.numSlides;i++)o.slidesJQ.push(A((_=i,v=void 0,'<div style="'+(o._isMove?"":_!==o.currSlideId?o._opacityCSS:"z-index:0;")+'" class="rsSlide '+(v||"")+'"></div>')));o._sliderOverflow=g=A(g+"</div></div>");var b=o.ns,w=function(e,t,i,n,r){o._downEvent=e+t+b,o._moveEvent=e+i+b,o._upEvent=e+n+b,r&&(o._cancelEvent=e+r+b)},S=n.pointerEnabled;o.pointerEnabled=S||n.msPointerEnabled,o.pointerEnabled?(o.hasTouch=!1,o._lastItemFriction=.2,o.pointerMultitouch=Boolean(n[(S?"m":"msM")+"axTouchPoints"]>1),S?w("pointer","down","move","up","cancel"):w("MSPointer","Down","Move","Up","Cancel")):(o.isIOS?o._downEvent=o._moveEvent=o._upEvent=o._cancelEvent="":w("mouse","down","move","up"),"ontouchstart"in window||"createTouch"in document?(o.hasTouch=!0,o._downEvent+=" touchstart"+b,o._moveEvent+=" touchmove"+b,o._upEvent+=" touchend"+b,o._cancelEvent+=" touchcancel"+b,o._lastItemFriction=.5,o.st.sliderTouch&&(o._hasDrag=!0)):(o.hasTouch=!1,o._lastItemFriction=.2)),o.st.sliderDrag&&(o._hasDrag=!0,h.msie||h.opera?o._grabCursor=o._grabbingCursor="move":h.mozilla?(o._grabCursor="-moz-grab",o._grabbingCursor="-moz-grabbing"):h.webkit&&-1!=n.platform.indexOf("Mac")&&(o._grabCursor="-webkit-grab",o._grabbingCursor="-webkit-grabbing"),o._setGrabCursor()),o.slider.html(g),o._controlsContainer=o.st.controlsInside?o._sliderOverflow:o.slider,o._slidesContainer=o._sliderOverflow.children(".rsContainer"),o.pointerEnabled&&o._slidesContainer.css((S?"":"-ms-")+"touch-action",o._slidesHorizontal?"pan-y":"pan-x"),o._preloader=A('<div class="rsPreloader"></div>');var k,T=o._slidesContainer.children(".rsSlide");if(o._currHolder=o.slidesJQ[o.currSlideId],o._selectedSlideHolder=0,o._useCSS3Transitions)if(o._TP="transition-property",o._TD="transition-duration",o._TTF="transition-timing-function",o._yProp=o._xProp=o._vendorPref+"transform",o._use3dTransform?(h.webkit&&!h.chrome&&o.slider.addClass("rsWebkit3d"),o._tPref1="translate3d(",o._tPref2="px, ",o._tPref3="px, 0px)"):(o._tPref1="translate(",o._tPref2="px, ",o._tPref3="px)"),o._isMove)o._slidesContainer[o._vendorPref+o._TP]=o._vendorPref+"transform";else{var C={};C[o._vendorPref+o._TP]="opacity",C[o._vendorPref+o._TD]=o.st.transitionSpeed+"ms",C[o._vendorPref+o._TTF]=o.st.css3easeInOut,T.css(C)}else o._xProp="left",o._yProp="top";if(A(window).on("resize"+o.ns,function(){k&&clearTimeout(k),k=setTimeout(function(){o.updateSliderSize()},50)}),o.ev.trigger("rsAfterPropsSetup"),o.updateSliderSize(),o.st.keyboardNavEnabled&&o._bindKeyboardNav(),o.st.arrowsNavHideOnTouch&&(o.hasTouch||o.pointerMultitouch)&&(o.st.arrowsNav=!1),o.st.arrowsNav){var E="rsArrow",x=o._controlsContainer;if(A('<div class="'+E+" "+E+'Left"><div class="'+E+'Icn"></div></div><div class="'+E+" "+E+'Right"><div class="'+E+'Icn"></div></div>').appendTo(x),o._arrowLeft=x.children("."+E+"Left").click(function(e){e.preventDefault(),o.prev()}),o._arrowRight=x.children("."+E+"Right").click(function(e){e.preventDefault(),o.next()}),o.st.arrowsNavAutoHide&&!o.hasTouch){o._arrowLeft.addClass("rsHidden"),o._arrowRight.addClass("rsHidden");var P=x;P.one("mousemove.arrowshover",function(){o._arrowLeft.removeClass("rsHidden"),o._arrowRight.removeClass("rsHidden")}),P.hover(function(){o._arrowsAutoHideLocked||(o._arrowLeft.removeClass("rsHidden"),o._arrowRight.removeClass("rsHidden"))},function(){o._arrowsAutoHideLocked||(o._arrowLeft.addClass("rsHidden"),o._arrowRight.addClass("rsHidden"))})}o.ev.on("rsOnUpdateNav",function(){o._updateArrowsNav()}),o._updateArrowsNav()}o.hasTouch&&o.st.sliderTouch||!o.hasTouch&&o.st.sliderDrag?o._slidesContainer.on(o._downEvent,function(e){o._onDragStart(e)}):o.dragSuccess=!1;var I=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];o._slidesContainer.click(function(e){if(!o.dragSuccess){var t=A(e.target).attr("class");if(-1!==A.inArray(t,I)&&o.toggleVideo())return!1;if(o.st.navigateByClick&&!o._blockActions){if(A(e.target).closest(".rsNoDrag",o._currHolder).length)return!0;o._mouseNext(e)}o.ev.trigger("rsSlideClick",e)}}).on("click.rs","a",function(e){if(o.dragSuccess)return!1;o._blockActions=!0,setTimeout(function(){o._blockActions=!1},3)}),o.ev.trigger("rsAfterInit")}A.rsModules||(A.rsModules={uid:0}),r.prototype={constructor:r,_mouseNext:function(e){var t=this,i=e[t._slidesHorizontal?"pageX":"pageY"]-t._sliderOffset;i>=t._nextSlidePos?t.next():i<0&&t.prev()},_refreshNumPreloadImages:function(){var e,t=this;e=t.st.numImagesToPreload,t._loop=t.st.loop,t._loop&&(2===t.numSlides?(t._loop=!1,t.st.loopRewind=!0):t.numSlides<2&&(t.st.loopRewind=t._loop=!1)),t._loop&&e>0&&(t.numSlides<=4?e=1:t.st.numImagesToPreload>(t.numSlides-1)/2&&(e=Math.floor((t.numSlides-1)/2))),t._numPreloadImages=e},_parseNode:function(e,t){var i,n,r=this,o={},s=!0;if(e=A(e),r._currContent=e,r.ev.trigger("rsBeforeParseNode",[e,o]),!o.stopParsing)return e=r._currContent,o.id=r._idCount,o.contentAdded=!1,r._idCount++,o.images=[],o.isBig=!1,o.hasCover||(e.hasClass("rsImg")?(n=e,i=!0):(n=e.find(".rsImg")).length&&(i=!0),i?(o.bigImage=n.eq(0).attr("data-rsBigImg"),n.each(function(){var e=A(this);e.is("a")?a(e,"href"):e.is("img")?a(e,"src"):a(e)})):e.is("img")&&(e.addClass("rsImg rsMainSlideImage"),a(e,"src"))),(n=e.find(".rsCaption")).length&&(o.caption=n.remove()),o.content=e,r.ev.trigger("rsAfterParseNode",[e,o]),t&&r.slides.push(o),0===o.images.length&&(o.isLoaded=!0,o.isRendered=!1,o.isLoading=!1,o.images=null),o;function a(e,t){if(t?o.images.push(e.attr(t)):o.images.push(e.text()),s){s=!1,o.caption="src"===t?e.attr("alt"):e.contents(),o.image=o.images[0],o.videoURL=e.attr("data-rsVideo");var i=e.attr("data-rsw"),n=e.attr("data-rsh");"undefined"!==typeof i&&!1!==i&&"undefined"!==typeof n&&!1!==n?(o.iW=parseInt(i,10),o.iH=parseInt(n,10)):r.st.imgWidth&&r.st.imgHeight&&(o.iW=r.st.imgWidth,o.iH=r.st.imgHeight)}}},_bindKeyboardNav:function(){var t,i,n=this,r=function(e){37===e?n.prev():39===e&&n.next()};n._doc.on("keydown"+n.ns,function(e){n._isDragging||37!==(i=e.keyCode)&&39!==i||t||(e.preventDefault(),r(i),t=setInterval(function(){r(i)},700))}).on("keyup"+n.ns,function(e){t&&(clearInterval(t),t=null)})},goTo:function(e,t){e!==this.currSlideId&&this._moveTo(e,this.st.transitionSpeed,!0,!t)},destroy:function(e){var t=this;t.ev.trigger("rsBeforeDestroy"),t._doc.off("keydown"+t.ns+" keyup"+t.ns+" "+t._moveEvent+" "+t._upEvent),t._slidesContainer.off(t._downEvent+" click"),t.slider.data("royalSlider",null),A.removeData(t.slider,"royalSlider"),A(window).off("resize"+t.ns),t.loadingTimeout&&clearTimeout(t.loadingTimeout),e&&t.slider.remove(),t.slides=null,t.slider=null,t.ev=null},_updateBlocksContent:function(n,e){var t,i,r=this,o=r._loop,s=r.numSlides;if(!isNaN(e))return b(e);var a,l,u=r.currSlideId,c=n?Math.abs(r._prevSlideId-r.currSlideId)>=r.numSlides-1?0:1:r._numPreloadImages,d=Math.min(2,c),f=!1,p=!1;for(i=u;i<u+1+d;i++)if(l=b(i),(t=r.slides[l])&&(!t.isAdded||!t.positionSet)){f=!0;break}for(i=u-1;i>u-1-d;i--)if(l=b(i),(t=r.slides[l])&&(!t.isAdded||!t.positionSet)){p=!0;break}if(f)for(i=u;i<u+c+1;i++)l=b(i),a=Math.floor((r._realId-(u-i))/r.numSlides)*r.numSlides,(t=r.slides[l])&&_(t,l);if(p)for(i=u-1;i>u-1-c;i--)l=b(i),a=Math.floor((r._realId-(u-i))/s)*s,(t=r.slides[l])&&_(t,l);if(!n){var h=b(u-c),m=b(u+c),g=h>m?0:h;for(i=0;i<s;i++)h>m&&i>h-1||(i<g||i>m)&&(t=r.slides[i])&&t.holder&&(t.holder.detach(),t.isAdded=!1)}function _(e,t,i){e.isAdded?(v(t,e),y(t,e)):(i||(i=r.slidesJQ[t]),e.holder?i=e.holder:(i=r.slidesJQ[t]=A(i),e.holder=i),e.appendOnLoaded=!1,y(t,e,i),v(t,e),r._addBlockToContainer(e,i,n),e.isAdded=!0)}function v(e,t){t.contentAdded||(r.setItemHtml(t,n),n||(t.contentAdded=!0))}function y(e,t,i){r._isMove&&(i||(i=r.slidesJQ[e]),i.css(r._reorderProp,(e+r._idOffset+a)*r._slideSize))}function b(e){if(o){if(e>s-1)return b(e-s);if(e<0)return b(s+e)}return e}},setItemHtml:function(s,n){var a=this,e=function(){if(!s.images)return s.isRendered=!0,s.isLoaded=!0,s.isLoading=!1,void u(!0);if(!s.isLoading){var e,i;s.content.hasClass("rsImg")?(e=s.content,i=!0):e=s.content.find(".rsImg:not(img)"),e&&!e.is("img")&&e.each(function(){var e=A(this),t='<img class="rsImg" src="'+(e.is("a")?e.attr("href"):e.text())+'" />';i?s.content=A(t):e.replaceWith(t)}),e=i?s.content:s.content.find("img.rsImg"),c(),e.eq(0).addClass("rsMainSlideImage"),s.iW&&s.iH&&(s.isLoaded||a._resizeImage(s),u()),s.isLoading=!0;var t="load.rs error.rs";if(s.isBig)A("<img />").on(t,function(e){A(this).off(t),l([this],!0)}).attr("src",s.image);else{s.loaded=[];for(var n=function(e){A(this).off(t),s.loaded.push(this),s.loaded.length===s.numStartedLoad&&l(s.loaded,!1)},r=s.numStartedLoad=0;r<s.images.length;r++){var o=A("<img />");s.numStartedLoad++,o.on("load.rs error.rs",n).attr("src",s.images[r])}}}},l=function(e,t){if(e.length){var i=e[0];i.src;if(t!==s.isBig){var n=s.holder.children();return void(n&&n.length>1&&d())}if(s.iW&&s.iH)return void o();if(s.iW=i.width,s.iH=i.height,s.iW&&s.iH)return void o();var r=new Image;r.onload=function(){r.width?(s.iW=r.width,s.iH=r.height,o()):setTimeout(function(){r.width&&(s.iW=r.width,s.iH=r.height),o()},1e3)},r.src=i.src}else o()},o=function(){s.isLoaded=!0,s.isLoading=!1,u(),d(),r()},u=function(){if(!s.isAppended&&a.ev){var e=a.st.visibleNearby,t=s.id-a._newSlideId;if(!n&&!s.appendOnLoaded&&a.st.fadeinLoadedSlide&&(0===t||(e||a._isAnimating||a._isDragging)&&(-1===t||1===t))){var i={visibility:"visible",opacity:0};i[a._vendorPref+"transition"]="opacity 400ms ease-in-out",s.content.css(i),setTimeout(function(){s.content.css("opacity",1)},16)}s.holder.find(".rsPreloader").length?s.holder.append(s.content):s.holder.html(s.content),s.isAppended=!0,s.isLoaded&&(a._resizeImage(s),r()),s.sizeReady||(s.sizeReady=!0,setTimeout(function(){a.ev.trigger("rsMaybeSizeReady",s)},100))}},r=function(){!s.loadedTriggered&&a.ev&&(s.isLoaded=s.loadedTriggered=!0,s.holder.trigger("rsAfterContentSet"),a.ev.trigger("rsAfterContentSet",s))},c=function(){a.st.usePreloader&&s.holder.html(a._preloader.clone())},d=function(e){if(a.st.usePreloader){var t=s.holder.find(".rsPreloader");t.length&&t.remove()}};s.isLoaded?u():n?!a._isMove&&s.images&&s.iW&&s.iH?e():(s.holder.isWaiting=!0,c(),s.holder.slideId=-99):e()},_addBlockToContainer:function(e,t,i){var n=e.holder;e.id,this._newSlideId;this._slidesContainer.append(n),e.appendOnLoaded=!1},_onDragStart:function(e,t){var i,n=this,r="touchstart"===e.type;if(n._isTouchGesture=r,n.ev.trigger("rsDragStart"),A(e.target).closest(".rsNoDrag",n._currHolder).length)return!(n.dragSuccess=!1);if(t||n._isAnimating&&(n._wasAnimating=!0,n._stopAnimation()),n.dragSuccess=!1,n._isDragging)r&&(n._multipleTouches=!0);else{if(r&&(n._multipleTouches=!1),n._setGrabbingCursor(),r){var o=e.originalEvent.touches;if(!(o&&o.length>0))return;i=o[0],o.length>1&&(n._multipleTouches=!0)}else e.preventDefault(),i=e,n.pointerEnabled&&(i=i.originalEvent);n._isDragging=!0,n._doc.on(n._moveEvent,function(e){n._onDragMove(e,t)}).on(n._upEvent,function(e){n._onDragRelease(e,t)}),n._currMoveAxis="",n._hasMoved=!1,n._pageX=i.pageX,n._pageY=i.pageY,n._startPagePos=n._accelerationPos=(t?n._thumbsHorizontal:n._slidesHorizontal)?i.pageX:i.pageY,n._horDir=0,n._verDir=0,n._currRenderPosition=t?n._thumbsPosition:n._sPosition,n._startTime=(new Date).getTime(),r&&n._sliderOverflow.on(n._cancelEvent,function(e){n._onDragRelease(e,t)})}},_renderMovement:function(e,t){var i=this;if(i._checkedAxis){var n=i._renderMoveTime,r=e.pageX-i._pageX,o=e.pageY-i._pageY,s=i._currRenderPosition+r,a=i._currRenderPosition+o,l=t?i._thumbsHorizontal:i._slidesHorizontal,u=l?s:a,c=i._currMoveAxis;i._hasMoved=!0,i._pageX=e.pageX,i._pageY=e.pageY,"x"===c&&0!==r?i._horDir=r>0?1:-1:"y"===c&&0!==o&&(i._verDir=o>0?1:-1);var d=l?i._pageX:i._pageY,f=l?r:o;t?u>i._thumbsMinPosition?u=i._currRenderPosition+f*i._lastItemFriction:u<i._thumbsMaxPosition&&(u=i._currRenderPosition+f*i._lastItemFriction):i._loop||(i.currSlideId<=0&&d-i._startPagePos>0&&(u=i._currRenderPosition+f*i._lastItemFriction),i.currSlideId>=i.numSlides-1&&d-i._startPagePos<0&&(u=i._currRenderPosition+f*i._lastItemFriction)),i._currRenderPosition=u,n-i._startTime>200&&(i._startTime=n,i._accelerationPos=d),t?i._setThumbsPosition(i._currRenderPosition):i._isMove&&i._setPosition(i._currRenderPosition)}},_onDragMove:function(e,t){var i,n=this,r="touchmove"===e.type;if(!n._isTouchGesture||r){if(r){if(n._lockAxis)return;var o=e.originalEvent.touches;if(!o)return;if(o.length>1)return;i=o[0]}else i=e,n.pointerEnabled&&(i=i.originalEvent);if(n._hasMoved||(n._useCSS3Transitions&&(t?n._thumbsContainer:n._slidesContainer).css(n._vendorPref+n._TD,"0s"),function e(){n._isDragging&&(n._animFrame=requestAnimationFrame(e),n._renderMoveEvent&&n._renderMovement(n._renderMoveEvent,t))}()),n._checkedAxis)e.preventDefault(),n._renderMoveTime=(new Date).getTime(),n._renderMoveEvent=i;else{var s=t?n._thumbsHorizontal:n._slidesHorizontal,a=Math.abs(i.pageX-n._pageX)-Math.abs(i.pageY-n._pageY)-(s?-7:7);if(a>7){if(s)e.preventDefault(),n._currMoveAxis="x";else if(r)return void n._completeGesture(e);n._checkedAxis=!0}else if(a<-7){if(s){if(r)return void n._completeGesture(e)}else e.preventDefault(),n._currMoveAxis="y";n._checkedAxis=!0}}}},_completeGesture:function(e,t){this._lockAxis=!0,this._hasMoved=this._isDragging=!1,this._onDragRelease(e)},_onDragRelease:function(e,i){var t,n,r,o,s,a=this,l=e.type.indexOf("touch")>-1;if(!a._isTouchGesture||l)if(a._isTouchGesture=!1,a.ev.trigger("rsDragRelease"),a._renderMoveEvent=null,a._isDragging=!1,a._lockAxis=!1,a._checkedAxis=!1,a._renderMoveTime=0,cancelAnimationFrame(a._animFrame),a._hasMoved&&(i?a._setThumbsPosition(a._currRenderPosition):a._isMove&&a._setPosition(a._currRenderPosition)),a._doc.off(a._moveEvent).off(a._upEvent),l&&a._sliderOverflow.off(a._cancelEvent),a._setGrabCursor(),a._hasMoved||a._multipleTouches||!i||!a._thumbsEnabled){var u=i?a._thumbsHorizontal:a._slidesHorizontal;if(!a._hasMoved||"y"===a._currMoveAxis&&u||"x"===a._currMoveAxis&&!u){if(i||!a._wasAnimating)return a._wasAnimating=!1,void(a.dragSuccess=!1);if(a._wasAnimating=!1,a.st.navigateByClick)return a._mouseNext(a.pointerEnabled?e.originalEvent:e),void(a.dragSuccess=!0);a.dragSuccess=!0}else a.dragSuccess=!0;a._wasAnimating=!1,a._currMoveAxis="";var c=a.st.minSlideOffset,d=l?e.originalEvent.changedTouches[0]:a.pointerEnabled?e.originalEvent:e,f=u?d.pageX:d.pageY,p=a._startPagePos,h=a._accelerationPos,m=a.currSlideId,g=a.numSlides,_=u?a._horDir:a._verDir,v=a._loop;if(Math.abs(f-p),t=f-h,n=(new Date).getTime()-a._startTime,r=Math.abs(t)/n,0===_||g<=1)x(!0,r);else{if(!v&&!i)if(m<=0){if(_>0)return void x(!0,r)}else if(m>=g-1&&_<0)return void x(!0,r);if(i){var y;if((o=a._thumbsPosition)>a._thumbsMinPosition)o=a._thumbsMinPosition;else if(o<a._thumbsMaxPosition)o=a._thumbsMaxPosition;else{var b=r*r/.006,w=-a._thumbsPosition,S=a._thumbsContainerSize-a._thumbsViewportSize+a._thumbsPosition;if(t>0&&b>w?(r=r*(w+=a._thumbsViewportSize/(15/(b/r*.003)))/b,b=w):t<0&&b>S&&(r=r*(S+=a._thumbsViewportSize/(15/(b/r*.003)))/b,b=S),y=Math.max(Math.round(r/.003),50),(o+=b*(t<0?-1:1))>a._thumbsMinPosition)return void a._animateThumbsTo(o,y,!0,a._thumbsMinPosition,200);if(o<a._thumbsMaxPosition)return void a._animateThumbsTo(o,y,!0,a._thumbsMaxPosition,200)}a._animateThumbsTo(o,y,!0)}else{var k=function(e){var t=Math.floor(e/a._slideSize);return e-t*a._slideSize>c&&t++,t};if(p+c<f){if(_<0)return void x(!1,r);var T=k(f-p);a._moveTo(a.currSlideId-T,E(Math.abs(a._sPosition-(-a._realId-a._idOffset+T)*a._slideSize)/r),!1,!0,!0)}else if(p-c>f){if(_>0)return void x(!1,r);T=k(p-f);a._moveTo(a.currSlideId+T,E(Math.abs(a._sPosition-(-a._realId-a._idOffset-T)*a._slideSize)/r),!1,!0,!0)}else x(!1,r)}}}else{var C=A(e.target).closest(".rsNavItem");C.length&&a.goTo(C.index())}function E(e){return e<100?100:e>500?500:e}function x(e,t){(a._isMove||i)&&(o=(-a._realId-a._idOffset)*a._slideSize,s=Math.abs(a._sPosition-o),a._currAnimSpeed=s/t,e&&(a._currAnimSpeed+=250),a._currAnimSpeed=E(a._currAnimSpeed),a._animateTo(o,!1))}},_setPosition:function(e){var t=this;e=t._sPosition=e,t._useCSS3Transitions?t._slidesContainer.css(t._xProp,t._tPref1+(t._slidesHorizontal?e+t._tPref2+0:0+t._tPref2+e)+t._tPref3):t._slidesContainer.css(t._slidesHorizontal?t._xProp:t._yProp,e)},updateSliderSize:function(e){var t,i,n=this;if(n.slider){if(n.st.autoScaleSlider){var r=n.st.autoScaleSliderWidth,o=n.st.autoScaleSliderHeight;n.st.autoScaleHeight?((t=n.slider.width())!=n.width&&(n.slider.css("height",t*(o/r)),t=n.slider.width()),i=n.slider.height()):((i=n.slider.height())!=n.height&&(n.slider.css("width",i*(r/o)),i=n.slider.height()),t=n.slider.width())}else t=n.slider.width(),i=n.slider.height();if(e||t!=n.width||i!=n.height){var s,a;for(n.width=t,n.height=i,n._wrapWidth=t,n._wrapHeight=i,n.ev.trigger("rsBeforeSizeSet"),n.ev.trigger("rsAfterSizePropSet"),n._sliderOverflow.css({width:n._wrapWidth,height:n._wrapHeight}),n._slideSize=(n._slidesHorizontal?n._wrapWidth:n._wrapHeight)+n.st.slidesSpacing,n._imagePadding=n.st.imageScalePadding,a=0;a<n.slides.length;a++)(s=n.slides[a]).positionSet=!1,s&&s.images&&s.isLoaded&&(s.isRendered=!1,n._resizeImage(s));if(n._cloneHolders)for(a=0;a<n._cloneHolders.length;a++)(s=n._cloneHolders[a]).holder.css(n._reorderProp,(s.id+n._idOffset)*n._slideSize);n._updateBlocksContent(),n._isMove&&(n._useCSS3Transitions&&n._slidesContainer.css(n._vendorPref+"transition-duration","0s"),n._setPosition((-n._realId-n._idOffset)*n._slideSize)),n.ev.trigger("rsOnUpdateNav")}n._sliderOffset=n._sliderOverflow.offset(),n._sliderOffset=n._sliderOffset[n._reorderProp]}},appendSlide:function(e,t){var i=this,n=i._parseNode(e);(isNaN(t)||t>i.numSlides)&&(t=i.numSlides),i.slides.splice(t,0,n),i.slidesJQ.splice(t,0,A('<div style="'+(i._isMove?"position:absolute;":i._opacityCSS)+'" class="rsSlide"></div>')),t<=i.currSlideId&&i.currSlideId++,i.ev.trigger("rsOnAppendSlide",[n,t]),i._refreshSlides(t),t===i.currSlideId&&i.ev.trigger("rsAfterSlideChange")},removeSlide:function(e){var t=this,i=t.slides[e];i&&(i.holder&&i.holder.remove(),e<t.currSlideId&&t.currSlideId--,t.slides.splice(e,1),t.slidesJQ.splice(e,1),t.ev.trigger("rsOnRemoveSlide",[e]),t._refreshSlides(e),e===t.currSlideId&&t.ev.trigger("rsAfterSlideChange"))},_refreshSlides:function(e){var t=this,i=t.numSlides,n=t._realId<=0?0:Math.floor(t._realId/i);t.numSlides=t.slides.length,0===t.numSlides?(t.currSlideId=t._idOffset=t._realId=0,t.currSlide=t._oldHolder=null):t._realId=n*t.numSlides+t.currSlideId;for(var r=0;r<t.numSlides;r++)t.slides[r].id=r;t.currSlide=t.slides[t.currSlideId],t._currHolder=t.slidesJQ[t.currSlideId],t.currSlideId>=t.numSlides?t.goTo(t.numSlides-1):t.currSlideId<0&&t.goTo(0),t._refreshNumPreloadImages(),t._isMove&&t._slidesContainer.css(t._vendorPref+t._TD,"0ms"),t._refreshSlidesTimeout&&clearTimeout(t._refreshSlidesTimeout),t._refreshSlidesTimeout=setTimeout(function(){t._isMove&&t._setPosition((-t._realId-t._idOffset)*t._slideSize),t._updateBlocksContent(),t._isMove||t._currHolder.css({display:"block",opacity:1})},14),t.ev.trigger("rsOnUpdateNav")},_setGrabCursor:function(){var e=this;e._hasDrag&&e._isMove&&(e._grabCursor?e._sliderOverflow.css("cursor",e._grabCursor):(e._sliderOverflow.removeClass("grabbing-cursor"),e._sliderOverflow.addClass("grab-cursor")))},_setGrabbingCursor:function(){var e=this;e._hasDrag&&e._isMove&&(e._grabbingCursor?e._sliderOverflow.css("cursor",e._grabbingCursor):(e._sliderOverflow.removeClass("grab-cursor"),e._sliderOverflow.addClass("grabbing-cursor")))},next:function(e){this._moveTo("next",this.st.transitionSpeed,!0,!e)},prev:function(e){this._moveTo("prev",this.st.transitionSpeed,!0,!e)},_moveTo:function(e,t,i,n,r){var o,s,a,l,u=this;if(u.ev.trigger("rsBeforeMove",[e,n]),l="next"===e?u.currSlideId+1:"prev"===e?u.currSlideId-1:e=parseInt(e,10),!u._loop){if(l<0)return void u._doBackAndForthAnim("left",!n);if(l>=u.numSlides)return void u._doBackAndForthAnim("right",!n)}u._isAnimating&&(u._stopAnimation(!0),i=!1),s=l-u.currSlideId,u._prevSlideId=u.currSlideId;var c,d=u.currSlideId,f=u.currSlideId+s,p=u._realId;u._loop?(f=u._updateBlocksContent(!1,f),p+=s):p=f,u._newSlideId=f,u._oldHolder=u.slidesJQ[u.currSlideId],u._realId=p,u.currSlideId=u._newSlideId,u.currSlide=u.slides[u.currSlideId],u._currHolder=u.slidesJQ[u.currSlideId];var h=u.st.slidesDiff,m=Boolean(s>0),g=Math.abs(s),_=Math.floor(d/u._numPreloadImages),v=Math.floor((d+(m?h:-h))/u._numPreloadImages),y=(m?Math.max(_,v):Math.min(_,v))*u._numPreloadImages+(m?u._numPreloadImages-1:0);y>u.numSlides-1?y=u.numSlides-1:y<0&&(y=0);var b=m?y-d:d-y;if(b>u._numPreloadImages&&(b=u._numPreloadImages),g>b+h)for(u._idOffset+=(g-(b+h))*(m?-1:1),t*=1.4,a=0;a<u.numSlides;a++)u.slides[a].positionSet=!1;u._currAnimSpeed=t,u._updateBlocksContent(!0),r||(c=!0),o=(-p-u._idOffset)*u._slideSize,c?setTimeout(function(){u._isWorking=!1,u._animateTo(o,e,!1,i),u.ev.trigger("rsOnUpdateNav")},0):(u._animateTo(o,e,!1,i),u.ev.trigger("rsOnUpdateNav"))},_updateArrowsNav:function(){var e=this,t="rsArrowDisabled";if(e.st.arrowsNav){if(e.numSlides<=1)return e._arrowLeft.css("display","none"),void e._arrowRight.css("display","none");e._arrowLeft.css("display","block"),e._arrowRight.css("display","block"),e._loop||e.st.loopRewind||(0===e.currSlideId?e._arrowLeft.addClass(t):e._arrowLeft.removeClass(t),e.currSlideId===e.numSlides-1?e._arrowRight.addClass(t):e._arrowRight.removeClass(t))}},_animateTo:function(e,t,i,n,r){var o,s,a=this,l={};if(isNaN(a._currAnimSpeed)&&(a._currAnimSpeed=400),a._sPosition=a._currRenderPosition=e,a.ev.trigger("rsBeforeAnimStart"),a._useCSS3Transitions)if(a._isMove){a._currAnimSpeed=parseInt(a._currAnimSpeed,10);var u=a._vendorPref+a._TD,c=a._vendorPref+a._TTF;l[u]=a._currAnimSpeed+"ms",l[c]=n?A.rsCSS3Easing[a.st.easeInOut]:A.rsCSS3Easing[a.st.easeOut],a._slidesContainer.css(l),n||!a.hasTouch?setTimeout(function(){a._setPosition(e)},5):a._setPosition(e)}else a._currAnimSpeed=a.st.transitionSpeed,o=a._oldHolder,(s=a._currHolder).data("rsTimeout")&&s.css("opacity",0),d(),o&&o.data("rsTimeout",setTimeout(function(){l[a._vendorPref+a._TD]="0ms",l.zIndex=0,l.display="none",o.data("rsTimeout",""),o.css(l),setTimeout(function(){o.css("opacity",0)},16)},a._currAnimSpeed+60)),l.display="block",l.zIndex=a._fadeZIndex,l.opacity=0,l[a._vendorPref+a._TD]="0ms",l[a._vendorPref+a._TTF]=A.rsCSS3Easing[a.st.easeInOut],s.css(l),s.data("rsTimeout",setTimeout(function(){s.css(a._vendorPref+a._TD,a._currAnimSpeed+"ms"),s.data("rsTimeout",setTimeout(function(){s.css("opacity",1),s.data("rsTimeout","")},20))},20));else a._isMove?(l[a._slidesHorizontal?a._xProp:a._yProp]=e+"px",a._slidesContainer.animate(l,a._currAnimSpeed,n?a.st.easeInOut:a.st.easeOut)):(o=a._oldHolder,(s=a._currHolder).stop(!0,!0).css({opacity:0,display:"block",zIndex:a._fadeZIndex}),a._currAnimSpeed=a.st.transitionSpeed,s.animate({opacity:1},a._currAnimSpeed,a.st.easeInOut),d(),o&&o.data("rsTimeout",setTimeout(function(){o.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},a._currAnimSpeed+60)));function d(){var e;o&&(e=o.data("rsTimeout"))&&(o!==s&&o.css({opacity:0,display:"none",zIndex:0}),clearTimeout(e),o.data("rsTimeout","")),(e=s.data("rsTimeout"))&&(clearTimeout(e),s.data("rsTimeout",""))}a._isAnimating=!0,a.loadingTimeout&&clearTimeout(a.loadingTimeout),a.loadingTimeout=r?setTimeout(function(){a.loadingTimeout=null,r.call()},a._currAnimSpeed+60):setTimeout(function(){a.loadingTimeout=null,a._animationComplete(t)},a._currAnimSpeed+60)},_stopAnimation:function(e){var t=this;if(t._isAnimating=!1,clearTimeout(t.loadingTimeout),t._isMove)if(t._useCSS3Transitions){if(!e){var i=t._sPosition,n=t._currRenderPosition=t._getTransformProp();t._slidesContainer.css(t._vendorPref+t._TD,"0ms"),i!==n&&t._setPosition(n)}}else t._slidesContainer.stop(!0),t._sPosition=parseInt(t._slidesContainer.css(t._slidesHorizontal?t._xProp:t._yProp),10);else t._fadeZIndex>20?t._fadeZIndex=10:t._fadeZIndex++},_getTransformProp:function(){var e=window.getComputedStyle(this._slidesContainer.get(0),null).getPropertyValue(this._vendorPref+"transform").replace(/^matrix\(/i,"").split(/, |\)$/g),t=0===e[0].indexOf("matrix3d");return parseInt(e[this._slidesHorizontal?t?12:4:t?13:5],10)},_getCSS3Prop:function(e,t){var i=this;return i._useCSS3Transitions?i._tPref1+(t?e+i._tPref2+0:0+i._tPref2+e)+i._tPref3:e},_animationComplete:function(e){var t=this;t._isMove||(t._currHolder.css("z-index",0),t._fadeZIndex=10),t._isAnimating=!1,t.staticSlideId=t.currSlideId,t._updateBlocksContent(),t._slidesMoved=!1,t.ev.trigger("rsAfterSlideChange")},_doBackAndForthAnim:function(e,t){var i=this,n=(-i._realId-i._idOffset)*i._slideSize;if(0!==i.numSlides&&!i._isAnimating)if(i.st.loopRewind)i.goTo("left"===e?i.numSlides-1:0,t);else if(i._isMove){i._currAnimSpeed=200;var r=function(){i._isAnimating=!1};i._animateTo(n+("left"===e?30:-30),"",!1,!0,function(){i._isAnimating=!1,i._animateTo(n,"",!1,!0,r)})}},_resizeImage:function(e,t){if(!e.isRendered){var i,n,r,o=e.content,s="rsMainSlideImage",a=this,l=a.st.imageAlignCenter,u=a.st.imageScaleMode;if(e.videoURL&&(s="rsVideoContainer","fill"!==u?i=!0:((n=o).hasClass(s)||(n=n.find("."+s)),n.css({width:"100%",height:"100%"}),s="rsMainSlideImage")),o.hasClass(s)||(!1,o=o.find("."+s)),o){var c=e.iW,d=e.iH;if(e.isRendered=!0,"none"!==u||l){r="fill"!==u?a._imagePadding:0;var f,p,h,m,g,_=a._wrapWidth-2*r,v=a._wrapHeight-2*r,y={};"fit-if-smaller"===u&&(c>_||d>v)&&(u="fit"),g="fill"===u||"fit"===u?(f=_/c,p=v/d,h="fill"==u?f>p?f:p:"fit"==u?f<p?f:p:1,m=Math.ceil(c*h,10),Math.ceil(d*h,10)):(m=c,d),"none"!==u&&(y.width=m,y.height=g,i&&o.find(".rsImg").css({width:"100%",height:"100%"})),l&&(y.marginLeft=Math.floor((_-m)/2)+r,y.marginTop=Math.floor((v-g)/2)+r),o.css(y)}}}}},A.rsProto=r.prototype,A.fn.royalSlider=function(i){var n=arguments;return this.each(function(){var e=A(this);if("object"!==typeof i&&i){var t=e.data("royalSlider");if(t&&t[i])return t[i].apply(t,Array.prototype.slice.call(n,1))}else e.data("royalSlider")||e.data("royalSlider",new r(e,i))})},A.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2},A.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"},A.extend(jQuery.easing,{easeInOutSine:function(e,t,i,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+i},easeOutSine:function(e,t,i,n,r){return n*Math.sin(t/r*(Math.PI/2))+i},easeOutCubic:function(e,t,i,n,r){return n*((t=t/r-1)*t*t+1)+i}})}(jQuery,window),function(e){"use strict";e.rsProto._initActiveClass=function(){var e,t=this,i="rsActiveSlide";t.st.addActiveClass&&t.ev.on("rsOnUpdateNav",function(){e&&clearTimeout(e),e=setTimeout(function(){t._oldHolder&&t._oldHolder.removeClass(i),t._currHolder&&t._currHolder.addClass(i),e=null},50)})},e.rsModules.activeClass=e.rsProto._initActiveClass}(jQuery),function(y){"use strict";y.extend(y.rsProto,{_initAnimatedBlocks:function(){var i,n=this;function r(){var e=n.currSlide;if(n.currSlide&&n.currSlide.isLoaded&&n._slideWithBlocks!==e){if(n._animatedBlockTimeouts.length>0){for(i=0;i<n._animatedBlockTimeouts.length;i++)clearTimeout(n._animatedBlockTimeouts[i]);n._animatedBlockTimeouts=[]}if(n._blockAnimProps.length>0){var t;for(i=0;i<n._blockAnimProps.length;i++)(t=n._blockAnimProps[i])&&(n._useCSS3Transitions?(t.block.css(n._vendorPref+n._TD,"0s"),t.block.css(t.css)):t.block.stop(!0).css(t.css),n._slideWithBlocks=null,e.animBlocksDisplayed=!1);n._blockAnimProps=[]}e.animBlocks&&(e.animBlocksDisplayed=!0,n._slideWithBlocks=e,n._animateBlocks(e.animBlocks))}}n._blockDefaults={fadeEffect:!0,moveEffect:"top",moveOffset:20,speed:400,easing:"easeOutSine",delay:200},n.st.block=y.extend({},n._blockDefaults,n.st.block),n._blockAnimProps=[],n._animatedBlockTimeouts=[],n.ev.on("rsAfterInit",function(){r()}),n.ev.on("rsBeforeParseNode",function(e,t,i){t=y(t),i.animBlocks=t.find(".rsABlock").css("display","none"),i.animBlocks.length||(t.hasClass("rsABlock")?i.animBlocks=t.css("display","none"):i.animBlocks=!1)}),n.ev.on("rsAfterContentSet",function(e,t){var i=n.slides[n.currSlideId].id;t.id===i&&setTimeout(function(){r()},n.st.fadeinLoadedSlide?300:0)}),n.ev.on("rsAfterSlideChange",function(){r()})},_updateAnimBlockProps:function(e,t){setTimeout(function(){e.css(t)},6)},_animateBlocks:function(e){var d,f,p,h,m,g,_,v=this;v._animatedBlockTimeouts=[],e.each(function(e){d=y(this),f={},p={},h=null;var t,i,n,r=d.attr("data-move-offset");(r=r?parseInt(r,10):v.st.block.moveOffset)>0&&((g=d.data("move-effect"))?"none"===(g=g.toLowerCase())?g=!1:"left"!==g&&"top"!==g&&"bottom"!==g&&"right"!==g&&"none"===(g=v.st.block.moveEffect)&&(g=!1):g=v.st.block.moveEffect,g&&"none"!==g&&(t="right"===g||"left"===g,_=!1,v._useCSS3Transitions?(i=0,m=v._xProp):(t?isNaN(parseInt(d.css("right"),10))?m="left":(m="right",_=!0):isNaN(parseInt(d.css("bottom"),10))?m="top":(m="bottom",_=!0),m="margin-"+m,_&&(r=-r),v._useCSS3Transitions?i=parseInt(d.css(m),10):void 0===(i=d.data("rs-start-move-prop"))&&(i=parseInt(d.css(m),10),isNaN(i)&&(i=0),d.data("rs-start-move-prop",i))),n="top"===g||"left"===g?i-r:i+r,p[m]=v._getCSS3Prop(n,t),f[m]=v._getCSS3Prop(i,t)));var o=d.attr("data-fade-effect");o?"none"!==o.toLowerCase()&&"false"!==o.toLowerCase()||(o=!1):o=v.st.block.fadeEffect,o&&(p.opacity=0,f.opacity=1),(o||g)&&((h={}).hasFade=Boolean(o),Boolean(g)&&(h.moveProp=m,h.hasMove=!0),h.speed=d.data("speed"),isNaN(h.speed)&&(h.speed=v.st.block.speed),h.easing=d.data("easing"),h.easing||(h.easing=v.st.block.easing),h.css3Easing=y.rsCSS3Easing[h.easing],h.delay=d.data("delay"),isNaN(h.delay)&&(h.delay=v.st.block.delay*e));var s,a,l,u,c={};v._useCSS3Transitions&&(c[v._vendorPref+v._TD]="0ms"),c.moveProp=f.moveProp,c.opacity=f.opacity,c.display="none",v._blockAnimProps.push({block:d,css:c}),v._updateAnimBlockProps(d,p),v._animatedBlockTimeouts.push(setTimeout((s=d,a=f,l=h,u=e,function(){if(s.css("display","block"),l){var e={};if(v._useCSS3Transitions){var t="";l.hasMove&&(t+=l.moveProp),l.hasFade&&(l.hasMove&&(t+=", "),t+="opacity"),e[v._vendorPref+v._TP]=t,e[v._vendorPref+v._TD]=l.speed+"ms",e[v._vendorPref+v._TTF]=l.css3Easing,s.css(e),setTimeout(function(){s.css(a)},24)}else setTimeout(function(){s.animate(a,l.speed,l.easing)},16)}delete v._animatedBlockTimeouts[u]}),h.delay<=6?12:h.delay))})}}),y.rsModules.animatedBlocks=y.rsProto._initAnimatedBlocks}(jQuery),function(e){"use strict";e.extend(e.rsProto,{_initAutoHeight:function(){var t=this;if(t.st.autoHeight){var i,n,r,o=!0,s=function(e){r=t.slides[t.currSlideId],(i=r.holder)&&(n=i.height())&&void 0!==n&&n>(t.st.minAutoHeight||30)&&(t._wrapHeight=n,t._useCSS3Transitions||!e?t._sliderOverflow.css("height",n):t._sliderOverflow.stop(!0,!0).animate({height:n},t.st.transitionSpeed),t.ev.trigger("rsAutoHeightChange",n),o&&(t._useCSS3Transitions&&setTimeout(function(){t._sliderOverflow.css(t._vendorPref+"transition","height "+t.st.transitionSpeed+"ms ease-in-out")},16),o=!1))};t.ev.on("rsMaybeSizeReady.rsAutoHeight",function(e,t){r===t&&s()}),t.ev.on("rsAfterContentSet.rsAutoHeight",function(e,t){r===t&&s()}),t.slider.addClass("rsAutoHeight"),t.ev.one("rsAfterInit",function(){setTimeout(function(){s(!1),setTimeout(function(){t.slider.append('<div style="clear:both; float: none;"></div>')},16)},16)}),t.ev.on("rsBeforeAnimStart",function(){s(!0)}),t.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){s(!1)},16)})}}}),e.rsModules.autoHeight=e.rsProto._initAutoHeight}(jQuery),function(r){"use strict";r.extend(r.rsProto,{_initAutoplay:function(){var n,e=this;e._autoPlayDefaults={enabled:!1,stopAtAction:!0,pauseOnHover:!0,delay:2e3},!e.st.autoPlay&&e.st.autoplay&&(e.st.autoPlay=e.st.autoplay),e.st.autoPlay=r.extend({},e._autoPlayDefaults,e.st.autoPlay),e.st.autoPlay.enabled&&(e.ev.on("rsBeforeParseNode",function(e,t,i){t=r(t),(n=t.attr("data-rsDelay"))&&(i.customDelay=parseInt(n,10))}),e.ev.one("rsAfterInit",function(){e._setupAutoPlay()}),e.ev.on("rsBeforeDestroy",function(){e.stopAutoPlay(),e.slider.off("mouseenter mouseleave"),r(window).off("blur"+e.ns+" focus"+e.ns)}))},_setupAutoPlay:function(){var n=this;n.startAutoPlay(),n.ev.on("rsAfterContentSet",function(e,t){n._isDragging||n._isAnimating||!n._autoPlayEnabled||t!==n.currSlide||n._play()}),n.ev.on("rsDragRelease",function(){n._autoPlayEnabled&&n._autoPlayPaused&&(n._autoPlayPaused=!1,n._play())}),n.ev.on("rsAfterSlideChange",function(){n._autoPlayEnabled&&n._autoPlayPaused&&(n._autoPlayPaused=!1,n.currSlide.isLoaded&&n._play())}),n.ev.on("rsDragStart",function(){n._autoPlayEnabled&&(n.st.autoPlay.stopAtAction?n.stopAutoPlay():(n._autoPlayPaused=!0,n._pause()))}),n.ev.on("rsBeforeMove",function(e,t,i){n._autoPlayEnabled&&(i&&n.st.autoPlay.stopAtAction?n.stopAutoPlay():(n._autoPlayPaused=!0,n._pause()))}),n._pausedByVideo=!1,n.ev.on("rsVideoStop",function(){n._autoPlayEnabled&&(n._pausedByVideo=!1,n._play())}),n.ev.on("rsVideoPlay",function(){n._autoPlayEnabled&&(n._autoPlayPaused=!1,n._pause(),n._pausedByVideo=!0)}),r(window).on("blur"+n.ns,function(){n._autoPlayEnabled&&(n._autoPlayPaused=!0,n._pause())}).on("focus"+n.ns,function(){n._autoPlayEnabled&&n._autoPlayPaused&&(n._autoPlayPaused=!1,n._play())}),n.st.autoPlay.pauseOnHover&&(n._pausedByHover=!1,n.slider.hover(function(){n._autoPlayEnabled&&(n._autoPlayPaused=!1,n._pause(),n._pausedByHover=!0)},function(){n._autoPlayEnabled&&(n._pausedByHover=!1,n._play())}))},toggleAutoPlay:function(){this._autoPlayEnabled?this.stopAutoPlay():this.startAutoPlay()},startAutoPlay:function(){this._autoPlayEnabled=!0,this.currSlide.isLoaded&&this._play()},stopAutoPlay:function(){var e=this;e._pausedByVideo=e._pausedByHover=e._autoPlayPaused=e._autoPlayEnabled=!1,e._pause()},_play:function(){var t=this;t._pausedByHover||t._pausedByVideo||(t._autoPlayRunning=!0,t._autoPlayTimeout&&clearTimeout(t._autoPlayTimeout),t._autoPlayTimeout=setTimeout(function(){var e;t._loop||t.st.loopRewind||(e=!0,t.st.loopRewind=!0),t.next(!0),e&&(e=!1,t.st.loopRewind=!1)},t.currSlide.customDelay?t.currSlide.customDelay:t.st.autoPlay.delay))},_pause:function(){var e=this;e._pausedByHover||e._pausedByVideo||(e._autoPlayRunning=!1,e._autoPlayTimeout&&(clearTimeout(e._autoPlayTimeout),e._autoPlayTimeout=null))}}),r.rsModules.autoplay=r.rsProto._initAutoplay}(jQuery),function(i){"use strict";i.extend(i.rsProto,{_initBullets:function(){var n=this;if("bullets"===n.st.controlNavigation){var r='<div class="rsNavItem rsBullet"><span></span></div>';n.ev.one("rsAfterPropsSetup",function(){n._controlNavEnabled=!0,n.slider.addClass("rsWithBullets");for(var e='<div class="rsNav rsBullets">',t=0;t<n.numSlides;t++)e+=r;n._controlNav=e=i(e+"</div>"),n._controlNavItems=e.appendTo(n.slider).children(),n._controlNav.on("click.rs",".rsNavItem",function(e){n._thumbsDrag||n.goTo(i(this).index())})}),n.ev.on("rsOnAppendSlide",function(e,t,i){i>=n.numSlides?n._controlNav.append(r):n._controlNavItems.eq(i).before(r),n._controlNavItems=n._controlNav.children()}),n.ev.on("rsOnRemoveSlide",function(e,t){var i=n._controlNavItems.eq(t);i&&i.length&&(i.remove(),n._controlNavItems=n._controlNav.children())}),n.ev.on("rsOnUpdateNav",function(){var e,t=n.currSlideId;n._prevNavItem&&n._prevNavItem.removeClass("rsNavSelected"),(e=n._controlNavItems.eq(t)).addClass("rsNavSelected"),n._prevNavItem=e})}}}),i.rsModules.bullets=i.rsProto._initBullets}(jQuery),function(u){"use strict";u.extend(u.rsProto,{_initDeeplinking:function(){var i,e,t,n=this;if(n._hashDefaults={enabled:!1,change:!1,prefix:""},n.st.deeplinking=u.extend({},n._hashDefaults,n.st.deeplinking),n.st.deeplinking.enabled){var r=n.st.deeplinking.change,o=n.st.deeplinking.prefix,s="#"+o,a=function(){var e=window.location.hash;return e&&e.indexOf(o)>0&&(e=parseInt(e.substring(s.length),10))>=0?e-1:-1},l=a();-1!==l&&(n.st.startSlideId=l),r&&(u(window).on("hashchange"+n.ns,function(e){if(!i){var t=a();if(t<0)return;t>n.numSlides-1&&(t=n.numSlides-1),n.goTo(t)}}),n.ev.on("rsBeforeAnimStart",function(){e&&clearTimeout(e),t&&clearTimeout(t)}),n.ev.on("rsAfterSlideChange",function(){e&&clearTimeout(e),t&&clearTimeout(t),t=setTimeout(function(){i=!0,window.location.replace((""+window.location).split("#")[0]+s+(n.currSlideId+1)),e=setTimeout(function(){i=!1,e=null},60)},400)})),n.ev.on("rsBeforeDestroy",function(){e=t=null,r&&u(window).off("hashchange"+n.ns)})}}}),u.rsModules.deeplinking=u.rsProto._initDeeplinking}(jQuery),function(u,c,e){var t,d="hashchange",f=document,i=u.event.special,n=f.documentMode,p="on"+d in c&&(void 0===n||n>7);function h(e){return"#"+(e=e||location.href).replace(/^[^#]*#?(.*)$/,"$1")}u.fn[d]=function(e){return e?this.bind(d,e):this.trigger(d)},u.fn[d].delay=50,i[d]=u.extend(i[d],{setup:function(){if(p)return!1;u(t.start)},teardown:function(){if(p)return!1;u(t.stop)}}),t=function(){var i,r,e,t={},n=h(),o=function(e){return e},s=o,a=o;function l(){var e=h(),t=a(n);e!==n?(s(n=e,t),u(c).trigger(d)):t!==n&&(location.href=location.href.replace(/#.*/,"")+t),i=setTimeout(l,u.fn[d].delay)}return t.start=function(){i||l()},t.stop=function(){i&&clearTimeout(i),i=void 0},c.attachEvent&&!c.addEventListener&&!p&&(t.start=function(){r||(e=(e=u.fn[d].src)&&e+h(),r=u('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){e||s(h()),l()}).attr("src",e||"javascript:0").insertAfter("body")[0].contentWindow,f.onpropertychange=function(){try{"title"===event.propertyName&&(r.document.title=f.title)}catch(e){}})},t.stop=o,a=function(){return h(r.location.href)},s=function(e,t){var i=r.document,n=u.fn[d].domain;e!==t&&(i.title=f.title,i.open(),n&&i.write('<script>document.domain="'+n+'"<\/script>'),i.close(),r.location.hash=e)}),t}()}(jQuery,this),function(o){"use strict";o.extend(o.rsProto,{_initFullscreen:function(){var e=this;e._fullscreenDefaults={enabled:!1,keyboardNav:!0,buttonFS:!0,nativeFS:!1,doubleTap:!0},e.st.fullscreen=o.extend({},e._fullscreenDefaults,e.st.fullscreen),e.st.fullscreen.enabled&&e.ev.one("rsBeforeSizeSet",function(){e._setupFullscreen()})},_setupFullscreen:function(){var e=this;if(e._fsKeyboard=!e.st.keyboardNavEnabled&&e.st.fullscreen.keyboardNav,e.st.fullscreen.nativeFS){var t={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},i="webkit moz o ms khtml".split(" ");if("undefined"!=typeof document.cancelFullScreen)t.supportsFullScreen=!0;else for(var n=0,r=i.length;n<r;n++)if(t.prefix=i[n],"undefined"!=typeof document[t.prefix+"CancelFullScreen"]){t.supportsFullScreen=!0;break}t.supportsFullScreen?(e.nativeFS=!0,t.fullScreenEventName=t.prefix+"fullscreenchange"+e.ns,t.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},t.requestFullScreen=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},t.cancelFullScreen=function(e){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()},e._fullScreenApi=t):e._fullScreenApi=!1}e.st.fullscreen.buttonFS&&(e._fsBtn=o('<div class="rsFullscreenBtn"><div class="rsFullscreenIcn"></div></div>').appendTo(e._controlsContainer).on("click.rs",function(){e.isFullscreen?e.exitFullscreen():e.enterFullscreen()}))},enterFullscreen:function(e){var t=this;if(t._fullScreenApi){if(!e)return t._doc.on(t._fullScreenApi.fullScreenEventName,function(e){t._fullScreenApi.isFullScreen()?t.enterFullscreen(!0):t.exitFullscreen(!0)}),void t._fullScreenApi.requestFullScreen(o("html")[0]);t._fullScreenApi.requestFullScreen(o("html")[0])}if(!t._isFullscreenUpdating){t._isFullscreenUpdating=!0,t._doc.on("keyup"+t.ns+"fullscreen",function(e){27===e.keyCode&&t.exitFullscreen()}),t._fsKeyboard&&t._bindKeyboardNav();var i,n,r=o(window);for(t._fsScrollTopOnEnter=r.scrollTop(),t._fsScrollLeftOnEnter=r.scrollLeft(),t._htmlStyle=o("html").attr("style"),t._bodyStyle=o("body").attr("style"),t._sliderStyle=t.slider.attr("style"),o("body, html").css({overflow:"hidden",height:"100%",width:"100%",margin:"0",padding:"0"}),t.slider.addClass("rsFullscreen"),n=0;n<t.numSlides;n++)(i=t.slides[n]).isRendered=!1,i.bigImage&&(i.isBig=!0,i.isMedLoaded=i.isLoaded,i.isMedLoading=i.isLoading,i.medImage=i.image,i.medIW=i.iW,i.medIH=i.iH,i.slideId=-99,i.bigImage!==i.medImage&&(i.sizeType="big"),i.isLoaded=i.isBigLoaded,i.isLoading=!1,i.image=i.bigImage,i.images[0]=i.bigImage,i.iW=i.bigIW,i.iH=i.bigIH,i.isAppended=i.contentAdded=!1,t._updateItemSrc(i));t.isFullscreen=!0,t._isFullscreenUpdating=!1,t.updateSliderSize(),t.ev.trigger("rsEnterFullscreen")}},exitFullscreen:function(e){var t=this;if(t._fullScreenApi){if(!e)return void t._fullScreenApi.cancelFullScreen(o("html")[0]);t._doc.off(t._fullScreenApi.fullScreenEventName)}if(!t._isFullscreenUpdating){var i,n;for(t._isFullscreenUpdating=!0,t._doc.off("keyup"+t.ns+"fullscreen"),t._fsKeyboard&&t._doc.off("keydown"+t.ns),o("html").attr("style",t._htmlStyle||""),o("body").attr("style",t._bodyStyle||""),n=0;n<t.numSlides;n++)(i=t.slides[n]).isRendered=!1,i.bigImage&&(i.isBig=!1,i.slideId=-99,i.isBigLoaded=i.isLoaded,i.isBigLoading=i.isLoading,i.bigImage=i.image,i.bigIW=i.iW,i.bigIH=i.iH,i.isLoaded=i.isMedLoaded,i.isLoading=!1,i.image=i.medImage,i.images[0]=i.medImage,i.iW=i.medIW,i.iH=i.medIH,i.isAppended=i.contentAdded=!1,t._updateItemSrc(i,!0),i.bigImage!==i.medImage&&(i.sizeType="med"));t.isFullscreen=!1;var r=o(window);r.scrollTop(t._fsScrollTopOnEnter),r.scrollLeft(t._fsScrollLeftOnEnter),t._isFullscreenUpdating=!1,t.slider.removeClass("rsFullscreen"),t.updateSliderSize(),setTimeout(function(){t.updateSliderSize()},1),t.ev.trigger("rsExitFullscreen")}},_updateItemSrc:function(e,t){var i=e.isLoaded||e.isLoading?'<img class="rsImg rsMainSlideImage" src="'+e.image+'"/>':'<a class="rsImg rsMainSlideImage" href="'+e.image+'"></a>';e.content.hasClass("rsImg")?e.content=o(i):e.content.find(".rsImg").eq(0).replaceWith(i),e.isLoaded||e.isLoading||!e.holder||e.holder.html(e.content)}}),o.rsModules.fullscreen=o.rsProto._initFullscreen}(jQuery),function(i){"use strict";i.extend(i.rsProto,{_initGlobalCaption:function(){var e=this;if(e.st.globalCaption){var t=function(){e.globalCaption.html(e.currSlide.caption)};e.ev.on("rsAfterInit",function(){e.globalCaption=i('<div class="rsGCaption"></div>').appendTo(e.st.globalCaptionInside?e._sliderOverflow:e.slider),t()}),e.ev.on("rsBeforeAnimStart",function(){t()})}}}),i.rsModules.globalCaption=i.rsProto._initGlobalCaption}(jQuery),function(e){"use strict";e.extend(e.rsProto,{_initAutoHideControlNav:function(){var t=this;t.st.navAutoHide&&!t.hasTouch&&t.ev.one("rsAfterInit",function(){if(t._controlNav){t._controlNav.addClass("rsHidden");var e=t.slider;e.one("mousemove.controlnav",function(){t._controlNav.removeClass("rsHidden")}),e.hover(function(){t._controlNav.removeClass("rsHidden")},function(){t._controlNav.addClass("rsHidden")})}})}}),e.rsModules.autoHideNav=e.rsProto._initAutoHideControlNav}(jQuery),function(r){"use strict";r.extend(r.rsProto,{_initTabs:function(){var n=this;"tabs"===n.st.controlNavigation&&(n.ev.on("rsBeforeParseNode",function(e,t,i){t=r(t),i.thumbnail=t.find(".rsTmb").remove(),i.thumbnail.length?i.thumbnail=r(document.createElement("div")).append(i.thumbnail).html():(i.thumbnail=t.attr("data-rsTmb"),i.thumbnail||(i.thumbnail=t.find(".rsImg").attr("data-rsTmb")),i.thumbnail?i.thumbnail='<img src="'+i.thumbnail+'"/>':i.thumbnail="")}),n.ev.one("rsAfterPropsSetup",function(){n._createTabs()}),n.ev.on("rsOnAppendSlide",function(e,t,i){i>=n.numSlides?n._controlNav.append('<div class="rsNavItem rsTab">'+t.thumbnail+"</div>"):n._controlNavItems.eq(i).before('<div class="rsNavItem rsTab">'+item.thumbnail+"</div>"),n._controlNavItems=n._controlNav.children()}),n.ev.on("rsOnRemoveSlide",function(e,t){var i=n._controlNavItems.eq(t);i&&(i.remove(),n._controlNavItems=n._controlNav.children())}),n.ev.on("rsOnUpdateNav",function(){var e,t=n.currSlideId;n._prevNavItem&&n._prevNavItem.removeClass("rsNavSelected"),(e=n._controlNavItems.eq(t)).addClass("rsNavSelected"),n._prevNavItem=e}))},_createTabs:function(){var i=this,e="";i._controlNavEnabled=!0,e+='<div class="rsNav rsTabs">';for(var t=0;t<i.numSlides;t++)e+='<div class="rsNavItem rsTab">'+i.slides[t].thumbnail+"</div>";e=r(e+="</div>"),i._controlNav=e,i._controlNavItems=e.children(".rsNavItem"),i.slider.append(e),i._controlNav.click(function(e){var t=r(e.target).closest(".rsNavItem");t.length&&i.goTo(t.index())})}}),r.rsModules.tabs=r.rsProto._initTabs}(jQuery),function(u){"use strict";u.extend(u.rsProto,{_initThumbs:function(){var r=this;"thumbnails"===r.st.controlNavigation&&(r._thumbsDefaults={drag:!0,touch:!0,orientation:"horizontal",navigation:!0,arrows:!0,arrowLeft:null,arrowRight:null,spacing:4,arrowsAutoHide:!1,appendSpan:!1,transitionSpeed:600,autoCenter:!0,fitInViewport:!0,firstMargin:!0,paddingTop:0,paddingBottom:0},r.st.thumbs=u.extend({},r._thumbsDefaults,r.st.thumbs),!(r._firstThumbMoved=!0)===r.st.thumbs.firstMargin?r.st.thumbs.firstMargin=0:!0===r.st.thumbs.firstMargin&&(r.st.thumbs.firstMargin=r.st.thumbs.spacing),r.ev.on("rsBeforeParseNode",function(e,t,i){t=u(t),i.thumbnail=t.find(".rsTmb").remove(),i.thumbnail.length?i.thumbnail=u(document.createElement("div")).append(i.thumbnail).html():(i.thumbnail=t.attr("data-rsTmb"),i.thumbnail||(i.thumbnail=t.find(".rsImg").attr("data-rsTmb")),i.thumbnail?i.thumbnail='<img src="'+i.thumbnail+'"/>':i.thumbnail="")}),r.ev.one("rsAfterPropsSetup",function(){r._createThumbs()}),r._prevNavItem=null,r.ev.on("rsOnUpdateNav",function(){var e=u(r._controlNavItems[r.currSlideId]);e!==r._prevNavItem&&(r._prevNavItem&&(r._prevNavItem.removeClass("rsNavSelected"),r._prevNavItem=null),r._thumbsNavigation&&r._setCurrentThumb(r.currSlideId),r._prevNavItem=e.addClass("rsNavSelected"))}),r.ev.on("rsOnAppendSlide",function(e,t,i){var n="<div"+r._thumbsMargin+' class="rsNavItem rsThumb">'+r._addThumbHTML+t.thumbnail+"</div>";r._useCSS3Transitions&&r._thumbsContainer.css(r._vendorPref+"transition-duration","0ms"),i>=r.numSlides?r._thumbsContainer.append(n):r._controlNavItems.eq(i).before(n),r._controlNavItems=r._thumbsContainer.children(),r.updateThumbsSize(!0)}),r.ev.on("rsOnRemoveSlide",function(e,t){var i=r._controlNavItems.eq(t);i&&(r._useCSS3Transitions&&r._thumbsContainer.css(r._vendorPref+"transition-duration","0ms"),i.remove(),r._controlNavItems=r._thumbsContainer.children(),r.updateThumbsSize(!0))}))},_createThumbs:function(){var e,i=this,t="rsThumbs",n=i.st.thumbs,r="",o=n.spacing;i._controlNavEnabled=!0,i._thumbsHorizontal="vertical"!==n.orientation,i._thumbsMargin=e=o?' style="margin-'+(i._thumbsHorizontal?"right":"bottom")+":"+o+'px;"':"",i._thumbsPosition=0,i._isThumbsAnimating=!1,i._thumbsDrag=!1,i._thumbsNavigation=!1,i._thumbsArrows=n.arrows&&n.navigation;var s=i._thumbsHorizontal?"Hor":"Ver";i.slider.addClass("rsWithThumbs rsWithThumbs"+s),r+='<div class="rsNav rsThumbs rsThumbs'+s+'"><div class="'+t+'Container">',i._addThumbHTML=n.appendSpan?'<span class="thumbIco"></span>':"";for(var a=0;a<i.numSlides;a++)r+="<div"+e+' class="rsNavItem rsThumb">'+i.slides[a].thumbnail+i._addThumbHTML+"</div>";r=u(r+"</div></div>");var l={};n.paddingTop&&(l[i._thumbsHorizontal?"paddingTop":"paddingLeft"]=n.paddingTop),n.paddingBottom&&(l[i._thumbsHorizontal?"paddingBottom":"paddingRight"]=n.paddingBottom),r.css(l),i._thumbsContainer=u(r).find("."+t+"Container"),i._thumbsArrows&&(t+="Arrow",n.arrowLeft?i._thumbsArrowLeft=n.arrowLeft:(i._thumbsArrowLeft=u('<div class="'+t+" "+t+'Left"><div class="'+t+'Icn"></div></div>'),r.append(i._thumbsArrowLeft)),n.arrowRight?i._thumbsArrowRight=n.arrowRight:(i._thumbsArrowRight=u('<div class="'+t+" "+t+'Right"><div class="'+t+'Icn"></div></div>'),r.append(i._thumbsArrowRight)),i._thumbsArrowLeft.click(function(){Math.floor(i._thumbsViewportSize/i._thumbSize);var e=(Math.floor(i._thumbsPosition/i._thumbSize)+i._visibleThumbsPerView)*i._thumbSize+i.st.thumbs.firstMargin;i._animateThumbsTo(e>i._thumbsMinPosition?i._thumbsMinPosition:e)}),i._thumbsArrowRight.click(function(){Math.floor(i._thumbsViewportSize/i._thumbSize);var e=(Math.floor(i._thumbsPosition/i._thumbSize)-i._visibleThumbsPerView)*i._thumbSize+i.st.thumbs.firstMargin;i._animateThumbsTo(e<i._thumbsMaxPosition?i._thumbsMaxPosition:e)}),n.arrowsAutoHide&&!i.hasTouch&&(i._thumbsArrowLeft.css("opacity",0),i._thumbsArrowRight.css("opacity",0),r.one("mousemove.rsarrowshover",function(){i._thumbsNavigation&&(i._thumbsArrowLeft.css("opacity",1),i._thumbsArrowRight.css("opacity",1))}),r.hover(function(){i._thumbsNavigation&&(i._thumbsArrowLeft.css("opacity",1),i._thumbsArrowRight.css("opacity",1))},function(){i._thumbsNavigation&&(i._thumbsArrowLeft.css("opacity",0),i._thumbsArrowRight.css("opacity",0))}))),i._controlNav=r,i._controlNavItems=i._thumbsContainer.children(),i.msEnabled&&i.st.thumbs.navigation&&i._thumbsContainer.css("-ms-touch-action",i._thumbsHorizontal?"pan-y":"pan-x"),i.slider.append(r),i._thumbsEnabled=!0,i._thumbsSpacing=o,n.navigation&&i._useCSS3Transitions&&i._thumbsContainer.css(i._vendorPref+"transition-property",i._vendorPref+"transform"),i._controlNav.on("click.rs",".rsNavItem",function(e){i._thumbsDrag||i.goTo(u(this).index())}),i.ev.off("rsBeforeSizeSet.thumbs").on("rsBeforeSizeSet.thumbs",function(){i._realWrapSize=i._thumbsHorizontal?i._wrapHeight:i._wrapWidth,i.updateThumbsSize(!0)}),i.ev.off("rsAutoHeightChange.thumbs").on("rsAutoHeightChange.thumbs",function(e,t){i.updateThumbsSize(!0,t)})},updateThumbsSize:function(e,t){var i=this,n=i._controlNavItems.first(),r={},o=i._controlNavItems.length;if(i._thumbSize=(i._thumbsHorizontal?n.outerWidth():n.outerHeight())+i._thumbsSpacing,i._thumbsContainerSize=o*i._thumbSize-i._thumbsSpacing,r[i._thumbsHorizontal?"width":"height"]=i._thumbsContainerSize+i._thumbsSpacing,i._thumbsViewportSize=i._thumbsHorizontal?i._controlNav.width():void 0!==t?t:i._controlNav.height(),i._thumbsEnabled&&(i.isFullscreen||i.st.thumbs.fitInViewport)&&(i._thumbsHorizontal?i._wrapHeight=i._realWrapSize-i._controlNav.outerHeight():i._wrapWidth=i._realWrapSize-i._controlNav.outerWidth()),i._thumbsViewportSize){if(i._thumbsMaxPosition=-(i._thumbsContainerSize-i._thumbsViewportSize)-i.st.thumbs.firstMargin,i._thumbsMinPosition=i.st.thumbs.firstMargin,i._visibleThumbsPerView=Math.floor(i._thumbsViewportSize/i._thumbSize),i._thumbsContainerSize<i._thumbsViewportSize){if(i.st.thumbs.autoCenter?i._setThumbsPosition((i._thumbsViewportSize-i._thumbsContainerSize)/2):i._setThumbsPosition(i._thumbsMinPosition),i.st.thumbs.arrows&&i._thumbsArrowLeft){var s="rsThumbsArrowDisabled";i._thumbsArrowLeft.addClass(s),i._thumbsArrowRight.addClass(s)}i._thumbsNavigation=!1,i._thumbsDrag=!1,i._controlNav.off(i._downEvent)}else i.st.thumbs.navigation&&!i._thumbsNavigation&&(i._thumbsNavigation=!0,(!i.hasTouch&&i.st.thumbs.drag||i.hasTouch&&i.st.thumbs.touch)&&(i._thumbsDrag=!0,i._controlNav.on(i._downEvent,function(e){i._onDragStart(e,!0)})));i._thumbsContainer.css(r),e&&t&&i._setCurrentThumb(i.currSlideId,!0)}},setThumbsOrientation:function(e,t){var i=this;i._thumbsEnabled&&(i.st.thumbs.orientation=e,i._controlNav.remove(),i.slider.removeClass("rsWithThumbsHor rsWithThumbsVer"),i._createThumbs(),i._controlNav.off(i._downEvent),t||i.updateSliderSize(!0))},_setThumbsPosition:function(e){var t=this;t._thumbsPosition=e,t._useCSS3Transitions?t._thumbsContainer.css(t._xProp,t._tPref1+(t._thumbsHorizontal?e+t._tPref2+0:0+t._tPref2+e)+t._tPref3):t._thumbsContainer.css(t._thumbsHorizontal?t._xProp:t._yProp,e)},_animateThumbsTo:function(e,t,i,n,r){var o=this;if(o._thumbsNavigation){t||(t=o.st.thumbs.transitionSpeed),o._thumbsPosition=e,o._thumbsAnimTimeout&&clearTimeout(o._thumbsAnimTimeout),o._isThumbsAnimating&&(o._useCSS3Transitions||o._thumbsContainer.stop(),i=!0);var s={};o._isThumbsAnimating=!0,o._useCSS3Transitions?(s[o._vendorPref+"transition-duration"]=t+"ms",s[o._vendorPref+"transition-timing-function"]=i?u.rsCSS3Easing[o.st.easeOut]:u.rsCSS3Easing[o.st.easeInOut],o._thumbsContainer.css(s),o._setThumbsPosition(e)):(s[o._thumbsHorizontal?o._xProp:o._yProp]=e+"px",o._thumbsContainer.animate(s,t,i?"easeOutCubic":o.st.easeInOut)),n&&(o._thumbsPosition=n),o._updateThumbsArrows(),o._thumbsAnimTimeout=setTimeout(function(){o._isThumbsAnimating=!1,r&&(o._animateThumbsTo(n,r,!0),r=null)},t)}},_updateThumbsArrows:function(){var e=this;if(e._thumbsArrows){var t="rsThumbsArrowDisabled";e._thumbsPosition===e._thumbsMinPosition?e._thumbsArrowLeft.addClass(t):e._thumbsArrowLeft.removeClass(t),e._thumbsPosition===e._thumbsMaxPosition?e._thumbsArrowRight.addClass(t):e._thumbsArrowRight.removeClass(t)}},_setCurrentThumb:function(e,t){var i,n=this,r=0,o=e*n._thumbSize+2*n._thumbSize-n._thumbsSpacing+n._thumbsMinPosition;Math.floor(n._thumbsPosition/n._thumbSize);if(n._thumbsNavigation){if(n._firstThumbMoved&&(t=!0,n._firstThumbMoved=!1),o+n._thumbsPosition>n._thumbsViewportSize?(e===n.numSlides-1&&(r=1),i=(-e+n._visibleThumbsPerView-2+r)*n._thumbSize+n._thumbsViewportSize%n._thumbSize+n._thumbsSpacing-n._thumbsMinPosition):0!==e?(e-1)*n._thumbSize<=-n._thumbsPosition+n._thumbsMinPosition&&e-1<=n.numSlides-n._visibleThumbsPerView&&(i=(1-e)*n._thumbSize+n._thumbsMinPosition):(0,i=n._thumbsMinPosition),i!==n._thumbsPosition){var s=void 0===i?n._thumbsPosition:i;s>n._thumbsMinPosition?n._setThumbsPosition(n._thumbsMinPosition):s<n._thumbsMaxPosition?n._setThumbsPosition(n._thumbsMaxPosition):void 0!==i&&(t?n._setThumbsPosition(i):n._animateThumbsTo(i))}n._updateThumbsArrows()}}}),u.rsModules.thumbnails=u.rsProto._initThumbs}(jQuery),function(u){"use strict";u.extend(u.rsProto,{_initVideo:function(){var a=this;a._videoDefaults={autoHideArrows:!0,autoHideControlNav:!1,autoHideBlocks:!1,autoHideCaption:!1,disableCSS3inFF:!0,youTubeCode:'<iframe src="http://www.youtube.com/embed/%id%?rel=1&showinfo=0&autoplay=1&wmode=transparent" frameborder="no"></iframe>',vimeoCode:'<iframe src="http://player.vimeo.com/video/%id%?byline=0&portrait=0&autoplay=1" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},a.st.video=u.extend({},a._videoDefaults,a.st.video),a.ev.on("rsBeforeSizeSet",function(){a._isVideoPlaying&&setTimeout(function(){var e=a._currHolder;e=e.hasClass("rsVideoContainer")?e:e.find(".rsVideoContainer"),a._videoFrameHolder&&a._videoFrameHolder.css({width:e.width(),height:e.height()})},32)});var l=a._browser.mozilla;a.ev.on("rsAfterParseNode",function(e,t,i){var n,r=u(t);if(i.videoURL){a.st.video.disableCSS3inFF&&!n&&l&&(n=!0,a._useCSS3Transitions=a._use3dTransform=!1);var o=u('<div class="rsVideoContainer"></div>'),s=u('<div class="rsBtnCenterer"><div class="rsPlayBtn"><div class="rsPlayBtnIcon"></div></div></div>');r.hasClass("rsImg")?i.content=o.append(r).append(s):i.content.find(".rsImg").wrap(o).after(s)}}),a.ev.on("rsAfterSlideChange",function(){a.stopVideo()})},toggleVideo:function(){return this._isVideoPlaying?this.stopVideo():this.playVideo()},playVideo:function(){var t=this;if(t._isVideoPlaying)return!1;var e=t.currSlide;if(!e.videoURL)return!1;t._playingVideoSlide=e;var i,n,r,o=t._currVideoContent=e.content,s=e.videoURL;return s.match(/youtu\.be/i)||s.match(/youtube\.com/i)?(n=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,(r=s.match(n))&&11==r[7].length&&(i=r[7]),void 0!==i&&(t._videoFrameHolder=t.st.video.youTubeCode.replace("%id%",i))):s.match(/vimeo\.com/i)&&(n=/(www\.)?vimeo.com\/(\d+)($|\/)/,(r=s.match(n))&&(i=r[2]),void 0!==i&&(t._videoFrameHolder=t.st.video.vimeoCode.replace("%id%",i))),t.videoObj=u(t._videoFrameHolder),t.ev.trigger("rsOnCreateVideoElement",[s]),t.videoObj.length&&(t._videoFrameHolder=u('<div class="rsVideoFrameHolder"><div class="rsPreloader"></div><div class="rsCloseVideoBtn"><div class="rsCloseVideoIcn"></div></div></div>'),t._videoFrameHolder.find(".rsPreloader").after(t.videoObj),o=o.hasClass("rsVideoContainer")?o:o.find(".rsVideoContainer"),t._videoFrameHolder.css({width:o.width(),height:o.height()}).find(".rsCloseVideoBtn").off("click.rsv").on("click.rsv",function(e){return t.stopVideo(),e.preventDefault(),e.stopPropagation(),!1}),o.append(t._videoFrameHolder),t.isIPAD&&o.addClass("rsIOSVideo"),t._toggleHiddenClass(!1),setTimeout(function(){t._videoFrameHolder.addClass("rsVideoActive")},10),t.ev.trigger("rsVideoPlay"),t._isVideoPlaying=!0),!0},stopVideo:function(){var t=this;return!!t._isVideoPlaying&&(t.isIPAD&&t.slider.find(".rsCloseVideoBtn").remove(),t._toggleHiddenClass(!0),setTimeout(function(){t.ev.trigger("rsOnDestroyVideoElement",[t.videoObj]);var e=t._videoFrameHolder.find("iframe");if(e.length)try{e.attr("src","")}catch(e){}t._videoFrameHolder.remove(),t._videoFrameHolder=null},16),t.ev.trigger("rsVideoStop"),!(t._isVideoPlaying=!1))},_toggleHiddenClass:function(e,t){var i=[],n=this,r=n.st.video;if(r.autoHideArrows&&(n._arrowLeft&&(i.push(n._arrowLeft,n._arrowRight),n._arrowsAutoHideLocked=!e),n._fsBtn&&i.push(n._fsBtn)),r.autoHideControlNav&&n._controlNav&&i.push(n._controlNav),r.autoHideBlocks&&n._playingVideoSlide.animBlocks&&i.push(n._playingVideoSlide.animBlocks),r.autoHideCaption&&n.globalCaption&&i.push(n.globalCaption),n.slider[e?"removeClass":"addClass"]("rsVideoPlaying"),i.length)for(var o=0;o<i.length;o++)e?i[o].removeClass("rsHidden"):i[o].addClass("rsHidden")}}),u.rsModules.video=u.rsProto._initVideo}(jQuery),function(e){"use strict";e.rsProto._initVisibleNearby=function(){var i=this;i.st.visibleNearby&&i.st.visibleNearby.enabled&&(i._vnDefaults={enabled:!0,centerArea:.6,center:!0,breakpoint:0,breakpointCenterArea:.8,hiddenOverflow:!0,navigateByCenterClick:!1},i.st.visibleNearby=e.extend({},i._vnDefaults,i.st.visibleNearby),i.ev.one("rsAfterPropsSetup",function(){i._sliderVisibleNearbyWrap=i._sliderOverflow.css("overflow","visible").wrap('<div class="rsVisibleNearbyWrap"></div>').parent(),i.st.visibleNearby.hiddenOverflow||i._sliderVisibleNearbyWrap.css("overflow","visible"),i._controlsContainer=i.st.controlsInside?i._sliderVisibleNearbyWrap:i.slider}),i.ev.on("rsAfterSizePropSet",function(){var e,t=i.st.visibleNearby;e=t.breakpoint&&i.width<t.breakpoint?t.breakpointCenterArea:t.centerArea,i._slidesHorizontal?(i._wrapWidth=i._wrapWidth*e,i._sliderVisibleNearbyWrap.css({height:i._wrapHeight,width:i._wrapWidth/e}),i._minPosOffset=i._wrapWidth*(1-e)/2/e):(i._wrapHeight=i._wrapHeight*e,i._sliderVisibleNearbyWrap.css({height:i._wrapHeight/e,width:i._wrapWidth}),i._minPosOffset=i._wrapHeight*(1-e)/2/e),t.navigateByCenterClick||(i._nextSlidePos=i._slidesHorizontal?i._wrapWidth:i._wrapHeight),t.center&&i._sliderOverflow.css("margin-"+(i._slidesHorizontal?"left":"top"),i._minPosOffset)}))},e.rsModules.visibleNearby=e.rsProto._initVisibleNearby}(jQuery)}.apply(e,arguments)})}(this),define("widgets/gallery",["require","widgets/base","sys/bus","lodash","royalSlider"],function(e){"use strict";var i=e("widgets/base"),t=e("sys/bus"),n=e("lodash");e("royalSlider");var r="imp-gallery";function o(e,t){i.call(this,r,e),this._options=t,this._meta=t&&t.meta,this._meta&&delete this._options.meta,this._onSlideChange=n.bind(this._onSlideChange,this),this._$nextGalleriesElement=document.querySelector(t.nextGalleriesElement),this._appendMoreGalleries=n.bind(this._appendMoreGalleries,this)}return o.prototype=Object.create(i.prototype),o.init=function(e,t){return i.init(e,r,o,t)},o.start=function(e,t){return i.start(e,r,o,t)},o.find=function(e){return i.find(e,r)},o.destroy=function(e){return i.destroy(e,r)},o.prototype.start=function(){this._$element.royalSlider(this._options),this._$slider=this._$element.data("royalSlider"),this._$slider.ev.on("rsAfterSlideChange",this._onSlideChange),this._appendMoreGalleries()},o.prototype.stop=function(){this._$slider.ev.off("rsAfterSlideChange",this._onSlideChange),this._$slider.destroy(),this._$slider=void 0},o.prototype._onSlideChange=function(e){t.publish({topic:t.TOPICS.GALLERY.SLIDE_CHANGED,data:{slider:e.target,el:this._$element,currentSlideIndex:e.target.currSlideId,currentSlide:e.target.currSlide,meta:this._meta}})},o.prototype._appendMoreGalleries=function(){if(this._$nextGalleriesElement){var e=this._$slider.numSlides+1;this._$slider.appendSlide(this._$nextGalleriesElement.outerHTML,e)}},o}),define("sys/utils",["require","lodash"],function(e){"use strict";var r=e("lodash");return{url:{addQueryParameters:function(e,t){t=t||{};var i=e||"",n=r.chain(t).omit(r.isUndefined).map(function(e,t){return[encodeURIComponent(t),encodeURIComponent(e)].join("=")}).value();return n.length>0&&(-1===i.indexOf("?")?i+="?":i+="&"),i+n.join("&")},parseQueryString:function(e){return e=(e||"").toString().split("&"),r.reduce(e,function(e,t){var i,n,r;return n=(i=t.split("="))[1]||i[0],r=i[1]&&i[0]||"_",e[decodeURIComponent(r)]=decodeURIComponent(n),e},{})}}}}),define("widgets/visibility-checker",["require","widgets/base","jquery","lodash"],function(e){var r=e("widgets/base"),c=e("jquery"),o=e("lodash"),s="imp-visibility-checker";function i(e,t){r.call(this,s,e),t=t||{},this._visible=!1,this._vOffset=t.vOffset||0,this._hOffset=t.hOffset||0,this._viewport=void 0===t.viewport||t.viewport;var i=r._getInternetExplorerVersion(),n=i>0&&i<=8?600:60;this._onScroll=o.bind(this._onScroll,this),this._onScroll=o.throttle(this._onScroll,n),this._onScreenChange=o.bind(this._onScreenChange,this),this._onScreenChange=o.throttle(this._onScreenChange,n),this._onVisible=t.onVisible,this._onInvisible=t.onInvisible}return i.prototype=Object.create(r.prototype),i.init=function(e,t){return r.init(e,s,i,t)},i.start=function(e,t){return r.start(e,s,i,t)},i.find=function(e){return r.find(e,s)},i.destroy=function(e){return r.destroy(e,s)},i.prototype.start=function(){var e=this;c(window).on({scroll:this._onScroll,resize:this._onScreenChange,orientationchange:this._onScreenChange}),this._$element.ready(function(){e.update(!0)})},i.prototype.stop=function(){c(window).off({scroll:this._onScroll,resize:this._onScreenChange,orientationchange:this._onScreenChange})},i.prototype._onScroll=function(){this.update()},i.prototype._onScreenChange=function(){this.update(!0)},i.prototype.update=function(e){if(this._isVisible(e)){if(this._visible)return;this._visible=!0,o.isFunction(this._onVisible)&&(console.log("[%s] Element visible",s,this._$element),this._onVisible.call(this,this._$element))}else{if(!this._visible)return;this._visible=!1,o.isFunction(this._onInvisible)&&(console.log("[%s] Element invisible",s,this._$element),this._onInvisible.call(this,this._$element))}},i.prototype._isVisible=function(e){return this._viewport?this._isElementInViewport(e)&&this._isElementVisible():this._isElementVisible()},i.prototype._isElementInViewport=function(e){var t,i,n=this._getPosition(e);t={top:c(window).scrollTop(),left:c(window).scrollLeft()},i={top:n.top-t.top,bottom:n.bottom-t.top,left:n.left-t.left,right:n.right-t.left};var r=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth,s=-this._vOffset,a=r+this._vOffset,l=-this._hOffset,u=o+this._hOffset;return!(i.bottom<s||i.top>a)&&!(i.right<l||i.left>u)},i.prototype._getPosition=function(e){var t,i,n={};return t=document.body.scrollWidth,i=document.body.scrollHeight,(e||t!==this._docWidth||i!==this._docHeight)&&(this._docWidth=t,this._docHeight=i,n=this._$element.offset(),this._position={top:parseInt(n.top,10),left:parseInt(n.left,10),bottom:parseInt(n.top,10)+parseInt(this._$element.height(),10),right:parseInt(n.left,10)+parseInt(this._$element.width(),10)}),this._position},i.prototype._isElementVisible=function(){return"none"!==this._$element.css("display")&&!this._$element.parents().filter(function(e,t){return"none"===c(t).css("display")}).length},i}),define("widgets/picture-loader",["require","widgets/base","picturefill","lazysizes"],function(e){"use strict";var i=e("widgets/base"),t=e("picturefill");e("lazysizes");var n="imp-picture-loader";function r(e,t){i.call(this,n,e)}return r.prototype=Object.create(i.prototype),r.init=function(e,t){return i.init(e,n,r,t)},r.start=function(e,t){return i.start(e,n,r,t)},r.find=function(e){return i.find(e,n)},r.destroy=function(e){return i.destroy(e,n)},r.prototype.start=function(){this.refresh()},r.prototype.stop=function(){},r.prototype.refresh=function(){t&&t({elements:this._$element.find("picture img, img[srcset]").toArray()})},r}),define("widgets/infinite-scroll",["require","sys/polyfills","jquery","lodash","sys/bus","sys/utils","widgets/base","widgets/visibility-checker","widgets/picture-loader"],function(e){"use strict";e("sys/polyfills");var s=e("jquery"),a=e("lodash"),l=e("sys/bus"),t=e("sys/utils"),i=e("widgets/base"),n=e("widgets/visibility-checker"),r=e("widgets/picture-loader"),u="imp-ace";function o(e,t){i.call(this,u,e),t=t||{},this._meta=t&&t.meta,this._meta&&delete t.meta,this._request=t.request,this._auto=void 0!==t.auto&&t.auto,this._url=t.url||this._$element.attr("data-href"),this._offsetAttribute=t["offset-attribute"]||"datetime",this._onBeforeLoad=t.onBeforeLoad||this._onBeforeLoad,this._onAfterLoad=t.onAfterLoad||this._onAfterLoad,this._$contentContainer=this._$element.find(t["container-selector"]),this._$contentContainer.length||(this._$contentContainer=this._$element.append('<div class="js-container"></div>')),this._loaderSelector=t["loader-selector"],this._moreSelector=t["more-selector"],this._errorTemplate=t.errorTemplate||'<p class="load-error">Ocorreu um erro a carregar conteúdos</p>',this._onClick=a.bind(this._onClick,this),this._onVisible=a.bind(this._onVisible,this),this._pictureLoader=r.init(e,t).pop()}return o.prototype=Object.create(i.prototype),o.init=function(e,t){return i.init(e,u,o,t)},o.start=function(e,t){return i.start(e,u,o,t)},o.find=function(e){return i.find(e,u)},o.destroy=function(e){return i.destroy(e,u)},o.prototype.start=function(){var e=this._$element.attr("id");e||(e=a.uniqueId("contentLoader_"),this._$element.attr("id",e)),this._count=0,this._id=e,this._loaderSelector||this._$element.append('<div class="loading js-loader" style="text-align: center; display: none;">loading...</div>'),this._moreSelector||this._$element.append('<button class="js-more" style="display: none;">Mais Artigos</button>'),this._$loader=this._$element.find(this._loaderSelector||".js-loader"),this._$loader.hide(),this._$more=this._$element.find(this._moreSelector||".js-more"),this._$more.on("click",this._onClick),this._$more.show(),this._auto&&(this._visibilityChecker=n.init(this._$more,{onVisible:this._onVisible}).pop(),this._visibilityChecker.start()),this._pictureLoader.start()},o.prototype.stop=function(){this._pictureLoader.stop(),this._$more.off("click",this._onClick),this._loaderSelector&&this._$loader.remove(),this._moreSelector&&this._$more.remove(),this._$loader.hide(),this._$more.hide(),this._visibilityChecker&&(this._visibilityChecker.stop(),this._visibilityChecker=void 0)},o.prototype._onClick=function(e){e.preventDefault(),this.load()},o.prototype._onVisible=function(e){this.load()},o.prototype.load=function(){var i,n,r=this;if(!this._loading){this._loading=!0,this._count++,i=a.extend({},this._request||{},{offset:this._getOffset()}),n=t.url.addQueryParameters(this._url,i),this._hideMore(),this._displayLoader();var o=function(){r._hideLoader(),r._loading=!1};return fetch(n).then(function(e){if(e.ok)return e.text();var t=new Error("Network Error. Status: "+(e.statusText||e.status));throw t.status=e.status,t.statusText=e.statusText,t}).then(function(e){var t;o(),t=s(e),r._onBeforeLoad&&r._onBeforeLoad(r._$element,t),t.length>0?(r._display(t),r._showMore(),r.trigger("content-loaded"),l.publish({topic:l.TOPICS.PAGE.LOADED,data:{url:n,options:i,el:"#"+r._id,count:r._count,meta:r._meta}}),r._visibilityChecker&&r._visibilityChecker.update(!0)):r._end(),r._onAfterLoad&&r._onAfterLoad(r._$element,t)}).catch(function(){o(),console.error('[%s] Error loading content for url "%s"',u,n),r._$element.after(r._errorTemplate),r._end(),l.publish({topic:l.TOPICS.PAGE.LOAD_ERROR,data:{url:n,options:i,el:"#"+r._id,count:r._count}})})}},o.prototype._display=function(e){e.css("display","none"),this._$contentContainer.append(e),this._pictureLoader.refresh(),e.fadeIn()},o.prototype._end=function(){var e=this;this._$more.fadeOut(function(){e.stop()})},o.prototype._displayLoader=function(){this._$loader.fadeIn()},o.prototype._hideLoader=function(){this._$loader.fadeOut()},o.prototype._showMore=function(){this._$more.fadeIn()},o.prototype._hideMore=function(){this._$more.fadeOut()},o.prototype._getOffset=function(){return this._$contentContainer.find("["+this._offsetAttribute+"]").last().attr(this._offsetAttribute)},o}),define("widgets/read-more",["require","widgets/base","sys/bus","jquery","lodash"],function(e){var i=e("widgets/base"),t=e("sys/bus"),n=e("jquery"),r=e("lodash"),o="imp-read-more";function s(e,t){i.call(this,o,e),this._options=t||{},this._$toggleElement=n(t.toggleElement)||null,this._$toggleClass=t.toggleClass||null,this._onClick=r.bind(this._onClick,this)}return s.prototype=Object.create(i.prototype),s.init=function(e,t){return i.init(e,o,s,t)},s.start=function(e,t){return i.start(e,o,s,t)},s.prototype.start=function(){this._$element.on("click",this._onClick)},s.prototype.stop=function(){this._$element.off("click",this._onClick)},s.prototype._onClick=function(){console.log("Read More button clicked"),null!==this._$toggleElement&&null!==this._$toggleClass&&this._$toggleElement.toggleClass(this._$toggleClass),t.publish({topic:t.TOPICS.ARTICLE.READ_MORE,data:{meta:{netscope:!0}}})},s}),define("widgets/content-loader",["require","sys/polyfills","jquery","lodash","widgets/base","sys/bus","sys/utils","widgets/picture-loader"],function(e){"use strict";e("sys/polyfills");var s=e("jquery"),a=e("lodash"),i=e("widgets/base"),l=e("sys/bus"),u=e("sys/utils"),n=e("widgets/picture-loader"),c="imp-content-loader",r=function(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){if("QUOTA_EXCEEDED_ERR"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name)return!1}}();function o(e,t){i.call(this,c,e),this._options=t||{},this._request=t.request||{},this._url=t.url,this._pictureLoader=n.init(e,this._options).pop(),this._cache=r&&void 0!==t.cache&&t.cache,this._cacheTime=void 0===t.cacheTime?432e5:t.cacheTime}function d(e){try{return localStorage.getItem(e)}catch(e){}}function f(e,t){try{return localStorage.setItem(e,t)}catch(e){}}return o.prototype=Object.create(i.prototype),o.init=function(e,t){return i.init(e,c,o,t)},o.start=function(e,t){return i.start(e,c,o,t)},o.find=function(e){return i.find(e,c)},o.destroy=function(e){return i.destroy(e,c)},o.prototype.start=function(){var e,i,n=this,r=!1;if(!this._running){this._running=!0;var o=this._$element.attr("id");o||(o=a.uniqueId("contentLoader_"),this._$element.attr("id",o)),this._id=o,(i=this._url||this._$element.attr("data-href"))&&((i=u.url.addQueryParameters(i,this._request))&&""!==i?(i=u.url.addQueryParameters(i,this._options.request),this._cache&&(e=this._getCachedData(i))&&setTimeout(function(){t(e)},0),fetch(i).then(function(e){if(e.ok)return e.text();var t=new Error("Network Error. Status: "+(e.statusText||e.status));throw t.status=e.status,t.statusText=e.statusText,t}).then(function(e){r||t(e),n._cache&&n._setCachedData(i,e)}).catch(function(){console.error('[%s] Error loading content for url "%s"',c,i),n.trigger("content-load-error"),l.publish({topic:l.TOPICS.CONTENT.LOAD_ERROR,data:{url:i,el:"#"+n._id}})})):console.warn("[%s] Missing url",c))}function t(e){var t=s(e);r=!0,n._$default=n._$element.children().detach(),n._$element.append(t),n.trigger("content-loaded"),l.publish({topic:l.TOPICS.CONTENT.LOADED,data:{url:i,el:"#"+o}}),n._pictureLoader.start()}},o.prototype.stop=function(){this._$default&&this._$element.empty().append(this._$default),this._pictureLoader&&this._pictureLoader.stop(),this._running=!1},o.prototype._getCachedData=function(e){e=c+"_"+e;var t=+new Date,i=d(e+"_timestamp");if(null!==i&&(i=parseInt(i,10),!(isNaN(i)||t-i>=this._cacheTime)))return d(e)},o.prototype._setCachedData=function(e,t){var i=+new Date;return f((e=c+"_"+e)+"_timestamp",i),f(e,t)},o}),define("widgets/tabs",["require","jquery","lodash","sys/bus","widgets/base"],function(e){"use strict";var r=e("jquery"),i=e("lodash"),o=e("sys/bus"),n=e("widgets/base"),s="imp-tabs";function a(e,t){n.call(this,s,e),t=t||{},this._tabSelector=t.tabSelector||"[data-target]",this._containerSelector=t.containerSelector||"[data-name]",this._selectedClass=t.selectedClass||"selected",this._containerSelectedClass=t.containerSelectedClass||this._selectedClass||"selected",this._onTabClick=i.bind(this._onTabClick,this),this.onVisible=t.onVisible}a.prototype=Object.create(n.prototype),a.init=function(e,t){return n.init(e,s,a,t)},a.start=function(e,t){return n.start(e,s,a,t)},a.find=function(e){return n.find(e,s)},a.destroy=function(e){return n.destroy(e,s)},a.prototype.start=function(){this._$tabs=this._$element.find(this._tabSelector),this._$containers=this._$element.find(this._containerSelector),this._$element.on("click",this._tabSelector,this._onTabClick).on("click",this._tabSelector+" a",t)},a.prototype.stop=function(){this._$element.off("click",this._tabSelector,this._onTabClick).off("click",this._tabSelector+" a",t)},a.prototype._onTabClick=function(e){var t=r(e.currentTarget).attr("data-target"),i=this._$containers.filter('[data-name="'+t+'"]'),n=this._$tabs.filter('[data-target="'+t+'"]');this._$tabs.removeClass(this._selectedClass),this._$containers.removeClass(this._containerSelectedClass),this._triggerOnVisible(i,n),n.addClass(this._selectedClass),i.addClass(this._containerSelectedClass),i.trigger("tab-selected"),o.publish({topic:o.TOPICS.TAB.SELECTED,data:{target:t}})},a.prototype._triggerOnVisible=function(e,t){if(i.isFunction(this.onVisible))try{this.onVisible({container:e,tab:t})}catch(e){console.error(e.message,e)}};var t=function(e){e.preventDefault()};return a}),define("widgets/telefunken-widget",["require","lodash","sys/bus","widgets/base","telefunken"],function(e){"use strict";var n=e("lodash"),o=e("sys/bus"),i=e("widgets/base"),r=e("telefunken"),s="imp-telefunken-widget";function a(e,t){i.call(this,s,e),this._options=t||{},this._src=this._options.src,this._autoplay=void 0!==this._options.autoplay&&this._options.autoplay,this._volume=this._options.volume,this._meta=this._options.meta||{},this._onVideoPlay=n.bind(this._onVideoPlay,this),this._onVideoPause=n.bind(this._onVideoPause,this),this._onVideoStarted=n.bind(this._onVideoStarted,this),this._onVideoEnded=n.bind(this._onVideoEnded,this),this._onPrerollStart=n.bind(this._onPrerollStart,this),this._onPrerollEnd=n.bind(this._onPrerollEnd,this),this._onPlaylistNext=n.bind(this._onPlaylistNext,this),this._onPlaylistPrev=n.bind(this._onPlaylistPrev,this),this._onPlaylistEnd=n.bind(this._onPlaylistEnd,this),this._resetTrackingStatus=n.bind(this._resetTrackingStatus,this),this._onTimeUpdate=n.bind(n.throttle(this._onTimeUpdate,1e3),this),this._onSeeked=n.bind(n.debounce(this._onSeeked,300),this)}return a.prototype=Object.create(i.prototype),a.Events={PLAY:"video-play",PAUSE:"video-paused",STARTED:"video-started",ENDED:"video-ended",SEEK:"video-seeked",FIRST_QUARTILE:"video-first-quartile-reached",MIDPOINT:"video-midpoint-reached",THIRD_QUARTILE:"video-third-quartile-reached",PREROLL_START:"video-preroll-start",PREROLL_END:"video-preroll-end",PLAYLIST_NEXT:"video-playlist-next",PLAYLIST_PREV:"video-playlist-prev",PLAYLIST_END:"video-playlist-end"},a.init=function(e,t){return i.init(e,s,a,t)},a.start=function(e,t){return i.start(e,s,a,t)},a.find=function(e){return i.find(e,s)},a.destroy=function(e){return i.destroy(e,s)},a.prototype.start=function(){var e=this,t=n.cloneDeep(this._options);if(this._volume&&(t.defaultVolume=this._volume),t.vast){var i=t.vast;!t.vast.url&&n.isString(t.vast)&&(i={url:t.vast}),t.vast=i}this._$wrapper?(this._$element.append(this._$wrapper),this.player=new r.init(this._id,t)):this.player=new r.init(this._$element[0],t),this._trackStatus={},this.player.ready(function(){e.player.on(r.events.PLAY,e._onVideoPlay),e.player.on(r.events.PAUSE,e._onVideoPause),e.player.on(r.events.VIDEO_STARTED,e._onVideoStarted),e.player.on(r.events.VIDEO_ENDED,e._onVideoEnded),e.player.on(r.events.PREROLL_START,e._onPrerollStart),e.player.on(r.events.PREROLL_END,e._onPrerollEnd),e.player.on(r.events.PLAYLIST_NEXT,e._onPlaylistNext),e.player.on(r.events.PLAYLIST_PREV,e._onPlaylistPrev),e.player.on(r.events.PLAYLIST_END,e._onPlaylistEnd),e.player.on(r.events.LOAD_START,e._resetTrackingStatus),e.player.on(r.events.TIME_UPDATE,e._onTimeUpdate),e.player.on(r.events.SEEKED,e._onSeeked),e._src&&e.player.src({src:e._src,type:"video/mp4"}),e._autoplay&&e.player.currentSrc()&&e.player.play()})},a.prototype.stop=function(){if(this.player){var e=this;this.player.ready(function(){e.player.off(r.events.LOAD_START,e._resetTrackingStatus),e.player.off(r.events.TIME_UPDATE,e._onTimeUpdate),e.player.off(r.events.SEEKED,e._onSeeked),e.player.off(r.events.PLAY,e._onVideoPlay),e.player.off(r.events.PAUSE,e._onVideoPause),e.player.off(r.events.VIDEO_STARTED,e._onVideoStarted),e.player.off(r.events.VIDEO_ENDED,e._onVideoEnded),e.player.off(r.events.PREROLL_START,e._onPrerollStart),e.player.off(r.events.PREROLL_END,e._onPrerollEnd),e.player.off(r.events.PLAYLIST_NEXT,e._onPlaylistNext),e.player.off(r.events.PLAYLIST_PREV,e._onPlaylistPrev),e.player.off(r.events.PLAYLIST_END,e._onPlaylistEnd)}),this.player.dispose()}this._$wrapper&&this._$wrapper.detach()},a.prototype._onVideoPlay=function(e){o.publish({topic:o.TOPICS.VIDEO.PLAY,data:this._buildEventData()}),this.trigger(a.Events.PLAY)},a.prototype._onVideoPause=function(e){this.player.seeking()||o.publish({topic:o.TOPICS.VIDEO.PAUSE,data:this._buildEventData()}),this.trigger(a.Events.PAUSE)},a.prototype._onSeeked=function(e){o.publish({topic:o.TOPICS.VIDEO.SEEKED,data:this._buildEventData()})},a.prototype._onVideoStarted=function(e,t,i,n){this.trigger(a.Events.STARTED,t,i,n)},a.prototype._onVideoEnded=function(e,t,i,n){o.publish({topic:o.TOPICS.VIDEO.ENDED,data:this._buildEventData()}),this.trigger(a.Events.ENDED,t,i,n)},a.prototype._onPrerollStart=function(e,t,i){o.publish({topic:o.TOPICS.VIDEO.PREROLL_START,data:this._buildEventData()}),this.trigger(a.Events.PREROLL_START,t,i)},a.prototype._onPrerollEnd=function(e,t,i){o.publish({topic:o.TOPICS.VIDEO.PREROLL_END,data:this._buildEventData()}),this.trigger(a.Events.PREROLL_END,t,i)},a.prototype._onPlaylistNext=function(e){o.publish({topic:o.TOPICS.VIDEO.PLAYLIST_NEXT,data:this._buildEventData()}),this.trigger(a.Events.PLAYLIST_NEXT,e.data)},a.prototype._onPlaylistPrev=function(e){o.publish({topic:o.TOPICS.VIDEO.PLAYLIST_PREV,data:this._buildEventData()}),this.trigger(a.Events.PLAYLIST_PREV,e.data)},a.prototype._onPlaylistEnd=function(e){o.publish({topic:o.TOPICS.VIDEO.PLAYLIST_END,data:this._buildEventData()}),this.trigger(a.Events.PLAYLIST_END)},a.prototype._resetTrackingStatus=function(e){this._trackStatus={}},a.prototype._onTimeUpdate=function(e){var t=0|this.player.currentTime(),i=this.player.duration();if(i&&(this._trackStatus.started||(this._trackStatus.started=!0,o.publish({topic:o.TOPICS.VIDEO.STARTED,data:this._buildEventData()})),i!==1/0)){var n=.5*i|0,r=.75*i|0;t>=(.25*i|0)&&!this._trackStatus.firstquartile&&(this._trackStatus.firstquartile=!0,o.publish({topic:o.TOPICS.VIDEO.FIRST_QUARTILE,data:this._buildEventData()})),t>=n&&!this._trackStatus.midpoint&&(this._trackStatus.midpoint=!0,o.publish({topic:o.TOPICS.VIDEO.MIDPOINT,data:this._buildEventData()})),t>=r&&!this._trackStatus.thirdquartile&&(this._trackStatus.thirdquartile=!0,o.publish({topic:o.TOPICS.VIDEO.THIRD_QUARTILE,data:this._buildEventData()}))}},a.prototype._buildEventData=function(){return n.extend({},{meta:this._meta,id:this._id,entry:this.player.pl&&this.player.pl.getCurrent()})},a.prototype.next=function(){this.player.next()},a.prototype.prev=function(){this.player.prev()},a.prototype.play=function(){var e=this.player;e.ready(function(){e.play()})},a.prototype.pause=function(){var e=this.player;e.ready(function(){e.isAdPlaying()?(e.one(r.events.PREROLL_END,function(){e.one(r.events.TIME_UPDATE,function(){e.pause()})}),e.vast.dispose()):e.pause()})},a.prototype.goToVideo=function(e){var t=this.player;t.ready(function(){t.playList(e)})},a}),define("widgets/social-share",["require","widgets/base","sys/bus","jquery","lodash"],function(e){var i=e("widgets/base"),s=e("sys/bus"),a=e("jquery"),n=e("lodash"),r="imp-social-share",t=!(!navigator.userAgent.match(/Android|iPhone/i)||navigator.userAgent.match(/iPod|iPad/i));function o(e,t){i.call(this,r,e),t=t||{},this._triggerClass=t.triggerClass||".js-share",this._type=t.type||"data-type",this._onClick=n.bind(this._onClick,this)}function l(t,i){var e=document.getElementsByTagName("meta");return Array.prototype.filter.call(e,function(e){return e.getAttribute(t)===i}).map(function(e){return e.getAttribute("content")})}function u(e,t){e=this._normalizeURL(e),window.open(e,"Partilhar","width=600,height=400,resizable=no,toolbar=no,menubar=no,location=no,status=no"),s.publish({topic:s.TOPICS.SOCIAL.SHARED,data:{url:e,network:t}})}return o.prototype=Object.create(i.prototype),o.init=function(e,t){return i.init(e,r,o,t)},o.start=function(e,t){return i.start(e,r,o,t)},o.destroy=function(e){return i.destroy(e,r)},o.find=function(e){return i.find(e,r)},o.destroy=function(e){return i.destroy(e,r)},o.prototype.start=function(){this._$element.on("click",this._triggerClass,this._onClick),t&&(this._$element.find("["+this._type+'="whatsapp-desktop"]').hide(),this._$element.find("["+this._type+'="whatsapp"]').show(),this._$element.find("["+this._type+'="fb-messenger-dialog"]').hide(),this._$element.find("["+this._type+'="fb-messenger-app"]').show())},o.prototype.stop=function(){this._$element.off("click",this._triggerClass,this._onClick)},o.prototype._onClick=function(e){var t,i=a(e.currentTarget),n=i.attr(this._type);switch(n){case"email":if(!(t=i.attr("data-url")||i.attr("href"))){var r=l("property","og:url").pop(),o=l("property","og:title").pop();t="mailto:?subject="+o+"&body="+(o+"%0A%0A"+l("property","og:description").pop()+"%0A%0ALer mais: "+r)}t&&(e.preventDefault(),window.location=this._normalizeURL(t),s.publish({topic:s.TOPICS.SOCIAL.SHARED,data:{url:t,network:n}}));break;case"facebook":if(!(t=i.attr("href")||i.attr("data-url")))t="http://www.facebook.com/sharer/sharer.php?u="+this._normalizeURL(l("property","og:url").pop())+"&t="+this._normalizeURL(l("property","og:title").pop());t&&(e.preventDefault(),u.call(this,t,n));break;case"fb-messenger-dialog":(t=i.attr("href")||i.attr("data-url"))&&(e.preventDefault(),u.call(this,t,n));break;case"twitter":if(!(t=i.attr("href")||i.attr("data-url")))t="http://twitter.com/intent/tweet?url="+encodeURIComponent(l("name","twitter:url").pop())+"&text="+encodeURIComponent(l("name","twitter:title").pop());t&&(e.preventDefault(),u.call(this,t,n));break;case"pinterest":case"googleplus":case"linkedin":(t=i.attr("href")||i.attr("data-url"))&&(e.preventDefault(),u.call(this,t,n))}},o.prototype._normalizeURL=function(e){var t=new RegExp("<URL>","g");return e.replace(t,encodeURIComponent(document.location))},o}),define("sys/store/cookies",["require","lodash"],function(e){"use strict";var i=e("lodash"),n={getItem:function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,i,n,r,o){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var s="";if(i)switch(i.constructor){case Number:s=i===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+i;break;case String:s="; expires="+i;break;case Date:s="; expires="+i.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+s+(r?"; domain="+r:"")+(n?"; path="+n:"")+(o?"; secure":""),!0},removeItem:function(e,t,i){return!!n.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(i?"; domain="+i:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,i=0;i<t;i++)e[i]=decodeURIComponent(e[i]);return e}};function t(e){return function(){try{return e.apply(null,arguments)}catch(e){console.warn("[%s] Error accessing data in cookie storage","imp-store-cookie",arguments),console.debug(e)}}}return{setNamespace:function(){},read:t(n.getItem),save:t(n.setItem),remove:t(n.removeItem),clear:function(){},readAll:function(t){var e=n.keys();return i.chain(e).filter(function(e){return t?-1!==e.indexOf(t):e}).value()},keys:t(n.keys),contains:t(n.hasItem)}}),define("sys/store/permanent",["require","sys/store/cookies","sys/bus","lodash"],function(e){"use strict";var t,n=e("sys/store/cookies"),s=e("sys/bus"),i=e("lodash"),r="imp-store-permanent",a=!1;function o(e){return function(t){var e;try{return"null"===(e=a?localStorage.getItem(t):n.read(t))?null:JSON.parse(e||"null")}catch(e){console.warn("[%s] Error reading data from local storage",r,t),console.debug(e)}}(c(e))}function l(){var e,t=[];try{if(a)for(e=0;e<localStorage.length;e++)t.push(localStorage.key(e));else t=n.keys()}catch(e){console.warn("[%s] Error getting local storage keys",r),console.debug(e)}return t}function u(t){try{a?localStorage.removeItem(t):n.removeItem(t)}catch(e){return console.warn("[%s] Error removing data from local storage",r,t),console.debug(e),!1}return!0}function c(e){return t?[t,e].join("-"):e}function d(e){return t&&e.substring(t.length+1)||e}function f(e){return!!e&&(!t||0===e.indexOf(t))}return function(){try{var e=+new Date+"";localStorage.setItem(r,e),a=localStorage.getItem(r)===e}catch(e){}}(),{setNamespace:function(e){t=e},read:o,save:function(e,t){var i;return i=function(t,e){try{e=JSON.stringify(e),a?localStorage.setItem(t,e):n.save(t,e,1/0)}catch(e){return console.warn("[%s] Error storing data in local storage",r,t),console.debug(e),!1}return!0}(e=c(e),t),s.publish({topic:s.TOPICS.STORE.PERMANENT.UPDATED,data:{count:1,entries:[e]}}),i},remove:function(e){var t;return(t=u(e=c(e)))&&s.publish({topic:s.TOPICS.STORE.PERMANENT.UPDATED,data:{count:-1,entries:[e]}}),t},clear:function(){var e,t,i;if(!a)return!1;var n=!0,r=[],o=l();for(i=0;i<o.length;i++)f(t=o[i])&&(e=u(t),n=n&&e,e&&r.push(t));return s.publish({topic:s.TOPICS.STORE.PERMANENT.UPDATED,data:{count:-r.length,entries:r}}),n},readAll:function(t){var e=l();return i.chain(e).filter(function(e){return f(e)}).map(function(e){return d(e)}).filter(function(e){return t?-1!==e.indexOf(t):e}).reduce(function(e,t){return e[t]=o(t),e},{}).value()},keys:function(){return i.chain(l()).filter(function(e){return f(e)}).map(function(e){return d(e)}).value()},contains:function(t){try{var e=c(t);return a?e in localStorage:n.contains(e)}catch(e){console.warn("[%s] Error reading data from local storage",r,t),console.debug(e)}}}}),define("sys/store/session",["require","sys/bus","lodash"],function(e){"use strict";var t,s=e("sys/bus"),i=e("lodash"),n="imp-store-session",a=!1,r={};function o(e){return function(t){if(!a)return r[t];try{var e=sessionStorage.getItem(t);return"null"===e?null:JSON.parse(e||"null")}catch(e){console.warn("[%s] Error reading data from session storage",n,t),console.debug(e)}}(c(e))}function l(){var e,t,i=[];if(a)try{for(e=0;e<sessionStorage.length;e++)t=sessionStorage.key(e),i.push(t)}catch(e){console.warn("[%s] Error getting session storage keys",n),console.debug(e)}else i=Object.keys(r);return i}function u(t){if(!a)return r[t]=void 0,delete r[t],!0;try{sessionStorage.removeItem(t)}catch(e){return console.warn("[%s] Error removing data from session storage",n,t),console.debug(e),!1}return!0}function c(e){return t?[t,e].join("-"):e}function d(e){return t&&e.substring(t.length+1)||e}function f(e){return!!e&&(!t||0===e.indexOf(t))}return function(){try{var e=+new Date+"";sessionStorage.setItem(n,e),a=sessionStorage.getItem(n)===e}catch(e){}}(),{setNamespace:function(e){t=e},read:o,save:function(e,t){var i;return i=function(t,e){if(!a)return r[t]=e,!0;try{sessionStorage.setItem(t,JSON.stringify(e))}catch(e){return console.warn("[%s] Error storing data in session storage",n,t),console.debug(e),!1}return!0}(e=c(e),t),s.publish({topic:s.TOPICS.STORE.SESSION.UPDATED,data:{count:1,entries:[e]}}),i},remove:function(e){var t;return(t=u(e=c(e)))&&s.publish({topic:s.TOPICS.STORE.SESSION.UPDATED,data:{count:-1,entries:[e]}}),t},clear:function(){var e,t,i;if(!a)return!1;var n=!0,r=[],o=l();for(i=0;i<o.length;i++)f(t=o[i])&&(e=u(t),n=n&&e,e&&r.push(t));return s.publish({topic:s.TOPICS.STORE.SESSION.UPDATED,data:{count:-r.length,entries:r}}),n},readAll:function(t){var e=l();return i.chain(e).filter(function(e){return f(e)}).map(function(e){return d(e)}).filter(function(e){return t?-1!==e.indexOf(t):e}).reduce(function(e,t){return e[t]=o(t),e},{}).value()},keys:function(){return i.chain(l()).filter(function(e){return f(e)}).map(function(e){return d(e)}).value()},contains:function(t){try{var e=c(t);return a?e in localStorage:e in r}catch(e){console.warn("[%s] Error reading data from session storage",n,t),console.debug(e)}}}}),define("sys/store",["require","sys/store/permanent","sys/store/session","sys/store/cookies"],function(e){"use strict";var i=e("sys/store/permanent"),n=e("sys/store/session"),r=e("sys/store/cookies");return{init:function(e){var t=e&&e.namespace;t&&(r.setNamespace(r),i.setNamespace(t),n.setNamespace(t))},permanent:i,session:n,cookie:r}}),define("impresa-widgets",["require","sys/polyfills","widgets/content-slider","widgets/gallery","widgets/infinite-scroll","widgets/picture-loader","widgets/read-more","widgets/content-loader","widgets/tabs","widgets/telefunken-widget","widgets/visibility-checker","widgets/social-share","sys/bus","sys/store","sys/utils"],function(e){"use strict";return e("sys/polyfills"),{ContentSlider:e("widgets/content-slider"),Gallery:e("widgets/gallery"),InfiniteScroll:e("widgets/infinite-scroll"),PictureLoader:e("widgets/picture-loader"),ReadMore:e("widgets/read-more"),PortletLoader:e("widgets/content-loader"),Tabs:e("widgets/tabs"),TelefunkenWidget:e("widgets/telefunken-widget"),VisibilityChecker:e("widgets/visibility-checker"),SocialShare:e("widgets/social-share"),BUS:e("sys/bus"),Store:e("sys/store"),Utils:e("sys/utils")}}),function(t,i){"function"===typeof define&&define.amd?define("postal",["lodash"],function(e){return i(e,t)}):"object"===typeof module&&module.exports?module.exports=i(require("lodash"),this):t.postal=i(t._,t)}(this,function(c,e,n){var t=e&&e.postal,u={configuration:c.extend({},{DEFAULT_CHANNEL:"/",SYSTEM_CHANNEL:"postal",enableSystemMessages:!0,cacheKeyDelimiter:"|",autoCompactResolver:!1})},d=u.configuration,i=function(e,t){this.bus=t,this.channel=e||d.DEFAULT_CHANNEL};i.prototype.subscribe=function(){return this.bus.subscribe({channel:this.channel,topic:1===arguments.length?arguments[0].topic:arguments[0],callback:1===arguments.length?arguments[0].callback:arguments[1]})},i.prototype.publish=function(){var e,t={};if(e="string"===typeof arguments[0]?(t.topic=arguments[0],t.data=arguments[1],arguments[2]):(t=arguments[0],arguments[1]),"object"!==typeof t)throw new Error("The first argument to ChannelDefinition.publish should be either an envelope object or a string topic.");t.channel=this.channel,this.bus.publish(t,e)};var s=function(e,t,i){if(3!==arguments.length)throw new Error("You must provide a channel, topic and callback when creating a SubscriptionDefinition instance.");if(0===t.length)throw new Error("Topics cannot be empty");this.channel=e,this.topic=t,this.callback=i,this.pipeline=[],this.cacheKeys=[],this._context=n},r=function(){var i;return function(e){var t=!1;return i="string"===typeof e?(t=e===i,e):(t=c.isEqual(e,i),c.extend({},e)),!t}},o=function(){var i=[];return function(t){var e=!c.any(i,function(e){return c.isEqual(t,e)});return e&&i.push(t),e}};function a(t,i){return function(){if(console.warn||console.log){var e="Warning, the "+t+" method has been deprecated. Please use "+i+" instead.";console.warn?console.warn(e):console.log(e)}return s.prototype[i].apply(this,arguments)}}s.prototype={catch:function(t){var e=this.callback;return this.callback=function(){try{e.apply(this,arguments)}catch(e){t(e,arguments[0])}},this},defer:function(){return this.delay(0)},disposeAfter:function(e){if("number"!==typeof e||e<=0)throw new Error("The value provided to disposeAfter (maxCalls) must be a number greater than zero.");var t=this,n=c.after(e,c.bind(function(){t.unsubscribe()}));return t.pipeline.push(function(e,t,i){i(e,t),n()}),t},distinct:function(){return this.constraint(new o)},distinctUntilChanged:function(){return this.constraint(new r)},invokeSubscriber:function(e,t){if(!this.inactive){var n=this,r=n.pipeline,o=r.length,s=n._context,a=-1,l=!1;if(o){r=r.concat([n.callback]);!function e(t,i){(a+=1)<o?r[a].call(s,t,i,e):(n.callback.call(s,t,i),l=!0)}(e,t)}else n.callback.call(s,e,t),l=!0;return l}},logError:function(){var e;console&&(e=console.warn?console.warn:console.log,this.catch(e));return this},once:function(){return this.disposeAfter(1)},subscribe:function(e){return this.callback=e,this},unsubscribe:function(){this.inactive||u.unsubscribe(this)},constraint:function(n){if("function"!==typeof n)throw new Error("Predicate constraint must be a function");return this.pipeline.push(function(e,t,i){n.call(this,e,t)&&i(e,t)}),this},constraints:function(e){var t=this;return c.each(e,function(e){t.constraint(e)}),t},context:function(e){return this._context=e,this},debounce:function(e,t){if("number"!==typeof e)throw new Error("Milliseconds must be a number");return this.pipeline.push(c.debounce(function(e,t,i){i(e,t)},e,!!t)),this},delay:function(n){if("number"!==typeof n)throw new Error("Milliseconds must be a number");return this.pipeline.push(function(e,t,i){setTimeout(function(){i(e,t)},n)}),this},throttle:function(e){if("number"!==typeof e)throw new Error("Milliseconds must be a number");return this.pipeline.push(c.throttle(function(e,t,i){i(e,t)},e)),this}};for(var l=["withConstraint","withConstraints","withContext","withDebounce","withDelay","withThrottle"],f=["constraint","constraints","context","debounce","delay","throttle"],p=0;p<6;p++){var h=l[p];s.prototype[h]=a(h,f[p])}d.resolver={cache:{},regex:{},enableCache:!0,compare:function(e,t,i){var n,r,o,s=t+d.cacheKeyDelimiter+e,a=this.cache[s],l=i||{},u=this.enableCache&&!l.resolverNoCache;return!0===a||(a=-1===e.indexOf("#")&&-1===e.indexOf("*")?t===e:((r=this.regex[e])||(n="^"+c.map(e.split("."),function(e){var t="";return o&&(t="#"!==o?"\\.\\b":"\\b"),t+="#"===(o=e)?"[\\s\\S]*":"*"===e?"[^.]+":e}).join("")+"$",r=this.regex[e]=new RegExp(n)),r.test(t)),u&&(this.cache[s]=a)),a},reset:function(){this.cache={},this.regex={}},purge:function(o){var s=this,a=d.cacheKeyDelimiter;if("undefined"===typeof o)this.reset();else{var e=!0===o.compact?function(e,t){var i=t.split(a);0===u.getSubscribersFor({topic:i[0]}).length&&delete s.cache[t]}:function(e,t){var i=t.split(a),n=i[0],r=i[1];"undefined"!==typeof o.topic&&o.topic!==n||"undefined"!==typeof o.binding&&o.binding!==r||delete s.cache[t]};c.each(this.cache,e)}}};var m=0,g=[],_=0;function v(n,r,o){return function(e,t,i){e===n&&i.splice(t,1),0===i.length&&delete o[r]}}function y(t,i,n,r,e){var o=e&&e.headers||{};return function(e){d.resolver.compare(e.topic,t,o)&&(o.resolverNoCache||(i[n]=i[n]||[]).push(e),e.cacheKeys.push(n),r&&r(e))}}function b(e,t){return{channel:d.SYSTEM_CHANNEL,topic:"subscription."+e,data:{event:"subscription."+e,channel:t.channel,topic:t.topic}}}var w=c.bind(b,this,"created"),S=c.bind(b,this,"removed");if(c.extend(u,{cache:{},subscriptions:{},wireTaps:[],ChannelDefinition:i,SubscriptionDefinition:s,channel:function(e){return new i(e,this)},addWireTap:function(t){var i=this;return i.wireTaps.push(t),function(){var e=i.wireTaps.indexOf(t);-1!==e&&i.wireTaps.splice(e,1)}},noConflict:function(){if("undefined"===typeof window||"undefined"!==typeof window&&"function"===typeof define&&define.amd)throw new Error("noConflict can only be used in browser clients which aren't using AMD modules");return e.postal=t,this},getSubscribersFor:function(t){var i=[];return c.each(this.subscriptions,function(e){c.each(e,function(e){var o,s;i=i.concat(c.filter(e,(o=t,s=d.resolver,"function"===typeof o?o:o?function(i){var n=0,r=0;return c.each(o,function(e,t){n+=1,("topic"===t&&s.compare(i.topic,o.topic,{resolverNoCache:!0})||"context"===t&&o.context===i._context||i[t]===o[t])&&(r+=1)}),n===r}:function(){return!0})))})}),i},publish:function(t,e){++m;var i=t.channel=t.channel||d.DEFAULT_CHANNEL,n=t.topic;t.timeStamp=new Date,this.wireTaps.length&&c.each(this.wireTaps,function(e){e(t.data,t,m)});var r=i+d.cacheKeyDelimiter+n,o=this.cache[r],s=0,a=0;if(o)c.each(o,function(e){e.invokeSubscriber(t.data,t)?a++:s++});else{var l=y(n,this.cache,r,function(e){e.invokeSubscriber(t.data,t)?a++:s++},t);c.each(this.subscriptions[i],function(e){c.each(e,l)})}0===--m&&function(){for(;g.length;)u.unsubscribe(g.shift())}(),e&&e({activated:a,skipped:s})},reset:function(){this.unsubscribeFor(),d.resolver.reset(),this.subscriptions={},this.cache={}},subscribe:function(e){var t,i=this.subscriptions,n=new s(e.channel||d.DEFAULT_CHANNEL,e.topic,e.callback),r=i[n.channel],o=n.channel.length;return r||(r=i[n.channel]={}),(t=i[n.channel][n.topic])||(t=i[n.channel][n.topic]=[]),t.push(n),c.each(c.keys(this.cache),function(e){e.substr(0,o)===n.channel&&y(e.split(d.cacheKeyDelimiter)[1],this.cache,e)(n)},this),d.enableSystemMessages&&this.publish(w(n)),n},unsubscribe:function(){for(var e,t,i,n,r=arguments.length,o=0;o<r;o++){if((e=arguments[o]).inactive=!0,m)return void g.push(e);if(i=(t=this.subscriptions[e.channel])&&t[e.topic]){var s=i.length;for(n=0;n<s;){if(i[n]===e){i.splice(n,1);break}n+=1}if(0===i.length&&(delete t[e.topic],c.keys(t).length||delete this.subscriptions[e.channel]),e.cacheKeys&&e.cacheKeys.length)for(var a;a=e.cacheKeys.pop();)c.each(this.cache[a],v(e,a,this.cache));if("function"===typeof d.resolver.purge){var l=!0===d.autoCompactResolver?0:"number"===typeof d.autoCompactResolver&&d.autoCompactResolver-1;l>=0&&_===l?(d.resolver.purge({compact:!0}),_=0):l>=0&&_<l&&(_+=1)}}d.enableSystemMessages&&this.publish(S(e))}},unsubscribeFor:function(e){var t=[];this.subscriptions&&(t=this.getSubscribersFor(e),this.unsubscribe.apply(this,t))}}),e&&Object.prototype.hasOwnProperty.call(e,"__postalReady__")&&c.isArray(e.__postalReady__))for(;e.__postalReady__.length;)e.__postalReady__.shift().onReady(u);return u}),function(i,n){"function"===typeof define&&define.amd?define("postal.federation",["lodash","postal"],function(e,t){return n(e,t,i)}):"object"===typeof module&&module.exports?module.exports=n(require("lodash"),require("postal")):i.postal=n(i._,i.postal,i)}(this,function(s,a,e,t){var i,n;a.createUUID||(a.createUUID=function(){for(var e=[],t="0123456789abcdef",i=0;i<36;i++)e[i]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}),a.instanceId||(a.instanceId=function(e){return e&&(n=i,i=e,a.publish({channel:a.configuration.SYSTEM_CHANNEL,topic:"instanceId.changed",data:{oldId:n,newId:i}})),i});var r=function(){},o=!1,l=[],u=[],c=[],d={enabled:!0,filterMode:"whitelist",filterDirection:"both"},f=d,p=function(e,t,i){var n=Object.prototype.hasOwnProperty.call(a.fedx.filters[i],e),r=n&&s.any(a.fedx.filters[i][e],function(e){return a.configuration.resolver.compare(e,t)}),o="blacklist"===f.filterMode;return f.enabled&&(o&&(!n||n&&!r)||!o&&n&&r)},h={ping:function(){return{type:"federation.ping",instanceId:a.instanceId(),timeStamp:new Date,ticket:a.createUUID()}},pong:function(e){return{type:"federation.pong",instanceId:a.instanceId(),timeStamp:new Date,pingData:{instanceId:e.instanceId,timeStamp:e.timeStamp,ticket:e.ticket}}},message:function(e){return{type:"federation.message",instanceId:a.instanceId(),timeStamp:new Date,envelope:e}},disconnect:function(){return{type:"federation.disconnect",instanceId:a.instanceId(),timeStamp:new Date}},bundle:function(e){return{type:"federation.bundle",instanceId:a.instanceId(),timeStamp:new Date,packingSlips:e}}},m={"federation.ping":function(e){e.source.setInstanceId(e.packingSlip.instanceId),e.source.handshakeComplete?e.source.sendPong(e.packingSlip):e.source.sendBundle([a.fedx.getPackingSlip("pong",e.packingSlip),a.fedx.getPackingSlip("ping")])},"federation.pong":function(e){e.source.handshakeComplete=!0,e.source.setInstanceId(e.packingSlip.instanceId),e.source.pings[e.packingSlip.pingData.ticket]&&(e.source.pings[e.packingSlip.pingData.ticket].callback({ticket:e.packingSlip.pingData.ticket,instanceId:e.packingSlip.instanceId,source:e.source}),e.source.pings[e.packingSlip.pingData.ticket]=t),s.contains(a.fedx.clients,e.packingSlip.instanceId)||a.fedx.clients.push(e.packingSlip.instanceId),a.publish({channel:"postal.federation",topic:"client.federated",data:{remoteId:e.source.instanceId,localId:a.instanceId(),transport:e.transport}})},"federation.disconnect":function(e){a.fedx.clients=s.without(a.fedx.clients,e.source.instanceId),a.fedx.disconnect({transport:e.source.transportName,instanceId:e.source.instanceId,doNotNotify:!0})},"federation.message":function(e){var t=e.packingSlip.envelope;p(t.channel,t.topic,"in")&&(t.lastSender=e.packingSlip.instanceId,a.publish(t))},"federation.bundle":function(t){s.each(t.packingSlip.packingSlips,function(e){a.fedx.onFederatedMsg(s.extend({},t,{packingSlip:e}))})}},g=function(e,t,i){this.target=e,this.options=t||{},this.pings={},this.instanceId=i,this.handshakeComplete=!1};function _(e){a.fedx.signalReady.apply(this,e)}function v(e){a.fedx.send.apply(this,e)}function y(e){a.fedx.onFederatedMsg.call(this,e)}return g.prototype.sendPing=function(e){var t=a.fedx.getPackingSlip("ping");this.pings[t.ticket]={ticket:t.ticket,callback:e||r},this.send(t)},g.prototype.sendPong=function(e){this.send(a.fedx.getPackingSlip("pong",e))},g.prototype.sendBundle=function(e){this.send(a.fedx.getPackingSlip("bundle",e))},g.prototype.sendMessage=function(e){if(this.handshakeComplete){e.originId=e.originId||a.instanceId();var t=s.clone(e);!this.instanceId||this.instanceId===t.lastSender||t.knownIds&&t.knownIds.length&&(!t.knownIds||s.include(t.knownIds,this.instanceId))||(t.knownIds=(t.knownIds||[]).concat(s.without(a.fedx.clients,this.instanceId)),this.send(a.fedx.getPackingSlip("message",t)))}},g.prototype.disconnect=function(){this.send(a.fedx.getPackingSlip("disconnect"))},g.prototype.onMessage=function(e){this.shouldProcess()&&a.fedx.onFederatedMsg({transport:this.transportName,packingSlip:e,source:this})},g.prototype.shouldProcess=function(){return!0},g.prototype.send=function(){throw new Error("An object deriving from FederationClient must provide an implementation for 'send'.")},g.prototype.setInstanceId=function(e){this.instanceId=e},g.extend=function(e,t){function i(){g.apply(this,arguments)}return i.prototype=Object.create(g.prototype),s.extend(i.prototype,e),s.extend(i,t),i},a.fedx=s.extend({FederationClient:g,packingSlips:h,handlers:m,clients:[],transports:{},filters:{in:{},out:{}},addFilter:function(e){e=s.isArray(e)?e:[e],s.each(e,function(t){t.direction=t.direction||f.filterDirection,s.each("both"===t.direction?["in","out"]:[t.direction],function(e){this.filters[e][t.channel]?s.include(this.filters[e][t.channel],t.topic)||this.filters[e][t.channel].push(t.topic):this.filters[e][t.channel]=[t.topic]},this)},this)},removeFilter:function(e){e=s.isArray(e)?e:[e],s.each(e,function(t){t.direction=t.direction||f.filterDirection,s.each("both"===t.direction?["in","out"]:[t.direction],function(e){this.filters[e][t.channel]&&s.include(this.filters[e][t.channel],t.topic)&&(this.filters[e][t.channel]=s.without(this.filters[e][t.channel],t.topic))},this)},this)},canSendRemote:function(e,t){return p(e,t,"out")},configure:function(e){if(e&&e.filterMode&&"blacklist"!==e.filterMode&&"whitelist"!==e.filterMode)throw new Error("postal.fedx filterMode must be 'blacklist' or 'whitelist'.");return e&&(f=s.defaults(e,d)),f},getPackingSlip:function(e){if(Object.prototype.hasOwnProperty.call(h,e))return h[e].apply(this,Array.prototype.slice.call(arguments,1))},onFederatedMsg:function(e){if(o){if(!Object.prototype.hasOwnProperty.call(m,e.packingSlip.type))throw new Error("postal.federation does not have a message handler for '"+e.packingSlip.type+"'.");m[e.packingSlip.type](e)}else l.push(e)},sendMessage:function(t){o?s.each(this.transports,function(e){e.sendMessage(t)}):u.push(arguments)},disconnect:function(t){t=t||{};var e=this.transports;t.transport&&((e={})[t.transport]=this.transports[t.transport]),s.each(e,function(e){e.disconnect({target:t.target,instanceId:t.instanceId,doNotNotify:!!t.doNotNotify})},this)},_getTransports:function(){return s.reduce(this.transports,function(e,t,i){return e[i]=!0,e},{})},signalReady:function(e,t,i){if(o){var n=this._getTransports();switch(arguments.length){case 1:"function"===typeof e?i=e:"string"===typeof e&&((n={})[e]=this.transports[e],i=r);break;case 2:"string"===typeof e?(n={})[e]=this.transports[e]:n=e,i=t||r;break;case 3:(n={})[e]=[t]}s.each(n,function(e,t){e="boolean"===typeof e?[]:e,this.transports[t].signalReady(e,i)},this)}else c.push(arguments)}},a.fedx),a.addWireTap(function(e,t){a.fedx.canSendRemote(t.channel,t.topic)&&a.fedx.sendMessage(t)}),a.subscribe({channel:a.configuration.SYSTEM_CHANNEL,topic:"instanceId.changed",callback:function(){for(o=!0;c.length;)_(c.shift());for(;u.length;)v(u.shift());for(;l.length;)y(l.shift())}}),a.instanceId()!==t&&(o=!0),a}),function(i,n){"function"===typeof define&&define.amd?define("postal.xframe",["lodash","postal.federation"],function(e,t){return n(e,t,i)}):"object"===typeof module&&module.exports?module.exports=n(require("lodash"),require("postal.federation")):i.postal=n(i._,i.postal,i)}(this,function(r,o,e,t){var i=location.origin||location.protocol+"//"+location.host;function n(){_.routeMessage.apply(_,arguments)}function s(e){for(var t in e)e.hasOwnProperty(t)&&("function"===typeof e[t]&&delete e[t],r.isPlainObject(e[t])&&s(e[t]),r.isArray(e[t])&&r.each(e[t],s));return e}var a=/MSIE [8,9]/.test(navigator.userAgent),l=function(e,t){var i=r.find(this.remotes,function(e){return e.instanceId===t});return i&&e.push(i),e},u=function(e,t){var i=r.find(this.remotes,function(e){return e.target===t});return i&&e.push(i),e},c=function(e){e.disconnect()},d="undefined"===typeof window&&postMessage&&location,f=[],p=function(){},h={allowedOrigins:[i],enabled:!0,defaultOriginUrl:"*",safeSerialize:!1},m=r.extend({},h),g=o.fedx.FederationClient.extend({transportName:"xframe",shouldProcess:function(){var e=!!m.allowedOrigins.length;return m.enabled&&("*"===this.options.origin||e&&r.contains(m.allowedOrigins,this.options.origin)||!e||this.options.isWorker&&r.contains(f,this.target)||d)},send:function(e){var t,i;this.shouldProcess()&&(i=d?null:this.target,t=[o.fedx.transports.xframe.wrapForTransport(e)],this.options.isWorker||d||t.push(this.options.origin),d?this.target.postMessage.apply(i,t):1===t.length?this.target.postMessage(t[0]):this.target.postMessage(t[0],t[1]))}},{getInstance:function(e,t,i){var n=new g(e,{origin:t,isWorker:"undefined"!==typeof Worker&&e instanceof Worker},i);return n.options.isWorker&&_.listenToWorker(n.target),n}}),_=o.fedx.transports.xframe={eagerSerialize:a,XFrameClient:g,configure:function(e){return e&&(m=r.defaults(r.extend(m,e),h)),m},clearConfiguration:function(){m=r.extend({},h)},getTargets:d?function(){return[{target:{postMessage:postMessage}}]}:function(){var e=r.map(document.getElementsByTagName("iframe"),function(e){var t=document.createElement("a");t.href=e.src;var i=t.protocol+"//"+t.host;return"//"===i&&(i=null),{target:e.contentWindow,origin:i||m.defaultOriginUrl}});return window.parent&&window.parent!==window&&e.push({target:window.parent,origin:"*"}),e.concat(f)},remotes:[],wrapForTransport:a?function(e){return JSON.stringify({postal:!0,packingSlip:e})}:function(e){return{postal:!0,packingSlip:e}},unwrapFromTransport:function(e){if("string"!==typeof e||!a&&-1===e.indexOf('"postal":true'))return e;try{return JSON.parse(e)}catch(e){return{}}},routeMessage:function(e){var t=e.source||e.currentTarget,i=this.unwrapFromTransport(e.data);if(i.postal){"worker"===o.instanceId()&&console.log("parsed: "+JSON.stringify(i));var n=r.find(this.remotes,function(e){return e.target===t});n||(n=g.getInstance(t,e.origin,i.packingSlip.instanceId),this.remotes.push(n)),n.onMessage(i.packingSlip)}},sendMessage:function(e){var t=e;m.safeSerialize&&(t=s(r.cloneDeep(e))),r.each(this.remotes,function(e){e.sendMessage(t)})},disconnect:function(e){var t=(e=e||{}).instanceId?r.reduce(r.isArray(e.instanceId)?e.instanceId:[e.instanceId],l,[],this):e.target?r.reduce(r.isArray(e.target)?e.target:[e.target],u,[],this):this.remotes;e.doNotNotify||r.each(t,c,this),this.remotes=r.without.apply(null,[this.remotes].concat(t))},signalReady:function(e,i){e=(e=r.isArray(e)?e:[e]).length?e:this.getTargets(),i=i||p,r.each(e,function(t){if(t.target){t.origin=t.origin||m.defaultOriginUrl;var e=r.find(this.remotes,function(e){return e.target===t.target});e||(e=g.getInstance(t.target,t.origin),this.remotes.push(e)),e.sendPing(i)}},this)},addEventListener:d?function(){addEventListener("message",n)}:function(e,t,i,n){"undefined"!==typeof window&&("addEventListener"in e?e.addEventListener(t,i,n):e.attachEvent("on"+t,i))},listenToWorker:function(e){r.include(f,e)||(e.addEventListener("message",n),f.push(e))},stopListeningToWorker:function(e){if(e)e.removeEventListener("message",n),f=r.without(f,e);else for(;f.length;)f.pop().removeEventListener("message",n)}};return _.addEventListener(this,"message",n,!1),o}),require.config({bundles:{ipub:["ipub/widget","ipub/video-player","ipub/impl/google","ipub/impl/sad","ipub/impl/sapo","ipub/impl/cod"]}}),define("ipub/impl/google",["require","sys/polyfills","widgets/base","lodash"],function(t){"use strict";t("sys/polyfills");var n=t("widgets/base"),r=t("lodash"),o="imp-pub-google";window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var i=!1,s=0;function a(e,t){if(n.call(this,o,e),t=t||{},this._id=this._$element.attr("id")||"ipub_google_"+s++,this._adUnitPath=t.adUnitPath,this._target=t.target||{},this._size=t.size,this._collapseEmptyDiv=void 0===t.collapseEmptyDiv||t.collapseEmptyDiv,this._sizeMappings=[].concat(t.sizeMappings||[]),!this._adUnitPath)throw new Error("Missing ad unit path");if(this._target&&r.isString(this._target)){var i=this._target;this._target={},this._target.categoria=i}}return a.init=function(e,t){return n.init(e,o,a,t)},a.start=function(e,t){return n.start(e,o,a,t)},a.find=function(e){return n.find(e,o)},a.destroy=function(e){return n.destroy(e,o)},a.prototype.start=function(){var e,s=this;this._$element.attr("id",this._id),i||(e="https:"===document.location.protocol,t([(e?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js"],function(){i=!0})),googletag.cmd.push(function(){var e,t,i,n,r,o;if(e=googletag.defineSlot(s._adUnitPath,s._size,s._id),s._sizeMappings&&s._sizeMappings.length>0){for(t=googletag.sizeMapping(),r=0;r<s._sizeMappings.length;r++)i=s._sizeMappings[r].viewport||[],n=s._sizeMappings[r].slot||[],t=t.addSize(i,n);e=e.defineSizeMapping(t.build())}for(o in e=e.setCollapseEmptyDiv(s._collapseEmptyDiv).addService(googletag.pubads()),s._target)s._target.hasOwnProperty(o)&&(e=e.setTargeting(o,s._target[o]));s._slot=e,googletag.enableServices(),googletag.display(s._id)})},a.prototype.stop=function(){var e=this;googletag.cmd.push(function(){e._slot&&(googletag.destroySlots([e._slot]),e._slot=void 0)})},a.prototype.reload=function(){var e=this;this._updating||(this._updating=!0,googletag.cmd.push(function(){e._slot&&(googletag.pubads().refresh([e._slot]),e._slot=void 0),e._updating=!0}))},a.prototype.push=function(e){var t=this;googletag.cmd.push(function(){e.call(t)})},a.push=function(e){googletag.cmd.push(e)},a}),function(){var t=function(){var e,t={},i=this.document.createElement("div");return e="<P><I></P></I>",i.innerHTML=e,t.tagSoup=i.innerHTML!==e,i.innerHTML="<P><i><P></P></i></P>",t.selfClose=2===i.childNodes.length,t}(),l=/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,r=/^<\/([\-A-Za-z0-9_]+)[^>]*>/,u=/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,h=/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i,o=!1;function e(c,d){for(var e in c=c||"",d=d||{},t)t.hasOwnProperty(e)&&(d.autoFix&&(d["fix_"+e]=!0),d.fix=d.fix||d["fix_"+e]);var a=document.createElement("div"),f=function(e){c=e+c},i={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},n={comment:function(){var e=c.indexOf("--\x3e");if(e>=0)return{content:c.substr(4,e-1),length:e+3}},endTag:function(){var e=c.match(r);if(e)return{tagName:e[1],length:e[0].length}},atomicTag:function(){var e=n.startTag();if(e){var t=c.slice(e.length);if(t.match(new RegExp("</\\s*"+e.tagName+"\\s*>","i"))){var i=t.match(new RegExp("([\\s\\S]*?)</\\s*"+e.tagName+"\\s*>","i"));if(i)return{tagName:e.tagName,attrs:e.attrs,content:i[1],length:i[0].length+e.length}}}},startTag:function(){if(-1===c.indexOf(">"))return null;var e=c.match(l);if(e){var r={},o={},s=e[2];return e[2].replace(u,function(e,t){if(arguments[2]||arguments[3]||arguments[4]||arguments[5])if(arguments[5])r[arguments[5]]="",o[t]=!0;else{var i=arguments[2]||arguments[3]||arguments[4]||h.test(t)&&t||"";r[t]="string"===typeof(n=i)&&-1!==n.indexOf("&")?(a.innerHTML=n,a.textContent||a.innerText||n):n}else r[t]=null;var n;s=s.replace(e,"")}),{tagName:e[1],attrs:r,booleanAttrs:o,rest:s,unary:!!e[3],length:e[0].length}}},chars:function(){var e=c.indexOf("<");return{length:e>=0?e:c.length}}},p=function(){for(var e in i)if(i[e].test(c)){o&&console.log("suspected "+e);var t=n[e]();return t?(o&&console.log("parsed "+e,t),t.type=t.type||e,t.text=c.substr(0,t.length),c=c.slice(t.length),t):null}};return d.fix&&function(){var t=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,i=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i,n=[];n.last=function(){return this[this.length-1]},n.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},n.containsTagName=function(e){for(var t,i=0;t=this[i];i++)if(t.tagName===e)return!0;return!1};var r=function(e){return e&&"startTag"===e.type&&(e.unary=t.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e},o=p,s=function(){var e=n.pop();f("</"+e.tagName+">")},a={startTag:function(e){var t=e.tagName;"TR"===t.toUpperCase()&&n.lastTagNameEq("TABLE")?(f("<TBODY>"),u()):d.fix_selfClose&&i.test(t)&&n.containsTagName(t)?n.lastTagNameEq(t)?s():(f("</"+e.tagName+">"),u()):e.unary||n.push(e)},endTag:function(e){n.last()?d.fix_tagSoup&&!n.lastTagNameEq(e.tagName)?s():n.pop():d.fix_tagSoup&&l()}},l=function(){o(),u()},u=function(){var e,t,i=(e=c,t=r(o()),c=e,t);i&&a[i.type]&&a[i.type](i)};p=function(){return u(),r(o())}}(),{append:function(e){c+=e},readToken:p,readTokens:function(e){for(var t;t=p();)if(e[t.type]&&!1===e[t.type](t))return},clear:function(){var e=c;return c="",e},rest:function(){return c},stack:[]}}for(var i in e.supports=t,e.tokenToString=function(e){var t={comment:function(e){return"\x3c!--"+e.content},endTag:function(e){return"</"+e.tagName+">"},atomicTag:function(e){return o&&console.log(e),t.startTag(e)+e.content+t.endTag(e)},startTag:function(e){var t="<"+e.tagName;for(var i in e.attrs){t+=" "+i;var n=e.attrs[i];"undefined"!=typeof e.booleanAttrs&&"undefined"!=typeof e.booleanAttrs[i]||(t+='="'+(n?n.replace(/(^|[^\\])"/g,'$1\\"'):"")+'"')}return e.rest&&(t+=e.rest),t+(e.unary&&!e.html5Unary?"/>":">")},chars:function(e){return e.text}};return t[e.type](e)},e.escapeAttributes=function(e){var t={};for(var i in e){var n=e[i];t[i]=n&&n.replace(/(^|[^\\])"/g,'$1\\"')}return t},t)e.browserHasFlaw=e.browserHasFlaw||!t[i]&&i;this.htmlParser=e}(),function(){function d(){}var s={afterAsync:d,afterDequeue:d,afterStreamStart:d,afterWrite:d,autoFix:!0,beforeEnqueue:d,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:d,error:function(e){throw e},releaseAsync:!1},f=this,t=void 0;function p(e){return e!==t&&null!==e}if(!f.postscribe){var e=Array.prototype.slice,h=function(){var a="data-ps-";function r(e,t,i){var n=a+t;if(2===arguments.length){var r=e.getAttribute(n);return p(r)?String(r):r}p(i)&&""!==i?e.setAttribute(n,i):e.removeAttribute(n)}function e(e,t){var i=e.ownerDocument;_(this,{root:e,options:t,win:i.defaultView||i.parentWindow,doc:i,parser:htmlParser("",{autoFix:t.autoFix}),actuals:[e],proxyHistory:"",proxyRoot:i.createElement(e.nodeName),scriptStack:[],writeQueue:[]}),r(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for([].push.apply(this.writeQueue,arguments);!this.deferredRemote&&this.writeQueue.length;)m(e=this.writeQueue.shift())?this.callFunction(e):this.writeImpl(e)},e.prototype.callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this.onScriptStart(t),e.call(this.win,this.doc),this.onScriptDone(t)},e.prototype.writeImpl=function(e){this.parser.append(e);for(var t,i,n,r,o,s=[];(t=this.parser.readToken())&&!(i=!!((o=t)&&"tagName"in o)&&!!~o.tagName.toLowerCase().indexOf("script"))&&!(n=!!((r=t)&&"tagName"in r)&&!!~r.tagName.toLowerCase().indexOf("style"));)(t=this.options.beforeWriteToken(t))&&s.push(t);this.writeStaticTokens(s),i&&this.handleScriptToken(t),n&&this.handleStyleToken(t)},e.prototype.writeStaticTokens=function(e){var t=this.buildChunk(e);if(t.actual)return t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,this.walkChunk(),t},e.prototype.buildChunk=function(e){var n=this.actuals.length,r=[],o=[],s=[];return l(e,function(e){var t=htmlParser.tokenToString(e);if(r.push(t),e.attrs){if(!/^noscript$/i.test(e.tagName)){var i=n++;o.push(t.replace(/(\/?>)/," "+a+"id="+i+" $1")),"ps-script"!==e.attrs.id&&"ps-style"!==e.attrs.id&&s.push("atomicTag"===e.type?"":"<"+e.tagName+" "+a+"proxyof="+i+(e.unary?" />":">"))}}else o.push(t),s.push("endTag"===e.type?t:"")}),{tokens:e,raw:r.join(""),actual:o.join(""),proxy:s.join("")}},e.prototype.walkChunk=function(){for(var e,t=[this.proxyRoot];p(e=t.shift());){var i=1===e.nodeType;if(!(i&&r(e,"proxyof"))){i&&r(this.actuals[r(e,"id")]=e,"id",null);var n=e.parentNode&&r(e.parentNode,"proxyof");n&&this.actuals[n].appendChild(e)}t.unshift.apply(t,v(e.childNodes))}},e.prototype.handleScriptToken=function(e){var t=this.parser.clear();if(t&&this.writeQueue.unshift(t),e.src=e.attrs.src||e.attrs.SRC,e=this.options.beforeWriteToken(e)){e.src&&this.scriptStack.length?this.deferredRemote=e:this.onScriptStart(e);var i=this;this.writeScriptToken(e,function(){i.onScriptDone(e)})}},e.prototype.handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this.writeStyleToken(e),t&&this.write()},e.prototype.writeStyleToken=function(e){var t=this.buildStyle(e);this.insertStyle(t),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype.buildStyle=function(e){var i=this.doc.createElement(e.tagName);return i.setAttribute("type",e.type),g(e.attrs,function(e,t){i.setAttribute(e,t)}),i},e.prototype.insertStyle=function(e){this.writeImpl('<span id="ps-style"/>');var t=this.doc.getElementById("ps-style");t.parentNode.replaceChild(e,t)},e.prototype.onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype.onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this.onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({message:"Bad script nesting or script finished twice"})},e.prototype.writeScriptToken=function(e,t){var i=this.buildScript(e),n=this.shouldRelease(i),r=this.options.afterAsync;e.src&&(i.src=e.src,this.scriptLoadHandler(i,n?r:function(){t(),r()}));try{this.insertScript(i),e.src&&!n||t()}catch(e){this.options.error(e),t()}},e.prototype.buildScript=function(e){var i=this.doc.createElement(e.tagName);return g(e.attrs,function(e,t){i.setAttribute(e,t)}),e.content&&(i.text=e.content),i},e.prototype.insertScript=function(e){this.writeImpl('<span id="ps-script"/>');var t=this.doc.getElementById("ps-script");t.parentNode.replaceChild(e,t)},e.prototype.scriptLoadHandler=function(t,i){function n(){t=t.onload=t.onreadystatechange=t.onerror=null}var r=this.options.error;function e(){n(),i()}_(t,{onload:function(){e()},onreadystatechange:function(){/^(loaded|complete)$/.test(t.readyState)&&e()},onerror:function(){var e;e={message:"remote script failed "+t.src},n(),r(e),i()}})},e.prototype.shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();f.postscribe=function(){var a=0,o=[],l=null;function u(){var e,t,i=o.shift();i&&((e=(t=i)[t.length-1]).afterDequeue(),i.stream=function(e,t,n){(l=new h(e,n)).id=a++,l.name=n.name||l.id,c.streams[l.name]=l;var i=e.ownerDocument,r={close:i.close,open:i.open,write:i.write,writeln:i.writeln};function o(e){e=n.beforeWrite(e),l.write(e),n.afterWrite(e)}_(i,{close:d,open:d,write:function(){return o(v(arguments).join(""))},writeln:function(){return o(v(arguments).join("")+"\n")}});var s=l.win.onerror||d;return l.win.onerror=function(e,t,i){n.error({msg:e+" - "+t+":"+i}),s.apply(l.win,arguments)},l.write(t,function(){_(i,r),l.win.onerror=s,n.done(),l=null,u()}),l}.apply(null,i),e.afterStreamStart())}function c(e,t,i){var n;m(i)&&(i={done:i}),n=(n=i)||{},g(s,function(e,t){p(n[e])||(n[e]=t)}),i=n;var r=[e=/^#/.test(e)?f.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,i];return e.postscribe={cancel:function(){r.stream?r.stream.abort():r[1]=d}},i.beforeEnqueue(r),o.push(r),l||u(),e.postscribe}return _(c,{streams:{},queue:o,WriteStream:h})}()}function m(e){return"function"===typeof e}function l(e,t,i){var n,r=e&&e.length||0;for(n=0;n<r;n++)t.call(i,e[n],n)}function g(e,t,i){var n;for(n in e)e.hasOwnProperty(n)&&t.call(i,n,e[n])}function _(i,e){return g(e,function(e,t){i[e]=t}),i}function v(t){try{return e.call(t)}catch(e){var i=[];return l(t,function(e){i.push(e)}),i}}}(),define("postscribe",[],function(){return window.postscribe}),define("ipub/impl/sapo",["require","sys/polyfills","jquery","lodash","widgets/base","postscribe"],function(e){"use strict";e("sys/polyfills");var n=e("jquery"),i=e("lodash"),r=e("widgets/base"),o=e("postscribe"),s="imp-pub-sapo";function a(e,t){r.call(this,s,e),t=t||{},this.update=i.chain(this.update).bind(this).debounce(300,{leading:!1,trailing:!0}).value(),this._started=!1,this._cpId=t.cpId,this._kw=t.kw,this._halfpage=t.halfpage,this._entries=[].concat(t.entries||[]),t.zoneId&&this._entries.push({zoneId:t.zoneId}),this._entries=i.chain(this._entries).map(function(e){return(e=e||{}).zoneId=e.zoneId||t.zoneId,e.mq=e.mq||t.mq||"all",e}).filter(function(e){return null!=e.zoneId}).value(),"undefined"!==typeof console&&(console.warn?console.warn("[%s] Missing ZoneID",s):console.log&&console.log("[%s] Missing ZoneID",s))}return a.init=function(e,t){return r.init(e,s,a,t)},a.start=function(e,t){return r.start(e,s,a,t)},a.find=function(e){return r.find(e,s)},a.destroy=function(e){return r.destroy(e,s)},a.prototype.start=function(){n(window).on({resize:this.update,orientationchange:this.update});var e=this;n(function(){e.update(),e._started=!0})},a.prototype.stop=function(){n(window).off({resize:this.update,orientationchange:this.update}),this._$element.empty(),this._started=!1},a.prototype.reload=function(){this._updating||(this._updating=!0,this.stop(),this.start(),this._updating=!1)},a.prototype.update=function(){for(var e,t,i,n,r,o,s=0;s<this._entries.length;s++)e=(i=this._entries[s]).mq||"all",i.zoneId&&this._isUserAgent(i.ua)&&window.matchMedia(e).matches&&(r=s);(this._started||void 0!==r||this._$element.hide(),r!==this._current)&&(void 0===r?this._$element.hide().empty():(void 0!==this._current&&this._$element.empty(),t=(i=this._entries[r]).zoneId,this._$element.css("display",""),n=this._buildScriptUrl(t,this._cpId,this._kw,this._halfpage,"https:"===location.protocol),this._render(this._$element,n,(o=t,function(){"undefined"!==typeof console&&console.log&&console.log("Pub injected: "+o)}))),this._current=r)},a.prototype._isUserAgent=function(e){return!e||!!navigator.userAgent.match(e)},a.prototype._buildScriptUrl=function(e,t,i,n,r){var o=Math.floor(99999999999*Math.random()),s=r?"https://pub.sapo.pt/ajs.php":"http://pub.sapo.pt/ajs.php";return document.MAX_used||(document.MAX_used=","),s+="?zoneid="+e,s+="&cb="+o,","!==document.MAX_used&&(s+="&exclude="+document.MAX_used),(document.charset||document.characterSet)&&(s+="&charset="+document.charset||document.characterSet),s+="&loc="+escape(window.location),document.referrer&&(s+="&referer="+escape(document.referrer)),document.context&&(s+="&context="+escape(document.context)),document.mmm_fo&&(s+="&;mmm_fo=1"),t&&(s+="&cpid="+encodeURIComponent(t)),(void 0===n||n)&&(s+="&kw=no_iframe"),void 0!==i&&""!==i&&(s+=void 0===n||n?","+i:"&kw="+i),s},a.prototype._render=function(e,t,i){n(function(){try{o(e,'<script type="text/javascript" src="'+t+'"><\/script>',{done:i})}catch(e){"undefined"!==typeof console&&(console.error?console.error(e):console.log&&console.log(e))}})},a}),define("ipub/impl/templates/sad.js",["require"],function(e){return'<div id="<%= it.id %>"></div>\n<script>\n    sas.call("std", <%= JSON.stringify(it.entry) %>);\n<\/script>\n<noscript>\n    <a href="//<%= it.domain %>/ac?jump=1&nwid=<%= it.networkId %>&siteid=<%= it.siteId %>&pgname=<%= encodeURIComponent(it.entry.pageName) %>&fmtid=<%= it.entry.formatId %>&visit=m&tmstp=<%= +new Date() %>&out=nonrich" target="_blank">\n        <img src="//<%= it.domain %>/ac?out=nonrich&nwid=<%= it.networkId %>&siteid=<%= it.siteId %>&pgname=<%= encodeURIComponent(it.entry.pageName) %>&fmtid=<%= it.entry.formatId %>&visit=m&tmstp=<%= +new Date() %>" border="0" alt=""/>\n    </a>\n</noscript>'}),define("ipub/impl/sad",["require","sys/polyfills","jquery","lodash","widgets/base","postscribe","ipub/impl/templates/sad.js"],function(a){"use strict";a("sys/polyfills");var n=a("jquery"),l=a("lodash"),i=a("widgets/base"),r=a("postscribe"),s=a("ipub/impl/templates/sad.js"),o="imp-pub-smart-adserver",u="www8.smartadserver.com",c="1701",d=0;function f(e,t){if(i.call(this,o,e),t=t||{},this._multiple=!0===t.multiple,this.update=l.chain(this.update).bind(this).debounce(300,{leading:!1,trailing:!0}).value(),this._started=!1,this._siteId=t.siteId,this._domain=t.domain||u,this._networkId=t.networkId||c,null==this._siteId)throw new Error("Missing site ID");this._entries=[].concat(t.entries||[]),t.pageId&&t.formatId&&this._entries.push({pageId:t.pageId,formatId:t.formatId,mq:t.mq}),this._entries=l.chain(this._entries).map(function(e){return(e=e||{}).pageId=e.pageId||t.pageId,e.mq=e.mq||"all",e.pageName=e.pageName||"",e.id=d++,e.target=f.buildTargetParam(f._normalizeTarget(e,t)),e}).filter(function(e){return null!=e.pageId&&null!=e.formatId}).value(),0===this._entries.length&&console.warn("[%s] Missing Page and/or Format ID",o)}s=l.template(s),f.init=function(e,t){return i.init(e,o,f,t)},f.start=function(e,t){return i.start(e,o,f,t)},f.find=function(e){return i.find(e,o)},f.destroy=function(e){return i.destroy(e,o)},f.prototype.start=function(){n(window).on({resize:this.update,orientationchange:this.update});var e=this;!function(e,t,i){var n,r,o;n="http:"===document.location.protocol?"http:":"https:",o=(r=n+"//"+e)+"/config.js?nwid="+encodeURIComponent(t);var s=function(){l.isFunction(i)&&i(window.sas)};"LOADED"===p[o]?s():(p[o]="PENDING",a([o],function(){"PENDING"===p[o]&&(p[o]="LOADED",window.sas.setup({domain:r,inSequence:!0})),s()}))}(this._domain,this._networkId,function(){e._init=!0,n(function(){e.update(),e._started=!0})})},f.prototype.stop=function(){n(window).off({resize:this.update,orientationchange:this.update}),this._$element.empty(),this._started=!1},f.prototype.reload=function(){this._updating||(this._updating=!0,this.stop(),this.start(),this._updating=!1)},f.prototype.update=function(){var e,t,i,n=void 0;if(this._init){for(var r=0;r<this._entries.length;r++)e=(t=this._entries[r]).mq||"all",this._isUserAgent(t.ua)&&window.matchMedia(e).matches&&(i=r);var o,s;if(this._started||void 0!==i||this._$element.hide(),i!==this._current)void 0===i?this._$element.hide().empty():(this._clean(),t=this._entries[i],this._$element.css("display",""),n=this._multiple&&"ipub_sas_"+t.id||void 0,this._render(this._$element,this._buildHTML(n,this._domain,this._networkId,this._siteId,t),(o=this._siteId,s=t,function(){console.log("Pub injected. Site ID: "+o+" PageId: "+s.pageId+" FormatId: "+s.formatId)}))),this._current=i}},f.prototype._isUserAgent=function(e){return!e||!!navigator.userAgent.match(e)},f.prototype._clean=function(){if(void 0!==this._current){var e=this._multiple&&"ipub_sas_"+this._entries[this._current].id||void 0;window.sas.call("clean",{tagId:e,siteId:this._siteId,pageId:this._entries[this._current].pageId,formatId:this._entries[this._current].formatId}),this._$element.empty()}},f.prototype._buildHTML=function(e,t,i,n,r){var o=l.chain({}).extend(r).pick(["pageId","formatId","target"]).extend({tagId:e,siteId:n}).value();return s({it:{id:e||"sas_"+r.formatId,entry:o,domain:t,networkId:i,siteId:n}})},f.prototype._render=function(e,t,i){n(function(){try{r(e,t,{done:i})}catch(e){console.error(e)}})};var p={};f._normalizeTarget=function(e,t){var i={};return t&&t.target&&(l.isString(t.target)?i._=t.target:i=l.extend({},t.target)),e&&e.target&&(l.isString(e.target)?(i._?i._+=h:i._="",i._+=e.target):i=l.extend({},e.target)),i};var h=";";return f.buildTargetParam=function(e){return l.chain(e).map(function(e,t){return l.isArray(e)?e.map(function(e){return[t,e]}):[[t,e]]}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return!!e[1]}).map(function(e){var t=e[0],i=e[1];return"_"===t?i:[t,i].join("=")}).value().join(h)},f}),define("ipub/utils",["require"],function(e){var i=/\[timestamp]/g;return{processURL:function(e){e=e||"";var t=+new Date;return e.replace(i,""+t)}}}),define("ipub/impl/html",["require","sys/polyfills","lodash","widgets/base","ipub/utils"],function(e){"use strict";e("sys/polyfills");var i=e("lodash"),n=e("widgets/base"),r=e("ipub/utils"),o="imp-pub-html";function s(e,t){if(n.call(this,o,e),!(t=t||{}).html)throw new Error("Missing HTML to inject");this._id=t.id||i.uniqueId(o),this._html=t.html}return s.init=function(e,t){return n.init(e,o,s,t)},s.start=function(e,t){return n.start(e,o,s,t)},s.find=function(e){return n.find(e,o)},s.destroy=function(e){return n.destroy(e,o)},s.prototype.start=function(){var e,t;e=i.isFunction(this._html)?this._html(this._$element):r.processURL(this._html),(t=document.createElement("div")).id=this._id,t.innerHTML=e,this._$element.append(t)},s.prototype.stop=function(){var e=document.getElementById(this._id);e&&e.parentNode.removeChild(e)},s.prototype.reload=function(){this._updating||(this._updating=!0,this.stop(),this.start(),this._updating=!1)},s}),define("ipub/impl/revcontent",["require","sys/polyfills","widgets/base","lodash"],function(e){"use strict";e("sys/polyfills");var n=e("widgets/base"),r=e("lodash"),o="imp-pub-revcontent";function i(e,t){n.call(this,o,e),t=t||{},this._id=t.id||r.uniqueId(o),this._widgetId=t.revcontent.widgetId;var i="";try{if("undefined"==typeof(i=document.referrer))throw"undefined"}catch(e){""!=(i=document.location.href)&&"undefined"!=typeof i||(i=document.URL)}this._referer=i.substr(0,700)}return i.init=function(e,t){return n.init(e,o,i,t)},i.start=function(e,t){return n.start(e,o,i,t)},i.find=function(e){return n.find(e,o)},i.destroy=function(e){return n.destroy(e,o)},i.prototype.start=function(){var e=document.createElement("script");e.id="rc_"+Math.floor(1e3*Math.random()),e.type="text/javascript",e.src="https://trends.revcontent.com/serve.js.php?w="+this._widgetId+"&t="+e.id+"&c="+(new Date).getTime()+"&width="+(window.outerWidth||document.documentElement.clientWidth)+"&referer="+this._referer,e.async=!0;var t=document.createElement("div");t.id=this._id,t.appendChild(e),this._$element.append(t)},i.prototype.stop=function(){var e=document.getElementById(this._id);e&&e.parentNode.removeChild(e)},i.prototype.reload=function(){this._updating||(this._updating=!0,this.stop(),this.start(),this._updating=!1)},i}),define("ipub/impl/cod",["require","sys/polyfills","widgets/base"],function(e){"use strict";e("sys/polyfills");var i=e("widgets/base"),n="imp-pub-cod";function r(e,t){if(i.call(this,n,e),t=t||{},this._token=t.token||null,this._passbackUrl=t.passbackUrl||"",this._clickMacro=t.clickMacro||"",null==this._token)throw new Error("Missing token id")}return r.init=function(e,t){return i.init(e,n,r,t)},r.start=function(e,t){return i.start(e,n,r,t)},r.find=function(e){return i.find(e,n)},r.destroy=function(e){return i.destroy(e,n)},r.prototype.start=function(){var e,t,i=document.createElement("div");i.classList.add("noddus-content-card"),i.setAttribute("data-url",(e=this._token,t=this._passbackUrl,"https://noddus.com/content_card?token="+e+(t?"&fb="+t:""))),i.setAttribute("data-clickmacro",this._clickMacro),i.setAttribute("data-token",this._token),i.setAttribute("fbtype","redirect"),i.setAttribute("fb",this._passbackUrl);var n=document.createElement("script");n.src="https://noddus.com/javascripts/card_loader.js?ord="+Math.floor(Date.now()/1e6),n.type="text/javascript",this._$element.append(i),this._$element.append(n)},r.prototype.stop=function(){this._$element&&this._$element.parentNode.removeChild(this._$element)},r.prototype.reload=function(){this._updating||(this._updating=!0,this.stop(),this.start(),this._updating=!1)},r}),define("ipub/widget",["require","ipub/impl/google","ipub/impl/sapo","ipub/impl/sad","ipub/impl/html","ipub/impl/revcontent","ipub/impl/cod"],function(e){"use strict";var t={google:e("ipub/impl/google"),sapo:e("ipub/impl/sapo"),sad:e("ipub/impl/sad"),html:e("ipub/impl/html"),revcontent:e("ipub/impl/revcontent"),cod:e("ipub/impl/cod")};function n(e){return t[e]}return{init:function(e,t){var i=n(t.type);return i?i.init(e,t):[]},start:function(e,t){var i=n(t.type);return i?i.start(e,t):[]},stop:function(e,t){var i=n(t.type);return i?i.stop(e,t):[]},find:function(e,t){var i=n(t.type);return i?i.find(e):[]},reload:function(e,t){var i=n(t.type);return i?i.reload(e).map(function(e){return e.reload(),e}):[]},destroy:function(e,t){var i=n(t.type);return i?i.destroy(e):[]},getImplementation:n}}),define("ipub",["require","widgets/visibility-checker","ipub/widget","sys/bus","lodash","sys/polyfills"],function(e){var r=e("widgets/visibility-checker"),s=e("ipub/widget"),a=e("sys/bus"),l=e("lodash");e("sys/polyfills");var t,i="imp-pub-loader",n=800,o=!1,u={},c={},d=[];function f(t,i){var n=l.merge({},u,i.params);i.visible?r.start(t.container,{viewport:!0===i.viewport,onVisible:function(e){this.stop(),p(t.target||e,n,i)}}):p(t.target||t.container,n,i)}function p(e,t,i){if(s.start(e,t),i.galleries){var n=(r=e,o=t,function(){s.reload(r,o)});a.subscribe({topic:a.TOPICS.GALLERY.SLIDE_CHANGED,callback:l.debounce(n,100)})}var r,o}function h(){o&&(t&&(clearTimeout(t),t=void 0),t=setTimeout(function(){t=void 0,function(){for(var e,t;e=d.pop();)(t=c[e.id])?f(e,t):console.warn('[%s] Missing ad with name "%s"',i,e.id,e)}()},n))}var m=[];return{register:function(e,t,i){d.push({container:e,target:i,id:t}),h()},update:h,setup:function(e,t){if(c=e||{},t&&t.target){var i=l.chain([].concat(t.target.tag||[])).map(function(e){return e.code}).filter(function(e){return!!e}).value();i.length>0?t.target.tag=i:delete t.target.tag}u=t||{},o=!0,h(),function(){for(var e;e=m.pop();)try{e()}catch(e){console.error(e.message,e)}}()},ready:function(e){o?e():m.push(e)},enableOverlay:function(t){s.getImplementation("google").push(function(){var e=document.createElement("script");e.innerText="googletag.pubads().definePassback('"+t+"', [1, 1]).display();",document.body.appendChild(e)})},Widget:s}}),define("ipub/video-player",["require","widgets/base","ipub/widget","widgets/telefunken-widget","lodash"],function(e){var i=e("widgets/base"),n=e("ipub/widget"),r=e("widgets/telefunken-widget"),o=e("lodash"),s="imp-ipub-video-player";function a(e,t){(t=t||{}).vast&&t.vastTarget&&(t.vast=a.targetAds(t.vast,t.vastTarget)),r.call(this,e,t)}return a.prototype=Object.create(r.prototype),a.init=function(e,t){return i.init(e,s,a,t)},a.start=function(e,t){return i.start(e,s,a,t)},a.destroy=function(e){return i.destroy(e,s)},a.targetAds=function(e,t){var i=n.getImplementation("sad").buildTargetParam(t);return i=encodeURIComponent(i||""),e.url&&(e.url=e.url.replace("&tgt=","&tgt="+i)),e.entries=o.map([].concat(e.entries||[]),function(e){return e.url&&(e.url=e.url.replace("&tgt=","&tgt="+i)),e}),e},a.Events=r.Events,a}),function(e){define("bxslider-4",["jquery"],function(){return function(){var W,B;W=jQuery,B={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0},onAutoChange:function(){return!0}},W.fn.bxSlider=function(t){if(0===this.length)return this;if(this.length>1)return this.each(function(){W(this).bxSlider(t)}),this;var d={},f=this,n=W(window).width(),r=W(window).height();if(!W(f).data("bxSlider")){var o=function(){W(f).data("bxSlider")||(d.settings=W.extend({},B,t),d.settings.slideWidth=parseInt(d.settings.slideWidth),d.children=f.children(d.settings.slideSelector),d.children.length<d.settings.minSlides&&(d.settings.minSlides=d.children.length),d.children.length<d.settings.maxSlides&&(d.settings.maxSlides=d.children.length),d.settings.randomStart&&(d.settings.startSlide=Math.floor(Math.random()*d.children.length)),d.active={index:d.settings.startSlide},d.carousel=d.settings.minSlides>1||d.settings.maxSlides>1,d.carousel&&(d.settings.preloadImages="all"),d.minThreshold=d.settings.minSlides*d.settings.slideWidth+(d.settings.minSlides-1)*d.settings.slideMargin,d.maxThreshold=d.settings.maxSlides*d.settings.slideWidth+(d.settings.maxSlides-1)*d.settings.slideMargin,d.working=!1,d.controls={},d.interval=null,d.animProp="vertical"===d.settings.mode?"top":"left",d.usingCSS=d.settings.useCSS&&"fade"!==d.settings.mode&&function(){for(var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],i=0;i<t.length;i++)if(void 0!==e.style[t[i]])return d.cssPrefix=t[i].replace("Perspective","").toLowerCase(),d.animProp="-"+d.cssPrefix+"-transform",!0;return!1}(),"vertical"===d.settings.mode&&(d.settings.maxSlides=d.settings.minSlides),f.data("origStyle",f.attr("style")),f.children(d.settings.slideSelector).each(function(){W(this).data("origStyle",W(this).attr("style"))}),e())},e=function(){var e=d.children.eq(d.settings.startSlide);f.wrap('<div class="'+d.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),d.viewport=f.parent(),d.settings.ariaLive&&!d.settings.ticker&&d.viewport.attr("aria-live","polite"),d.loader=W('<div class="bx-loading" />'),d.viewport.prepend(d.loader),f.css({width:"horizontal"===d.settings.mode?1e3*d.children.length+215+"%":"auto",position:"relative"}),d.usingCSS&&d.settings.easing?f.css("-"+d.cssPrefix+"-transition-timing-function",d.settings.easing):d.settings.easing||(d.settings.easing="swing"),d.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),d.viewport.parent().css({maxWidth:l()}),d.children.css({float:"horizontal"===d.settings.mode?"left":"none",listStyle:"none",position:"relative"}),d.children.css("width",u()),"horizontal"===d.settings.mode&&d.settings.slideMargin>0&&d.children.css("marginRight",d.settings.slideMargin),"vertical"===d.settings.mode&&d.settings.slideMargin>0&&d.children.css("marginBottom",d.settings.slideMargin),"fade"===d.settings.mode&&(d.children.css({position:"absolute",zIndex:0,display:"none"}),d.children.eq(d.settings.startSlide).css({zIndex:d.settings.slideZIndex,display:"block"})),d.controls.el=W('<div class="bx-controls" />'),d.settings.captions&&S(),d.active.last=d.settings.startSlide===h()-1,d.settings.video&&f.fitVids(),"none"===d.settings.preloadImages?e=null:("all"===d.settings.preloadImages||d.settings.ticker)&&(e=d.children),d.settings.ticker?d.settings.pager=!1:(d.settings.controls&&b(),d.settings.auto&&d.settings.autoControls&&w(),d.settings.pager&&y(),(d.settings.controls||d.settings.autoControls||d.settings.pager)&&d.viewport.after(d.controls.el)),null===e?a():s(e,a)},s=function(e,t){var i=e.find('img:not([src=""]), iframe').length,n=0;0!==i?e.find('img:not([src=""]), iframe').each(function(){W(this).one("load error",function(){++n===i&&t()}).each(function(){(this.complete||""==this.src)&&W(this).trigger("load")})}):t()},a=function(){if(d.settings.infiniteLoop&&"fade"!==d.settings.mode&&!d.settings.ticker){var e="vertical"===d.settings.mode?d.settings.minSlides:d.settings.maxSlides,t=d.children.slice(0,e).clone(!0).addClass("bx-clone"),i=d.children.slice(-e).clone(!0).addClass("bx-clone");d.settings.ariaHidden&&(t.attr("aria-hidden",!0),i.attr("aria-hidden",!0)),f.append(t).prepend(i)}d.loader.remove(),g(),"vertical"===d.settings.mode&&(d.settings.adaptiveHeight=!0),d.viewport.height(p()),f.redrawSlider(),d.settings.onSliderLoad.call(f,d.active.index),d.initialized=!0,d.settings.responsive&&W(window).on("resize",F),d.settings.auto&&d.settings.autoStart&&(h()>1||d.settings.autoSlideForOnePage)&&N(),d.settings.ticker&&L(),d.settings.pager&&P(d.settings.startSlide),d.settings.controls&&O(),d.settings.touchEnabled&&!d.settings.ticker&&j(),d.settings.keyboardEnabled&&!d.settings.ticker&&W(document).keydown($)},p=function(){var t=0,e=W();if("vertical"===d.settings.mode||d.settings.adaptiveHeight)if(d.carousel){var n=1===d.settings.moveSlides?d.active.index:d.active.index*m();for(e=d.children.eq(n),i=1;i<=d.settings.maxSlides-1;i++)e=n+i>=d.children.length?e.add(d.children.eq(i-1)):e.add(d.children.eq(n+i))}else e=d.children.eq(d.active.index);else e=d.children;return"vertical"===d.settings.mode?(e.each(function(e){t+=W(this).outerHeight()}),d.settings.slideMargin>0&&(t+=d.settings.slideMargin*(d.settings.minSlides-1))):t=Math.max.apply(Math,e.map(function(){return W(this).outerHeight(!1)}).get()),"border-box"===d.viewport.css("box-sizing")?t+=parseFloat(d.viewport.css("padding-top"))+parseFloat(d.viewport.css("padding-bottom"))+parseFloat(d.viewport.css("border-top-width"))+parseFloat(d.viewport.css("border-bottom-width")):"padding-box"===d.viewport.css("box-sizing")&&(t+=parseFloat(d.viewport.css("padding-top"))+parseFloat(d.viewport.css("padding-bottom"))),t},l=function(){var e="100%";return d.settings.slideWidth>0&&(e="horizontal"===d.settings.mode?d.settings.maxSlides*d.settings.slideWidth+(d.settings.maxSlides-1)*d.settings.slideMargin:d.settings.slideWidth),e},u=function(){var e=d.settings.slideWidth,t=d.viewport.width();if(0===d.settings.slideWidth||d.settings.slideWidth>t&&!d.carousel||"vertical"===d.settings.mode)e=t;else if(d.settings.maxSlides>1&&"horizontal"===d.settings.mode){if(t>d.maxThreshold)return e;t<d.minThreshold?e=(t-d.settings.slideMargin*(d.settings.minSlides-1))/d.settings.minSlides:d.settings.shrinkItems&&(e=Math.floor((t+d.settings.slideMargin)/Math.ceil((t+d.settings.slideMargin)/(e+d.settings.slideMargin))-d.settings.slideMargin))}return e},c=function(){var e=1,t=null;return"horizontal"===d.settings.mode&&d.settings.slideWidth>0?e=d.viewport.width()<d.minThreshold?d.settings.minSlides:d.viewport.width()>d.maxThreshold?d.settings.maxSlides:(t=d.children.first().width()+d.settings.slideMargin,Math.floor((d.viewport.width()+d.settings.slideMargin)/t)||1):"vertical"===d.settings.mode&&(e=d.settings.minSlides),e},h=function(){var e=0,t=0,i=0;if(d.settings.moveSlides>0){if(!d.settings.infiniteLoop){for(;t<d.children.length;)++e,t=i+c(),i+=d.settings.moveSlides<=c()?d.settings.moveSlides:c();return i}e=Math.ceil(d.children.length/m())}else e=Math.ceil(d.children.length/c());return e},m=function(){return d.settings.moveSlides>0&&d.settings.moveSlides<=c()?d.settings.moveSlides:c()},g=function(){var e,t,i;d.children.length>d.settings.maxSlides&&d.active.last&&!d.settings.infiniteLoop?"horizontal"===d.settings.mode?(e=(t=d.children.last()).position(),_(-(e.left-(d.viewport.width()-t.outerWidth())),"reset",0)):"vertical"===d.settings.mode&&(i=d.children.length-d.settings.minSlides,e=d.children.eq(i).position(),_(-e.top,"reset",0)):(e=d.children.eq(d.active.index*m()).position(),d.active.index===h()-1&&(d.active.last=!0),void 0!==e&&("horizontal"===d.settings.mode?_(-e.left,"reset",0):"vertical"===d.settings.mode&&_(-e.top,"reset",0)))},_=function(e,t,i,n){var r,o;d.usingCSS?(o="vertical"===d.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)",f.css("-"+d.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"===t?(f.css(d.animProp,o),0!==i?f.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){W(e.target).is(f)&&(f.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),I())}):I()):"reset"===t?f.css(d.animProp,o):"ticker"===t&&(f.css("-"+d.cssPrefix+"-transition-timing-function","linear"),f.css(d.animProp,o),0!==i?f.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){W(e.target).is(f)&&(f.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),_(n.resetValue,"reset",0),R())}):(_(n.resetValue,"reset",0),R()))):((r={})[d.animProp]=e,"slide"===t?f.animate(r,i,d.settings.easing,function(){I()}):"reset"===t?f.css(d.animProp,e):"ticker"===t&&f.animate(r,i,"linear",function(){_(n.resetValue,"reset",0),R()}))},v=function(){for(var e="",t="",i=h(),n=0;n<i;n++)t="",d.settings.buildPager&&W.isFunction(d.settings.buildPager)||d.settings.pagerCustom?(t=d.settings.buildPager(n),d.pagerEl.addClass("bx-custom-pager")):(t=n+1,d.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+n+'" class="bx-pager-link">'+t+"</a></div>";d.pagerEl.html(e)},y=function(){d.settings.pagerCustom?d.pagerEl=W(d.settings.pagerCustom):(d.pagerEl=W('<div class="bx-pager" />'),d.settings.pagerSelector?W(d.settings.pagerSelector).html(d.pagerEl):d.controls.el.addClass("bx-has-pager").append(d.pagerEl),v()),d.pagerEl.on("click touchend","a",x)},b=function(){d.controls.next=W('<a class="bx-next" href="">'+d.settings.nextText+"</a>"),d.controls.prev=W('<a class="bx-prev" href="">'+d.settings.prevText+"</a>"),d.controls.next.on("click touchend",k),d.controls.prev.on("click touchend",T),d.settings.nextSelector&&W(d.settings.nextSelector).append(d.controls.next),d.settings.prevSelector&&W(d.settings.prevSelector).append(d.controls.prev),d.settings.nextSelector||d.settings.prevSelector||(d.controls.directionEl=W('<div class="bx-controls-direction" />'),d.controls.directionEl.append(d.controls.prev).append(d.controls.next),d.controls.el.addClass("bx-has-controls-direction").append(d.controls.directionEl))},w=function(){d.controls.start=W('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+d.settings.startText+"</a></div>"),d.controls.stop=W('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+d.settings.stopText+"</a></div>"),d.controls.autoEl=W('<div class="bx-controls-auto" />'),d.controls.autoEl.on("click",".bx-start",C),d.controls.autoEl.on("click",".bx-stop",E),d.settings.autoControlsCombine?d.controls.autoEl.append(d.controls.start):d.controls.autoEl.append(d.controls.start).append(d.controls.stop),d.settings.autoControlsSelector?W(d.settings.autoControlsSelector).html(d.controls.autoEl):d.controls.el.addClass("bx-has-controls-auto").append(d.controls.autoEl),A(d.settings.autoStart?"stop":"start")},S=function(){d.children.each(function(e){var t=W(this).find("img:first").attr("title");void 0!==t&&(""+t).length&&W(this).append('<div class="bx-caption"><span>'+t+"</span></div>")})},k=function(e){e.preventDefault(),d.controls.el.hasClass("disabled")||(d.settings.auto&&d.settings.stopAutoOnClick&&f.stopAuto(),f.goToNextSlide())},T=function(e){e.preventDefault(),d.controls.el.hasClass("disabled")||(d.settings.auto&&d.settings.stopAutoOnClick&&f.stopAuto(),f.goToPrevSlide())},C=function(e){f.startAuto(),e.preventDefault()},E=function(e){f.stopAuto(),e.preventDefault()},x=function(e){var t,i;e.preventDefault(),d.controls.el.hasClass("disabled")||(d.settings.auto&&d.settings.stopAutoOnClick&&f.stopAuto(),void 0!==(t=W(e.currentTarget)).attr("data-slide-index")&&(i=parseInt(t.attr("data-slide-index")))!==d.active.index&&f.goToSlide(i))},P=function(i){var e=d.children.length;if("short"===d.settings.pagerType)return d.settings.maxSlides>1&&(e=Math.ceil(d.children.length/d.settings.maxSlides)),void d.pagerEl.html(i+1+d.settings.pagerShortSeparator+e);d.pagerEl.find("a").removeClass("active"),d.pagerEl.each(function(e,t){W(t).find("a").eq(i).addClass("active")})},I=function(){if(d.settings.infiniteLoop){var e="";0===d.active.index?e=d.children.eq(0).position():d.active.index===h()-1&&d.carousel?e=d.children.eq((h()-1)*m()).position():d.active.index===d.children.length-1&&(e=d.children.eq(d.children.length-1).position()),e&&("horizontal"===d.settings.mode?_(-e.left,"reset",0):"vertical"===d.settings.mode&&_(-e.top,"reset",0))}d.working=!1,d.settings.onSlideAfter.call(f,d.children.eq(d.active.index),d.oldIndex,d.active.index)},A=function(e){d.settings.autoControlsCombine?d.controls.autoEl.html(d.controls[e]):(d.controls.autoEl.find("a").removeClass("active"),d.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},O=function(){1===h()?(d.controls.prev.addClass("disabled"),d.controls.next.addClass("disabled")):!d.settings.infiniteLoop&&d.settings.hideControlOnEnd&&(0===d.active.index?(d.controls.prev.addClass("disabled"),d.controls.next.removeClass("disabled")):d.active.index===h()-1?(d.controls.next.addClass("disabled"),d.controls.prev.removeClass("disabled")):(d.controls.prev.removeClass("disabled"),d.controls.next.removeClass("disabled")))},M=function(){f.startAuto()},D=function(){f.stopAuto()},N=function(){d.settings.autoDelay>0?setTimeout(f.startAuto,d.settings.autoDelay):(f.startAuto(),W(window).focus(M).blur(D)),d.settings.autoHover&&f.hover(function(){d.interval&&(f.stopAuto(!0),d.autoPaused=!0)},function(){d.autoPaused&&(f.startAuto(!0),d.autoPaused=null)})},L=function(){var e,t,i,n,r,o,s,a,l=0;"next"===d.settings.autoDirection?f.append(d.children.clone().addClass("bx-clone")):(f.prepend(d.children.clone().addClass("bx-clone")),e=d.children.first().position(),l="horizontal"===d.settings.mode?-e.left:-e.top),_(l,"reset",0),d.settings.pager=!1,d.settings.controls=!1,d.settings.autoControls=!1,d.settings.tickerHover&&(d.usingCSS?(n="horizontal"===d.settings.mode?4:5,d.viewport.hover(function(){t=f.css("-"+d.cssPrefix+"-transform"),i=parseFloat(t.split(",")[n]),_(i,"reset",0)},function(){a=0,d.children.each(function(e){a+="horizontal"===d.settings.mode?W(this).outerWidth(!0):W(this).outerHeight(!0)}),r=d.settings.speed/a,o="horizontal"===d.settings.mode?"left":"top",s=r*(a-Math.abs(parseInt(i))),R(s)})):d.viewport.hover(function(){f.stop()},function(){a=0,d.children.each(function(e){a+="horizontal"===d.settings.mode?W(this).outerWidth(!0):W(this).outerHeight(!0)}),r=d.settings.speed/a,o="horizontal"===d.settings.mode?"left":"top",s=r*(a-Math.abs(parseInt(f.css(o)))),R(s)})),R()},R=function(e){var t,i,n=e||d.settings.speed,r={left:0,top:0},o={left:0,top:0};"next"===d.settings.autoDirection?r=f.find(".bx-clone").first().position():o=d.children.first().position(),t="horizontal"===d.settings.mode?-r.left:-r.top,i="horizontal"===d.settings.mode?-o.left:-o.top,_(t,"ticker",n,{resetValue:i})},$=function(e){var t,i,n,r,o=document.activeElement.tagName.toLowerCase();if(null==new RegExp(o,["i"]).exec("input|textarea")&&(t=f,i=W(window),n={top:i.scrollTop(),left:i.scrollLeft()},r=t.offset(),n.right=n.left+i.width(),n.bottom=n.top+i.height(),r.right=r.left+t.outerWidth(),r.bottom=r.top+t.outerHeight(),!(n.right<r.left||n.left>r.right||n.bottom<r.top||n.top>r.bottom))){if(39===e.keyCode)return k(e),!1;if(37===e.keyCode)return T(e),!1}},j=function(){d.touch={start:{x:0,y:0},end:{x:0,y:0}},d.viewport.on("touchstart MSPointerDown pointerdown",H),d.viewport.on("click",".bxslider a",function(e){d.viewport.hasClass("click-disabled")&&(e.preventDefault(),d.viewport.removeClass("click-disabled"))})},H=function(e){if("touchstart"===e.type||0===e.button)if(e.preventDefault(),d.controls.el.addClass("disabled"),d.working)d.controls.el.removeClass("disabled");else{d.touch.originalPos=f.position();var t=e.originalEvent,i="undefined"!==typeof t.changedTouches?t.changedTouches:[t];if("function"===typeof PointerEvent&&void 0===t.pointerId)return;d.touch.start.x=i[0].pageX,d.touch.start.y=i[0].pageY,d.viewport.get(0).setPointerCapture&&(d.pointerId=t.pointerId,d.viewport.get(0).setPointerCapture(d.pointerId)),d.originalClickTarget=t.originalTarget||t.target,d.originalClickButton=t.button,d.originalClickButtons=t.buttons,d.originalEventType=t.type,d.hasMove=!1,d.viewport.on("touchmove MSPointerMove pointermove",z),d.viewport.on("touchend MSPointerUp pointerup",q),d.viewport.on("MSPointerCancel pointercancel",U)}},U=function(e){e.preventDefault(),_(d.touch.originalPos.left,"reset",0),d.controls.el.removeClass("disabled"),d.viewport.off("MSPointerCancel pointercancel",U),d.viewport.off("touchmove MSPointerMove pointermove",z),d.viewport.off("touchend MSPointerUp pointerup",q),d.viewport.get(0).releasePointerCapture&&d.viewport.get(0).releasePointerCapture(d.pointerId)},z=function(e){var t=e.originalEvent,i="undefined"!==typeof t.changedTouches?t.changedTouches:[t],n=Math.abs(i[0].pageX-d.touch.start.x),r=Math.abs(i[0].pageY-d.touch.start.y),o=0,s=0;d.hasMove=!0,3*n>r&&d.settings.preventDefaultSwipeX?e.preventDefault():3*r>n&&d.settings.preventDefaultSwipeY&&e.preventDefault(),"touchmove"!==e.type&&e.preventDefault(),"fade"!==d.settings.mode&&d.settings.oneToOneTouch&&(o="horizontal"===d.settings.mode?(s=i[0].pageX-d.touch.start.x,d.touch.originalPos.left+s):(s=i[0].pageY-d.touch.start.y,d.touch.originalPos.top+s),_(o,"reset",0))},q=function(e){e.preventDefault(),d.viewport.off("touchmove MSPointerMove pointermove",z),d.controls.el.removeClass("disabled");var t=e.originalEvent,i="undefined"!==typeof t.changedTouches?t.changedTouches:[t],n=0,r=0;d.touch.end.x=i[0].pageX,d.touch.end.y=i[0].pageY,"fade"===d.settings.mode?(r=Math.abs(d.touch.start.x-d.touch.end.x))>=d.settings.swipeThreshold&&(d.touch.start.x>d.touch.end.x?f.goToNextSlide():f.goToPrevSlide(),f.stopAuto()):(n="horizontal"===d.settings.mode?(r=d.touch.end.x-d.touch.start.x,d.touch.originalPos.left):(r=d.touch.end.y-d.touch.start.y,d.touch.originalPos.top),!d.settings.infiniteLoop&&(0===d.active.index&&r>0||d.active.last&&r<0)?_(n,"reset",200):Math.abs(r)>=d.settings.swipeThreshold?(r<0?f.goToNextSlide():f.goToPrevSlide(),f.stopAuto()):_(n,"reset",200)),d.viewport.off("touchend MSPointerUp pointerup",q),d.viewport.get(0).releasePointerCapture&&d.viewport.get(0).releasePointerCapture(d.pointerId),!1!==d.hasMove||0!==d.originalClickButton&&"touchstart"!==d.originalEventType||W(d.originalClickTarget).trigger({type:"click",button:d.originalClickButton,buttons:d.originalClickButtons})},F=function(e){if(d.initialized)if(d.working)window.setTimeout(F,10);else{var t=W(window).width(),i=W(window).height();n===t&&r===i||(n=t,r=i,f.redrawSlider(),d.settings.onSliderResize.call(f,d.active.index))}},Y=function(e){var t=c();d.settings.ariaHidden&&!d.settings.ticker&&(d.children.attr("aria-hidden","true"),d.children.slice(e,e+t).attr("aria-hidden","false"))};return f.goToSlide=function(e,t){var i,n,r,o,s,a=!0,l=0,u={left:0,top:0},c=null;if(d.oldIndex=d.active.index,d.active.index=(s=e)<0?d.settings.infiniteLoop?h()-1:d.active.index:s>=h()?d.settings.infiniteLoop?0:d.active.index:s,!d.working&&d.active.index!==d.oldIndex){if(d.working=!0,"undefined"!==typeof(a=d.settings.onSlideBefore.call(f,d.children.eq(d.active.index),d.oldIndex,d.active.index))&&!a)return d.active.index=d.oldIndex,void(d.working=!1);"next"===t?d.settings.onSlideNext.call(f,d.children.eq(d.active.index),d.oldIndex,d.active.index)||(a=!1):"prev"===t&&(d.settings.onSlidePrev.call(f,d.children.eq(d.active.index),d.oldIndex,d.active.index)||(a=!1)),d.active.last=d.active.index>=h()-1,(d.settings.pager||d.settings.pagerCustom)&&P(d.active.index),d.settings.controls&&O(),"fade"===d.settings.mode?(d.settings.adaptiveHeight&&d.viewport.height()!==p()&&d.viewport.animate({height:p()},d.settings.adaptiveHeightSpeed),d.children.filter(":visible").fadeOut(d.settings.speed).css({zIndex:0}),d.children.eq(d.active.index).css("zIndex",d.settings.slideZIndex+1).fadeIn(d.settings.speed,function(){W(this).css("zIndex",d.settings.slideZIndex),I()})):(d.settings.adaptiveHeight&&d.viewport.height()!==p()&&d.viewport.animate({height:p()},d.settings.adaptiveHeightSpeed),!d.settings.infiniteLoop&&d.carousel&&d.active.last?"horizontal"===d.settings.mode?(u=(c=d.children.eq(d.children.length-1)).position(),l=d.viewport.width()-c.outerWidth()):(i=d.children.length-d.settings.minSlides,u=d.children.eq(i).position()):d.carousel&&d.active.last&&"prev"===t?(n=1===d.settings.moveSlides?d.settings.maxSlides-m():(h()-1)*m()-(d.children.length-d.settings.maxSlides),u=(c=f.children(".bx-clone").eq(n)).position()):"next"===t&&0===d.active.index?(u=f.find("> .bx-clone").eq(d.settings.maxSlides).position(),d.active.last=!1):e>=0&&(o=e*parseInt(m()),u=d.children.eq(o).position()),"undefined"!==typeof u&&(r="horizontal"===d.settings.mode?-(u.left-l):-u.top,_(r,"slide",d.settings.speed)),d.working=!1),d.settings.ariaHidden&&Y(d.active.index*m())}},f.goToNextSlide=function(){if((d.settings.infiniteLoop||!d.active.last)&&!0!==d.working){var e=parseInt(d.active.index)+1;f.goToSlide(e,"next")}},f.goToPrevSlide=function(){if((d.settings.infiniteLoop||0!==d.active.index)&&!0!==d.working){var e=parseInt(d.active.index)-1;f.goToSlide(e,"prev")}},f.startAuto=function(e){d.interval||(d.interval=setInterval(function(){"next"===d.settings.autoDirection?f.goToNextSlide():f.goToPrevSlide()},d.settings.pause),d.settings.onAutoChange.call(f,!0),d.settings.autoControls&&!0!==e&&A("stop"))},f.stopAuto=function(e){d.autoPaused&&(d.autoPaused=!1),d.interval&&(clearInterval(d.interval),d.interval=null,d.settings.onAutoChange.call(f,!1),d.settings.autoControls&&!0!==e&&A("start"))},f.getCurrentSlide=function(){return d.active.index},f.getCurrentSlideElement=function(){return d.children.eq(d.active.index)},f.getSlideElement=function(e){return d.children.eq(e)},f.getSlideCount=function(){return d.children.length},f.isWorking=function(){return d.working},f.redrawSlider=function(){d.children.add(f.find(".bx-clone")).outerWidth(u()),d.viewport.css("height",p()),d.settings.ticker||g(),d.active.last&&(d.active.index=h()-1),d.active.index>=h()&&(d.active.last=!0),d.settings.pager&&!d.settings.pagerCustom&&(v(),P(d.active.index)),d.settings.ariaHidden&&Y(d.active.index*m())},f.destroySlider=function(){d.initialized&&(d.initialized=!1,W(".bx-clone",this).remove(),d.children.each(function(){void 0!==W(this).data("origStyle")?W(this).attr("style",W(this).data("origStyle")):W(this).removeAttr("style")}),void 0!==W(this).data("origStyle")?this.attr("style",W(this).data("origStyle")):W(this).removeAttr("style"),W(this).unwrap().unwrap(),d.controls.el&&d.controls.el.remove(),d.controls.next&&d.controls.next.remove(),d.controls.prev&&d.controls.prev.remove(),d.pagerEl&&d.settings.controls&&!d.settings.pagerCustom&&d.pagerEl.remove(),W(".bx-caption",this).remove(),d.controls.autoEl&&d.controls.autoEl.remove(),clearInterval(d.interval),d.settings.responsive&&W(window).off("resize",F),d.settings.keyboardEnabled&&W(document).off("keydown",$),W(this).removeData("bxSlider"),W(window).off("blur",D).off("focus",M))},f.reloadSlider=function(e){void 0!==e&&(t=e),f.destroySlider(),o(),W(f).data("bxSlider",this)},o(),W(f).data("bxSlider",this),this}}}.apply(e,arguments)})}(this),function(e){var t,r,i,n,o,s,a,l=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(l)&&l.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",(r=document.createElement("source"),i=function(e){var t,i,n=e.parentNode;"PICTURE"===n.nodeName.toUpperCase()?(t=r.cloneNode(),n.insertBefore(t,n.firstElementChild),setTimeout(function(){n.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,i=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=i}))},n=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)i(t[e])},o=function(){clearTimeout(t),t=setTimeout(n,99)},s=e.matchMedia&&matchMedia("(orientation: landscape)"),a=function(){o(),s&&s.addListener&&s.addListener(o)},r.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?a():document.addEventListener("DOMContentLoaded",a),o))}(window),function(e,o,t){"use strict";var r,u,l;o.createElement("picture");var k={},s=!1,i=function(){},n=o.createElement("img"),c=n.getAttribute,d=n.setAttribute,f=n.removeAttribute,a=o.documentElement,p={},T={algorithm:""},h="data-pfsrc",m=h+"set",g=navigator.userAgent,C=/rident/.test(g)||/ecko/.test(g)&&g.match(/rv\:(\d+)/)&&RegExp.$1>35,E="currentSrc",_=/\s+\+?\d+(e\d+)?w/,v=/(\([^)]+\))?\s*(.+)/,y=e.picturefillCFG,b="font-size:100%!important;",w=!0,S={},x={},P=e.devicePixelRatio,I={px:1,in:96},A=o.createElement("a"),O=!1,M=/^[ \t\n\r\u000c]+/,D=/^[, \t\n\r\u000c]+/,N=/^[^ \t\n\r\u000c]+/,L=/[,]+$/,R=/^\d+$/,$=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,j=function(e,t,i,n){e.addEventListener?e.addEventListener(t,i,n||!1):e.attachEvent&&e.attachEvent("on"+t,i)},H=function(t){var i={};return function(e){return e in i||(i[e]=t(e)),i[e]}};function U(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}var z,q,F,Y,W,B,V,G,Q,K,X,J,Z,ee,te,ie,ne,re,oe,se=(z=/^([\d\.]+)(em|vw|px)$/,q=H(function(e){return"return "+function(){for(var e=arguments,t=0,i=e[0];++t in e;)i=i.replace(e[t],e[++t]);return i}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"}),function(e,t){var i;if(!(e in S))if(S[e]=!1,t&&(i=e.match(z)))S[e]=i[1]*I[i[2]];else try{S[e]=new Function("e",q(e))(I)}catch(e){}return S[e]}),ae=function(e,t){return e.w?(e.cWidth=k.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},le=function(e){if(s){var t,i,n,r=e||{};if(r.elements&&1===r.elements.nodeType&&("IMG"===r.elements.nodeName.toUpperCase()?r.elements=[r.elements]:(r.context=r.elements,r.elements=null)),n=(t=r.elements||k.qsa(r.context||o,r.reevaluate||r.reselect?k.sel:k.selShort)).length){for(k.setupRun(r),O=!0,i=0;i<n;i++)k.fillImg(t[i],r);k.teardownRun(r)}}};function ue(e,t){return e.res-t.res}function ce(e,t){var i,n,r;if(e&&t)for(r=k.parseSet(t),e=k.makeUrl(e),i=0;i<r.length;i++)if(e===k.makeUrl(r[i].url)){n=r[i];break}return n}e.console&&console.warn,E in n||(E="src"),p["image/jpeg"]=!0,p["image/gif"]=!0,p["image/png"]=!0,p["image/svg+xml"]=o.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),k.ns=("pf"+(new Date).getTime()).substr(0,9),k.supSrcset="srcset"in n,k.supSizes="sizes"in n,k.supPicture=!!e.HTMLPictureElement,k.supSrcset&&k.supPicture&&!k.supSizes&&(F=o.createElement("img"),n.srcset="data:,a",F.src="data:,a",k.supSrcset=n.complete===F.complete,k.supPicture=k.supSrcset&&k.supPicture),k.supSrcset&&!k.supSizes?(Y="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",W=o.createElement("img"),B=function(){2===W.width&&(k.supSizes=!0),u=k.supSrcset&&!k.supSizes,s=!0,setTimeout(le)},W.onload=B,W.onerror=B,W.setAttribute("sizes","9px"),W.srcset=Y+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",W.src=Y):s=!0,k.selShort="picture>img,img[srcset]",k.sel=k.selShort,k.cfg=T,k.DPR=P||1,k.u=I,k.types=p,k.setSize=i,k.makeUrl=H(function(e){return A.href=e,A.href}),k.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},k.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?k.matchesMedia=function(e){return!e||matchMedia(e).matches}:k.matchesMedia=k.mMQ,k.matchesMedia.apply(this,arguments)},k.mMQ=function(e){return!e||se(e)},k.calcLength=function(e){var t=se(e,!0)||!1;return t<0&&(t=!1),t},k.supportsType=function(e){return!e||p[e]},k.parseSize=H(function(e){var t=(e||"").match(v);return{media:t&&t[1],length:t&&t[2]}}),k.parseSet=function(e){return e.cands||(e.cands=function(n,d){function e(e){var t,i=e.exec(n.substring(s));if(i)return t=i[0],s+=t.length,t}var f,p,t,i,r,o=n.length,s=0,h=[];function a(){var e,t,i,n,r,o,s,a,l,u=!1,c={};for(n=0;n<p.length;n++)o=(r=p[n])[r.length-1],s=r.substring(0,r.length-1),a=parseInt(s,10),l=parseFloat(s),R.test(s)&&"w"===o?((e||t)&&(u=!0),0===a?u=!0:e=a):$.test(s)&&"x"===o?((e||t||i)&&(u=!0),l<0?u=!0:t=l):R.test(s)&&"h"===o?((i||t)&&(u=!0),0===a?u=!0:i=a):u=!0;u||(c.url=f,e&&(c.w=e),t&&(c.d=t),i&&(c.h=i),i||t||e||(c.d=1),1===c.d&&(d.has1x=!0),c.set=d,h.push(c))}function l(){for(e(M),t="",i="in descriptor";;){if(r=n.charAt(s),"in descriptor"===i)if(U(r))t&&(p.push(t),t="",i="after descriptor");else{if(","===r)return s+=1,t&&p.push(t),void a();if("("===r)t+=r,i="in parens";else{if(""===r)return t&&p.push(t),void a();t+=r}}else if("in parens"===i)if(")"===r)t+=r,i="in descriptor";else{if(""===r)return p.push(t),void a();t+=r}else if("after descriptor"===i)if(U(r));else{if(""===r)return void a();i="in descriptor",s-=1}s+=1}}for(;;){if(e(D),s>=o)return h;f=e(N),p=[],","===f.slice(-1)?(f=f.replace(L,""),a()):l()}}(e.srcset,e)),e.cands},k.getEmValue=function(){var e;if(!r&&(e=o.body)){var t=o.createElement("div"),i=a.style.cssText,n=e.style.cssText;t.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",a.style.cssText=b,e.style.cssText=b,e.appendChild(t),r=t.offsetWidth,e.removeChild(t),r=parseFloat(r,10),a.style.cssText=i,e.style.cssText=n}return r||16},k.calcListLength=function(e){if(!(e in x)||T.uT){var t=k.calcLength(function(e){var t,i,n,r,o,s,a,l=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,u=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(n=(i=function(e){var t,i="",n=[],r=[],o=0,s=0,a=!1;function l(){i&&(n.push(i),i="")}function u(){n[0]&&(r.push(n),n=[])}for(;;){if(""===(t=e.charAt(s)))return l(),u(),r;if(a){if("*"===t&&"/"===e[s+1]){a=!1,s+=2,l();continue}s+=1}else{if(U(t)){if(e.charAt(s-1)&&U(e.charAt(s-1))||!i){s+=1;continue}if(0===o){l(),s+=1;continue}t=" "}else if("("===t)o+=1;else if(")"===t)o-=1;else{if(","===t){l(),u(),s+=1;continue}if("/"===t&&"*"===e.charAt(s+1)){a=!0,s+=2;continue}}i+=t,s+=1}}}(e)).length,t=0;t<n;t++)if(o=(r=i[t])[r.length-1],a=o,l.test(a)&&parseFloat(a)>=0||u.test(a)||"0"===a||"-0"===a||"+0"===a){if(s=o,r.pop(),0===r.length)return s;if(r=r.join(" "),k.matchesMedia(r))return s}return"100vw"}(e));x[e]=t||I.width}return x[e]},k.setRes=function(e){var t;if(e)for(var i=0,n=(t=k.parseSet(e)).length;i<n;i++)ae(t[i],e.sizes);return t},k.setRes.res=ae,k.applySetCandidate=function(e,t){if(e.length){var i,n,r,o,s,a,l,u,c,d,f,p,h,m,g,_,v,y,b,w=t[k.ns],S=k.DPR;if(a=w.curSrc||t[E],(l=w.curCan||(d=t,f=a,!(p=e[0].set)&&f&&(p=(p=d[k.ns].sets)&&p[p.length-1]),(h=ce(f,p))&&(f=k.makeUrl(f),d[k.ns].curSrc=f,(d[k.ns].curCan=h).res||ae(h,h.set.sizes)),h))&&l.set===e[0].set&&((c=C&&!t.complete&&l.res-.1>S)||(l.cached=!0,l.res>=S&&(s=l))),!s)for(e.sort(ue),s=e[(o=e.length)-1],n=0;n<o;n++)if((i=e[n]).res>=S){s=e[r=n-1]&&(c||a!==k.makeUrl(i.url))&&(m=e[r].res,g=i.res,_=S,v=e[r].cached,b=y=void 0,("saveData"===T.algorithm?m>2.7?_+1:(b=(g-_)*(y=Math.pow(m-.6,1.5)),v&&(b+=.1*y),m+b):_>1?Math.sqrt(m*g):m)>_)?e[r]:i;break}s&&(u=k.makeUrl(s.url),w.curSrc=u,w.curCan=s,u!==a&&k.setSrc(t,s),k.setSize(t))}},k.setSrc=function(e,t){var i;e.src=t.url,"image/svg+xml"===t.set.type&&(i=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=i))},k.getSet=function(e){var t,i,n,r=!1,o=e[k.ns].sets;for(t=0;t<o.length&&!r;t++)if((i=o[t]).srcset&&k.matchesMedia(i.media)&&(n=k.supportsType(i.type))){"pending"===n&&(i=n),r=i;break}return r},k.parseSets=function(e,t,i){var n,r,o,s,a=t&&"PICTURE"===t.nodeName.toUpperCase(),l=e[k.ns];(void 0===l.src||i.src)&&(l.src=c.call(e,"src"),l.src?d.call(e,h,l.src):f.call(e,h)),(void 0===l.srcset||i.srcset||!k.supSrcset||e.srcset)&&(n=c.call(e,"srcset"),l.srcset=n,s=!0),l.sets=[],a&&(l.pic=!0,function(e,t){var i,n,r,o,s=e.getElementsByTagName("source");for(i=0,n=s.length;i<n;i++)(r=s[i])[k.ns]=!0,(o=r.getAttribute("srcset"))&&t.push({srcset:o,media:r.getAttribute("media"),type:r.getAttribute("type"),sizes:r.getAttribute("sizes")})}(t,l.sets)),l.srcset?(r={srcset:l.srcset,sizes:c.call(e,"sizes")},l.sets.push(r),(o=(u||l.src)&&_.test(l.srcset||""))||!l.src||ce(l.src,r)||r.has1x||(r.srcset+=", "+l.src,r.cands.push({url:l.src,d:1,set:r}))):l.src&&l.sets.push({srcset:l.src,sizes:null}),l.curCan=null,l.curSrc=void 0,l.supported=!(a||r&&!k.supSrcset||o&&!k.supSizes),s&&k.supSrcset&&!l.supported&&(n?(d.call(e,m,n),e.srcset=""):f.call(e,m)),l.supported&&!l.srcset&&(!l.src&&e.src||e.src!==k.makeUrl(l.src))&&(null===l.src?e.removeAttribute("src"):e.src=l.src),l.parsed=!0},k.fillImg=function(e,t){var i,n,r,o,s,a=t.reselect||t.reevaluate;(e[k.ns]||(e[k.ns]={}),i=e[k.ns],a||i.evaled!==l)&&(i.parsed&&!t.reevaluate||k.parseSets(e,e.parentNode,t),i.supported?i.evaled=l:(n=e,o=k.getSet(n),s=!1,"pending"!==o&&(s=l,o&&(r=k.setRes(o),k.applySetCandidate(r,n))),n[k.ns].evaled=s))},k.setupRun=function(){O&&!w&&P===e.devicePixelRatio||(w=!1,P=e.devicePixelRatio,S={},x={},k.DPR=P||1,I.width=Math.max(e.innerWidth||0,a.clientWidth),I.height=Math.max(e.innerHeight||0,a.clientHeight),I.vw=I.width/100,I.vh=I.height/100,l=[I.height,I.width,P].join("-"),I.em=k.getEmValue(),I.rem=I.em)},k.supPicture?(le=i,k.fillImg=i):(Z=e.attachEvent?/d$|^c/:/d$|^c|^i/,ee=function(){var e=o.readyState||"";te=setTimeout(ee,"loading"===e?200:999),o.body&&(k.fillImgs(),(V=V||Z.test(e))&&clearTimeout(te))},te=setTimeout(ee,o.body?9:99),ie=a.clientHeight,j(e,"resize",(G=function(){w=Math.max(e.innerWidth||0,a.clientWidth)!==I.width||a.clientHeight!==ie,ie=a.clientHeight,w&&k.fillImgs()},Q=99,J=function(){var e=new Date-X;e<Q?K=setTimeout(J,Q-e):(K=null,G())},function(){X=new Date,K||(K=setTimeout(J,Q))})),j(o,"readystatechange",ee)),k.picturefill=le,k.fillImgs=le,k.teardownRun=i,le._=k,e.picturefillCFG={pf:k,push:function(e){var t=e.shift();"function"===typeof k[t]?k[t].apply(k,e):(T[t]=e[0],O&&k.fillImgs({reselect:!0}))}};for(;y&&y.length;)e.picturefillCFG.push(y.shift());e.picturefill=le,"object"===typeof module&&"object"===typeof module.exports?module.exports=le:"function"===typeof define&&define.amd&&define("picturefill",[],function(){return le}),k.supPicture||(p["image/webp"]=(ne="image/webp",re="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",(oe=new e.Image).onerror=function(){p[ne]=!1,le()},oe.onload=function(){p[ne]=1===oe.width,le()},oe.src=re,"pending"))}(window,document),function(e,t){var i=function(n,u){"use strict";if(!u.getElementsByClassName)return;var d,c=u.documentElement,o=n.Date,r=n.HTMLPictureElement,s="addEventListener",f="getAttribute",t=n[s],p=n.setTimeout,i=n.requestAnimationFrame||p,a=n.requestIdleCallback,h=/^picture$/i,l=["load","error","lazyincluded","_lazyloaded"],m={},g=Array.prototype.forEach,_=function(e,t){return m[t]||(m[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),m[t].test(e[f]("class")||"")&&m[t]},v=function(e,t){_(e,t)||e.setAttribute("class",(e[f]("class")||"").trim()+" "+t)},y=function(e,t){var i;(i=_(e,t))&&e.setAttribute("class",(e[f]("class")||"").replace(i," "))},b=function(t,i,e){var n=e?s:"removeEventListener";e&&b(t,i),l.forEach(function(e){t[n](e,i)})},w=function(e,t,i,n,r){var o=u.createEvent("CustomEvent");return o.initCustomEvent(t,!n,!r,i||{}),e.dispatchEvent(o),o},S=function(e,t){var i;!r&&(i=n.picturefill||d.pf)?i({reevaluate:!0,elements:[e]}):t&&t.src&&(e.src=t.src)},k=function(e,t){return(getComputedStyle(e,null)||{})[t]},T=function(e,t,i){for(i=i||e.offsetWidth;i<d.minSize&&t&&!e._lazysizesWidth;)i=t.offsetWidth,t=t.parentNode;return i},C=(be=[],we=function(){var e;for(ye=!(ve=!0);be.length;)(e=be.shift())[0].apply(e[1],e[2]);ve=!1},Se=function(e){ve?e.apply(this,arguments):(be.push([e,this,arguments]),ye||(ye=!0,(u.hidden?p:i)(we)))},Se._lsFlush=we,Se),e=function(i,e){return e?function(){C(i)}:function(){var e=this,t=arguments;C(function(){i.apply(e,t)})}},E=function(e){var t,i,n=function(){t=null,e()},r=function(){var e=o.now()-i;e<99?p(r,99-e):(a||n)(n)};return function(){i=o.now(),t||(t=p(r,99))}},x=(te=/^img$/i,ie=/^iframe$/i,ne="onscroll"in n&&!/glebot/.test(navigator.userAgent),re=0,oe=0,se=-1,ae=function(e){oe--,e&&e.target&&b(e.target,ae),(!e||oe<0||!e.target)&&(oe=0)},le=function(e,t){var i,n=e,r="hidden"==k(u.body,"visibility")||"hidden"!=k(e,"visibility");for(q-=t,W+=t,F-=t,Y+=t;r&&(n=n.offsetParent)&&n!=u.body&&n!=c;)(r=(k(n,"opacity")||1)>0)&&"visible"!=k(n,"overflow")&&(i=n.getBoundingClientRect(),r=Y>i.left&&F<i.right&&W>i.top-1&&q<i.bottom+1);return r},ue=function(){var e,t,i,n,r,o,s,a,l;if((j=d.loadMode)&&oe<8&&(e=N.length)){t=0,se++,null==V&&("expand"in d||(d.expand=c.clientHeight>500&&c.clientWidth>500?500:370),B=d.expand,V=B*d.expFactor),re<V&&oe<1&&se>2&&j>2&&!u.hidden?(re=V,se=0):re=j>1&&se>1&&oe<6?B:0;for(;t<e;t++)if(N[t]&&!N[t]._lazyRace)if(ne)if((a=N[t][f]("data-expand"))&&(o=1*a)||(o=re),l!==o&&(U=innerWidth+o*G,z=innerHeight+o,s=-1*o,l=o),i=N[t].getBoundingClientRect(),(W=i.bottom)>=s&&(q=i.top)<=z&&(Y=i.right)>=s*G&&(F=i.left)<=U&&(W||Y||F||q)&&(R&&oe<3&&!a&&(j<3||se<4)||le(N[t],o))){if(ge(N[t]),r=!0,oe>9)break}else!r&&R&&!n&&oe<4&&se<4&&j>2&&(L[0]||d.preloadAfterLoad)&&(L[0]||!a&&(W||Y||F||q||"auto"!=N[t][f](d.sizesAttr)))&&(n=L[0]||N[t]);else ge(N[t]);n&&!r&&ge(n)}},Q=ue,X=0,J=666,Z=function(){K=!1,X=o.now(),Q()},ee=a?function(){a(Z,{timeout:J}),666!==J&&(J=666)}:e(function(){p(Z)},!0),ce=function(e){var t;(e=!0===e)&&(J=44),K||(K=!0,(t=125-(o.now()-X))<0&&(t=0),e||t<9&&a?ee():p(ee,t))},de=function(e){v(e.target,d.loadedClass),y(e.target,d.loadingClass),b(e.target,pe)},fe=e(de),pe=function(e){fe({target:e.target})},he=function(e){var t,i,n=e[f](d.srcsetAttr);(t=d.customMedia[e[f]("data-media")||e[f]("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n),t&&((i=e.parentNode).insertBefore(e.cloneNode(),e),i.removeChild(e))},me=e(function(e,t,i,n,r){var o,s,a,l,u,c;(u=w(e,"lazybeforeunveil",t)).defaultPrevented||(n&&(i?v(e,d.autosizesClass):e.setAttribute("sizes",n)),s=e[f](d.srcsetAttr),o=e[f](d.srcAttr),r&&(a=e.parentNode,l=a&&h.test(a.nodeName||"")),c=t.firesLoad||"src"in e&&(s||o||l),u={target:e},c&&(b(e,ae,!0),clearTimeout($),$=p(ae,2500),v(e,d.loadingClass),b(e,pe,!0)),l&&g.call(a.getElementsByTagName("source"),he),s?e.setAttribute("srcset",s):o&&!l&&(ie.test(e.nodeName)?function(t,i){try{t.contentWindow.location.replace(i)}catch(e){t.src=i}}(e,o):e.src=o),(s||l)&&S(e,{src:o})),C(function(){e._lazyRace&&delete e._lazyRace,y(e,d.lazyClass),c&&!e.complete||(c?ae(u):oe--,de(u))})}),ge=function(e){var t,i=te.test(e.nodeName),n=i&&(e[f](d.sizesAttr)||e[f]("sizes")),r="auto"==n;(!r&&R||!i||!e.src&&!e.srcset||e.complete||_(e,d.errorClass))&&(t=w(e,"lazyunveilread").detail,r&&P.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,oe++,me(e,t,r,n,i))},_e=function(){if(!R)if(o.now()-H<999)p(_e,999);else{var e=E(function(){d.loadMode=3,ce()});R=!0,d.loadMode=3,ce(),t("scroll",function(){3==d.loadMode&&(d.loadMode=2),e()},!0)}},{_:function(){H=o.now(),N=u.getElementsByClassName(d.lazyClass),L=u.getElementsByClassName(d.lazyClass+" "+d.preloadClass),G=d.hFac,t("scroll",ce,!0),t("resize",ce,!0),n.MutationObserver?new MutationObserver(ce).observe(c,{childList:!0,subtree:!0,attributes:!0}):(c[s]("DOMNodeInserted",ce,!0),c[s]("DOMAttrModified",ce,!0),setInterval(ce,999)),t("hashchange",ce,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){u[s](e,ce,!0)}),/d$|^c/.test(u.readyState)?_e():(t("load",_e),u[s]("DOMContentLoaded",ce),p(_e,2e4)),N.length?ue():ce()},checkElems:ce,unveil:ge}),P=(O=e(function(e,t,i,n){var r,o,s;if(e._lazysizesWidth=n,n+="px",e.setAttribute("sizes",n),h.test(t.nodeName||""))for(r=t.getElementsByTagName("source"),o=0,s=r.length;o<s;o++)r[o].setAttribute("sizes",n);i.detail.dataAttr||S(e,i.detail)}),M=function(e,t,i){var n,r=e.parentNode;r&&(i=T(e,r,i),(n=w(e,"lazybeforesizes",{width:i,dataAttr:!!t})).defaultPrevented||(i=n.detail.width)&&i!==e._lazysizesWidth&&O(e,r,n,i))},D=E(function(){var e,t=A.length;if(t)for(e=0;e<t;e++)M(A[e])}),{_:function(){A=u.getElementsByClassName(d.autosizesClass),t("resize",D)},checkElems:D,updateElem:M}),I=function(){I.i||(I.i=!0,P._(),x._())};var A,O,M,D;var N,L,R,$,j,H,U,z,q,F,Y,W,B,V,G,Q,K,X,J,Z,ee,te,ie,ne,re,oe,se,ae,le,ue,ce,de,fe,pe,he,me,ge,_e;var ve,ye,be,we,Se;return function(){var e,t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};for(e in d=n.lazySizesConfig||n.lazysizesConfig||{},t)e in d||(d[e]=t[e]);n.lazySizesConfig=d,p(function(){d.init&&I()})}(),{cfg:d,autoSizer:P,loader:x,init:I,uP:S,aC:v,rC:y,hC:_,fire:w,gW:T,rAF:C}}(e,e.document);e.lazySizes=i,"object"==typeof module&&module.exports?module.exports=i:"function"==typeof define&&define.amd&&define("lazysizes",i)}(window),function(e,t){"object"===typeof exports&&"undefined"!==typeof module?module.exports=t():"function"===typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){"use strict";var e,r;function p(){return e.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function l(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(h(e,t))return!1;return!0}function c(e){return void 0===e}function d(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function m(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function g(e,t){for(var i in t)h(t,i)&&(e[i]=t[i]);return h(t,"toString")&&(e.toString=t.toString),h(t,"valueOf")&&(e.valueOf=t.valueOf),e}function _(e,t,i,n){return Pt(e,t,i,n,!0).utc()}function v(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function y(e){if(null==e._isValid){var t=v(e),i=r.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function b(e){var t=_(NaN);return null!=e?g(v(t),e):v(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,i=Object(this),n=i.length>>>0;for(t=0;t<n;t++)if(t in i&&e.call(this,i[t],t,i))return!0;return!1};var o=p.momentProperties=[],t=!1;function w(e,t){var i,n,r;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=v(t)),c(t._locale)||(e._locale=t._locale),o.length>0)for(i=0;i<o.length;i++)c(r=t[n=o[i]])||(e[n]=r);return e}function S(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,p.updateOffset(this),t=!1)}function k(e){return e instanceof S||null!=e&&null!=e._isAMomentObject}function T(e){!1===p.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function i(r,o){var s=!0;return g(function(){if(null!=p.deprecationHandler&&p.deprecationHandler(null,r),s){var e,t,i,n=[];for(t=0;t<arguments.length;t++){if(e="","object"===typeof arguments[t]){for(i in e+="\n["+t+"] ",arguments[0])h(arguments[0],i)&&(e+=i+": "+arguments[0][i]+", ");e=e.slice(0,-2)}else e=arguments[t];n.push(e)}T(r+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),s=!1}return o.apply(this,arguments)},o)}var n,s={};function C(e,t){null!=p.deprecationHandler&&p.deprecationHandler(e,t),s[e]||(T(t),s[e]=!0)}function E(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function x(e,t){var i,n=g({},e);for(i in t)h(t,i)&&(l(e[i])&&l(t[i])?(n[i]={},g(n[i],e[i]),g(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(i in e)h(e,i)&&!h(t,i)&&l(e[i])&&(n[i]=g({},n[i]));return n}function P(e){null!=e&&this.set(e)}p.suppressDeprecationWarnings=!1,p.deprecationHandler=null,n=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)h(e,t)&&i.push(t);return i};function I(e,t,i){var n=""+Math.abs(e),r=t-n.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var A=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,O=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,M={},D={};function N(e,t,i,n){var r=n;"string"===typeof n&&(r=function(){return this[n]()}),e&&(D[e]=r),t&&(D[t[0]]=function(){return I(r.apply(this,arguments),t[1],t[2])}),i&&(D[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function L(e,t){return e.isValid()?(t=R(t,e.localeData()),M[t]=M[t]||function(n){var e,r,t,o=n.match(A);for(e=0,r=o.length;e<r;e++)D[o[e]]?o[e]=D[o[e]]:o[e]=(t=o[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(e){var t,i="";for(t=0;t<r;t++)i+=E(o[t])?o[t].call(e,n):o[t];return i}}(t),M[t](e)):e.localeData().invalidDate()}function R(e,t){var i=5;function n(e){return t.longDateFormat(e)||e}for(O.lastIndex=0;i>=0&&O.test(e);)e=e.replace(O,n),O.lastIndex=0,i-=1;return e}var $={};function j(e,t){var i=e.toLowerCase();$[i]=$[i+"s"]=$[t]=e}function H(e){return"string"===typeof e?$[e]||$[e.toLowerCase()]:void 0}function U(e){var t,i,n={};for(i in e)h(e,i)&&(t=H(i))&&(n[t]=e[i]);return n}var z={};function q(e,t){z[e]=t}function F(e){return e%4===0&&e%100!==0||e%400===0}function Y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function W(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=Y(t)),i}function B(t,i){return function(e){return null!=e?(G(this,t,e),p.updateOffset(this,i),this):V(this,t)}}function V(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function G(e,t,i){e.isValid()&&!isNaN(i)&&("FullYear"===t&&F(e.year())&&1===e.month()&&29===e.date()?(i=W(i),e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),Pe(i,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](i))}var Q,K=/\d/,X=/\d\d/,J=/\d{3}/,Z=/\d{4}/,ee=/[+-]?\d{6}/,te=/\d\d?/,ie=/\d\d\d\d?/,ne=/\d\d\d\d\d\d?/,re=/\d{1,3}/,oe=/\d{1,4}/,se=/[+-]?\d{1,6}/,ae=/\d+/,le=/[+-]?\d+/,ue=/Z|[+-]\d\d:?\d\d/gi,ce=/Z|[+-]\d\d(?::?\d\d)?/gi,de=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function fe(e,i,n){Q[e]=E(i)?i:function(e,t){return e&&n?n:i}}function pe(e,t){return h(Q,e)?Q[e](t._strict,t._locale):new RegExp(he(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,r){return t||i||n||r})))}function he(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Q={};var me={};function ge(e,i){var t,n=i;for("string"===typeof e&&(e=[e]),d(i)&&(n=function(e,t){t[i]=W(e)}),t=0;t<e.length;t++)me[e[t]]=n}function _e(e,r){ge(e,function(e,t,i,n){i._w=i._w||{},r(e,i._w,i,n)})}var ve,ye=0,be=1,we=2,Se=3,ke=4,Te=5,Ce=6,Ee=7,xe=8;function Pe(e,t){if(isNaN(e)||isNaN(t))return NaN;var i,n=(t%(i=12)+i)%i;return e+=(t-n)/12,1===n?F(e)?29:28:31-n%7%2}ve=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},N("M",["MM",2],"Mo",function(){return this.month()+1}),N("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),N("MMMM",0,0,function(e){return this.localeData().months(this,e)}),j("month","M"),q("month",8),fe("M",te),fe("MM",te,X),fe("MMM",function(e,t){return t.monthsShortRegex(e)}),fe("MMMM",function(e,t){return t.monthsRegex(e)}),ge(["M","MM"],function(e,t){t[be]=W(e)-1}),ge(["MMM","MMMM"],function(e,t,i,n){var r=i._locale.monthsParse(e,n,i._strict);null!=r?t[be]=r:v(i).invalidMonth=e});var Ie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ae="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Oe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Me=de,De=de;function Ne(e,t){var i;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=W(t);else if(!d(t=e.localeData().monthsParse(t)))return e;return i=Math.min(e.date(),Pe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function Le(e){return null!=e?(Ne(this,e),p.updateOffset(this,!0),this):V(this,"Month")}function Re(){function e(e,t){return t.length-e.length}var t,i,n=[],r=[],o=[];for(t=0;t<12;t++)i=_([2e3,t]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),o.push(this.months(i,"")),o.push(this.monthsShort(i,""));for(n.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)n[t]=he(n[t]),r[t]=he(r[t]);for(t=0;t<24;t++)o[t]=he(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function $e(e){return F(e)?366:365}N("Y",0,0,function(){var e=this.year();return e<=9999?I(e,4):"+"+e}),N(0,["YY",2],0,function(){return this.year()%100}),N(0,["YYYY",4],0,"year"),N(0,["YYYYY",5],0,"year"),N(0,["YYYYYY",6,!0],0,"year"),j("year","y"),q("year",1),fe("Y",le),fe("YY",te,X),fe("YYYY",oe,Z),fe("YYYYY",se,ee),fe("YYYYYY",se,ee),ge(["YYYYY","YYYYYY"],ye),ge("YYYY",function(e,t){t[ye]=2===e.length?p.parseTwoDigitYear(e):W(e)}),ge("YY",function(e,t){t[ye]=p.parseTwoDigitYear(e)}),ge("Y",function(e,t){t[ye]=parseInt(e,10)}),p.parseTwoDigitYear=function(e){return W(e)+(W(e)>68?1900:2e3)};var je=B("FullYear",!0);function He(e){var t,i;return e<100&&e>=0?((i=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ue(e,t,i){var n=7+t-i;return-((7+He(e,0,n).getUTCDay()-t)%7)+n-1}function ze(e,t,i,n,r){var o,s,a=1+7*(t-1)+(7+i-n)%7+Ue(e,n,r);return s=a<=0?$e(o=e-1)+a:a>$e(e)?(o=e+1,a-$e(e)):(o=e,a),{year:o,dayOfYear:s}}function qe(e,t,i){var n,r,o=Ue(e.year(),t,i),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?n=s+Fe(r=e.year()-1,t,i):s>Fe(e.year(),t,i)?(n=s-Fe(e.year(),t,i),r=e.year()+1):(r=e.year(),n=s),{week:n,year:r}}function Fe(e,t,i){var n=Ue(e,t,i),r=Ue(e+1,t,i);return($e(e)-n+r)/7}N("w",["ww",2],"wo","week"),N("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),q("week",5),q("isoWeek",5),fe("w",te),fe("ww",te,X),fe("W",te),fe("WW",te,X),_e(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=W(e)});function Ye(e,t){return e.slice(t,7).concat(e.slice(0,t))}N("d",0,"do","day"),N("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),N("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),N("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),N("e",0,0,"weekday"),N("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),q("day",11),q("weekday",11),q("isoWeekday",11),fe("d",te),fe("e",te),fe("E",te),fe("dd",function(e,t){return t.weekdaysMinRegex(e)}),fe("ddd",function(e,t){return t.weekdaysShortRegex(e)}),fe("dddd",function(e,t){return t.weekdaysRegex(e)}),_e(["dd","ddd","dddd"],function(e,t,i,n){var r=i._locale.weekdaysParse(e,n,i._strict);null!=r?t.d=r:v(i).invalidWeekday=e}),_e(["d","e","E"],function(e,t,i,n){t[n]=W(e)});var We="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Be="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ve="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ge=de,Qe=de,Ke=de;function Xe(){function e(e,t){return t.length-e.length}var t,i,n,r,o,s=[],a=[],l=[],u=[];for(t=0;t<7;t++)i=_([2e3,1]).day(t),n=he(this.weekdaysMin(i,"")),r=he(this.weekdaysShort(i,"")),o=he(this.weekdays(i,"")),s.push(n),a.push(r),l.push(o),u.push(n),u.push(r),u.push(o);s.sort(e),a.sort(e),l.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Je(){return this.hours()%12||12}function Ze(e,t){N(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function et(e,t){return t._meridiemParse}N("H",["HH",2],0,"hour"),N("h",["hh",2],0,Je),N("k",["kk",2],0,function(){return this.hours()||24}),N("hmm",0,0,function(){return""+Je.apply(this)+I(this.minutes(),2)}),N("hmmss",0,0,function(){return""+Je.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),N("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),N("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),Ze("a",!0),Ze("A",!1),j("hour","h"),q("hour",13),fe("a",et),fe("A",et),fe("H",te),fe("h",te),fe("k",te),fe("HH",te,X),fe("hh",te,X),fe("kk",te,X),fe("hmm",ie),fe("hmmss",ne),fe("Hmm",ie),fe("Hmmss",ne),ge(["H","HH"],Se),ge(["k","kk"],function(e,t,i){var n=W(e);t[Se]=24===n?0:n}),ge(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),ge(["h","hh"],function(e,t,i){t[Se]=W(e),v(i).bigHour=!0}),ge("hmm",function(e,t,i){var n=e.length-2;t[Se]=W(e.substr(0,n)),t[ke]=W(e.substr(n)),v(i).bigHour=!0}),ge("hmmss",function(e,t,i){var n=e.length-4,r=e.length-2;t[Se]=W(e.substr(0,n)),t[ke]=W(e.substr(n,2)),t[Te]=W(e.substr(r)),v(i).bigHour=!0}),ge("Hmm",function(e,t,i){var n=e.length-2;t[Se]=W(e.substr(0,n)),t[ke]=W(e.substr(n))}),ge("Hmmss",function(e,t,i){var n=e.length-4,r=e.length-2;t[Se]=W(e.substr(0,n)),t[ke]=W(e.substr(n,2)),t[Te]=W(e.substr(r))});var tt=B("Hours",!0);var it,nt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ie,monthsShort:Ae,week:{dow:0,doy:6},weekdays:We,weekdaysMin:Ve,weekdaysShort:Be,meridiemParse:/[ap]\.?m?\.?/i},rt={},ot={};function st(e,t){var i,n=Math.min(e.length,t.length);for(i=0;i<n;i+=1)if(e[i]!==t[i])return i;return n}function at(e){return e?e.toLowerCase().replace("_","-"):e}function lt(t){var e=null;if(void 0===rt[t]&&"undefined"!==typeof module&&module&&module.exports)try{e=it._abbr,require("./locale/"+t),ut(e)}catch(e){rt[t]=null}return rt[t]}function ut(e,t){var i;return e&&((i=c(t)?dt(e):ct(e,t))?it=i:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),it._abbr}function ct(e,t){if(null===t)return delete rt[e],null;var i,n=nt;if(t.abbr=e,null!=rt[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=rt[e]._config;else if(null!=t.parentLocale)if(null!=rt[t.parentLocale])n=rt[t.parentLocale]._config;else{if(null==(i=lt(t.parentLocale)))return ot[t.parentLocale]||(ot[t.parentLocale]=[]),ot[t.parentLocale].push({name:e,config:t}),null;n=i._config}return rt[e]=new P(x(n,t)),ot[e]&&ot[e].forEach(function(e){ct(e.name,e.config)}),ut(e),rt[e]}function dt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return it;if(!a(e)){if(t=lt(e))return t;e=[e]}return function(e){for(var t,i,n,r,o=0;o<e.length;){for(t=(r=at(e[o]).split("-")).length,i=(i=at(e[o+1]))?i.split("-"):null;t>0;){if(n=lt(r.slice(0,t).join("-")))return n;if(i&&i.length>=t&&st(r,i)>=t-1)break;t--}o++}return it}(e)}function ft(e){var t,i=e._a;return i&&-2===v(e).overflow&&(t=i[be]<0||i[be]>11?be:i[we]<1||i[we]>Pe(i[ye],i[be])?we:i[Se]<0||i[Se]>24||24===i[Se]&&(0!==i[ke]||0!==i[Te]||0!==i[Ce])?Se:i[ke]<0||i[ke]>59?ke:i[Te]<0||i[Te]>59?Te:i[Ce]<0||i[Ce]>999?Ce:-1,v(e)._overflowDayOfYear&&(t<ye||t>we)&&(t=we),v(e)._overflowWeeks&&-1===t&&(t=Ee),v(e)._overflowWeekday&&-1===t&&(t=xe),v(e).overflow=t),e}var pt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/Z|[+-]\d\d(?::?\d\d)?/,gt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_t=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vt=/^\/?Date\((-?\d+)/i,yt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,bt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wt(e){var t,i,n,r,o,s,a=e._i,l=pt.exec(a)||ht.exec(a);if(l){for(v(e).iso=!0,t=0,i=gt.length;t<i;t++)if(gt[t][1].exec(l[1])){r=gt[t][0],n=!1!==gt[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,i=_t.length;t<i;t++)if(_t[t][1].exec(l[3])){o=(l[2]||" ")+_t[t][0];break}if(null==o)return void(e._isValid=!1)}if(!n&&null!=o)return void(e._isValid=!1);if(l[4]){if(!mt.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=r+(o||"")+(s||""),Et(e)}else e._isValid=!1}function St(e,t,i,n,r,o){var s=[function(e){var t=parseInt(e,10);{if(t<=49)return 2e3+t;if(t<=999)return 1900+t}return t}(e),Ae.indexOf(t),parseInt(i,10),parseInt(n,10),parseInt(r,10)];return o&&s.push(parseInt(o,10)),s}function kt(e){var t,i,n,r,o=yt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(o){if(t=St(o[4],o[3],o[2],o[5],o[6],o[7]),i=o[1],n=t,r=e,i&&Be.indexOf(i)!==new Date(n[0],n[1],n[2]).getDay()&&(v(r).weekdayMismatch=!0,!(r._isValid=!1)))return;e._a=t,e._tzm=function(e,t,i){if(e)return bt[e];if(t)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}(o[8],o[9],o[10]),e._d=He.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function Tt(e,t,i){return null!=e?e:null!=t?t:i}function Ct(e){var t,i,n,r,o,s=[];if(!e._d){var a,l;for(a=e,l=new Date(p.now()),n=a._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()],e._w&&null==e._a[we]&&null==e._a[be]&&function(e){var t,i,n,r,o,s,a,l,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,s=4,i=Tt(t.GG,e._a[ye],qe(It(),1,4).year),n=Tt(t.W,1),((r=Tt(t.E,1))<1||r>7)&&(l=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,u=qe(It(),o,s),i=Tt(t.gg,e._a[ye],u.year),n=Tt(t.w,u.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o);n<1||n>Fe(i,o,s)?v(e)._overflowWeeks=!0:null!=l?v(e)._overflowWeekday=!0:(a=ze(i,n,r,o,s),e._a[ye]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(o=Tt(e._a[ye],n[ye]),(e._dayOfYear>$e(o)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),i=He(o,0,e._dayOfYear),e._a[be]=i.getUTCMonth(),e._a[we]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=n[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Se]&&0===e._a[ke]&&0===e._a[Te]&&0===e._a[Ce]&&(e._nextDay=!0,e._a[Se]=0),e._d=(e._useUTC?He:function(e,t,i,n,r,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,i,n,r,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,i,n,r,o,s),a}).apply(null,s),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Se]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==r&&(v(e).weekdayMismatch=!0)}}function Et(e){if(e._f!==p.ISO_8601)if(e._f!==p.RFC_2822){e._a=[],v(e).empty=!0;var t,i,n,r,o,s,a,l,u,c=""+e._i,d=c.length,f=0;for(n=R(e._f,e._locale).match(A)||[],t=0;t<n.length;t++)r=n[t],(i=(c.match(pe(r,e))||[])[0])&&((o=c.substr(0,c.indexOf(i))).length>0&&v(e).unusedInput.push(o),c=c.slice(c.indexOf(i)+i.length),f+=i.length),D[r]?(i?v(e).empty=!1:v(e).unusedTokens.push(r),a=r,u=e,null!=(l=i)&&h(me,a)&&me[a](l,u._a,u,a)):e._strict&&!i&&v(e).unusedTokens.push(r);v(e).charsLeftOver=d-f,c.length>0&&v(e).unusedInput.push(c),e._a[Se]<=12&&!0===v(e).bigHour&&e._a[Se]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[Se]=function(e,t,i){var n;if(null==i)return t;return null!=e.meridiemHour?e.meridiemHour(t,i):(null!=e.isPM&&((n=e.isPM(i))&&t<12&&(t+=12),n||12!==t||(t=0)),t)}(e._locale,e._a[Se],e._meridiem),null!==(s=v(e).era)&&(e._a[ye]=e._locale.erasConvertYear(s,e._a[ye])),Ct(e),ft(e)}else kt(e);else wt(e)}function xt(e){var t,i,n,r,o=e._i,s=e._f;return e._locale=e._locale||dt(e._l),null===o||void 0===s&&""===o?b({nullInput:!0}):("string"===typeof o&&(e._i=o=e._locale.preparse(o)),k(o)?new S(ft(o)):(f(o)?e._d=o:a(s)?function(e){var t,i,n,r,o,s,a=!1;if(0===e._f.length)return v(e).invalidFormat=!0,e._d=new Date(NaN);for(r=0;r<e._f.length;r++)o=0,s=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Et(t),y(t)&&(s=!0),o+=v(t).charsLeftOver,o+=10*v(t).unusedTokens.length,v(t).score=o,a?o<n&&(n=o,i=t):(null==n||o<n||s)&&(n=o,i=t,s&&(a=!0));g(e,i||t)}(e):s?Et(e):c(i=(t=e)._i)?t._d=new Date(p.now()):f(i)?t._d=new Date(i.valueOf()):"string"===typeof i?(n=t,null===(r=vt.exec(n._i))?(wt(n),!1===n._isValid&&(delete n._isValid,kt(n),!1===n._isValid&&(delete n._isValid,n._strict?n._isValid=!1:p.createFromInputFallback(n)))):n._d=new Date(+r[1])):a(i)?(t._a=m(i.slice(0),function(e){return parseInt(e,10)}),Ct(t)):l(i)?function(e){if(!e._d){var t=U(e._i),i=void 0===t.day?t.date:t.day;e._a=m([t.year,t.month,i,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Ct(e)}}(t):d(i)?t._d=new Date(i):p.createFromInputFallback(t),y(e)||(e._d=null),e))}function Pt(e,t,i,n,r){var o,s={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==i&&!1!==i||(n=i,i=void 0),(l(e)&&u(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=i,s._i=e,s._f=t,s._strict=n,(o=new S(ft(xt(s))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function It(e,t,i,n){return Pt(e,t,i,n,!1)}p.createFromInputFallback=i("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),p.ISO_8601=function(){},p.RFC_2822=function(){};var At=i("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=It.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:b()}),Ot=i("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=It.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:b()});function Mt(e,t){var i,n;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return It();for(i=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](i)||(i=t[n]);return i}var Dt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Nt(e){var t=U(e),i=t.year||0,n=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){var t,i,n=!1;for(t in e)if(h(e,t)&&(-1===ve.call(Dt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(i=0;i<Dt.length;++i)if(e[Dt[i]]){if(n)return!1;parseFloat(e[Dt[i]])!==W(e[Dt[i]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*n+12*i,this._data={},this._locale=dt(),this._bubble()}function Lt(e){return e instanceof Nt}function Rt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function $t(e,i){N(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+I(~~(e/60),2)+i+I(~~e%60,2)})}$t("Z",":"),$t("ZZ",""),fe("Z",ce),fe("ZZ",ce),ge(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=Ht(ce,e)});var jt=/([\+\-]|\d\d)/gi;function Ht(e,t){var i,n,r=(t||"").match(e);return null===r?null:0===(n=60*(i=((r[r.length-1]||[])+"").match(jt)||["-",0,0])[1]+W(i[2]))?0:"+"===i[0]?n:-n}function Ut(e,t){var i,n;return t._isUTC?(i=t.clone(),n=(k(e)||f(e)?e.valueOf():It(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),p.updateOffset(i,!1),i):It(e).local()}function zt(e){return-Math.round(e._d.getTimezoneOffset())}function qt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}p.updateOffset=function(){};var Ft=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Yt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Wt(e,t){var i,n,r,o=e,s=null;return Lt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:d(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(s=Ft.exec(e))?(i="-"===s[1]?-1:1,o={y:0,d:W(s[we])*i,h:W(s[Se])*i,m:W(s[ke])*i,s:W(s[Te])*i,ms:W(Rt(1e3*s[Ce]))*i}):(s=Yt.exec(e))?(i="-"===s[1]?-1:1,o={y:Bt(s[2],i),M:Bt(s[3],i),w:Bt(s[4],i),d:Bt(s[5],i),h:Bt(s[6],i),m:Bt(s[7],i),s:Bt(s[8],i)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(r=function(e,t){var i;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Ut(t,e),e.isBefore(t)?i=Vt(e,t):((i=Vt(t,e)).milliseconds=-i.milliseconds,i.months=-i.months);return i}(It(o.from),It(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),n=new Nt(o),Lt(e)&&h(e,"_locale")&&(n._locale=e._locale),Lt(e)&&h(e,"_isValid")&&(n._isValid=e._isValid),n}function Bt(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Vt(e,t){var i={};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Gt(n,r){return function(e,t){var i;return null===t||isNaN(+t)||(C(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=e,e=t,t=i),Qt(this,Wt(e,t),n),this}}function Qt(e,t,i,n){var r=t._milliseconds,o=Rt(t._days),s=Rt(t._months);e.isValid()&&(n=null==n||n,s&&Ne(e,V(e,"Month")+s*i),o&&G(e,"Date",V(e,"Date")+o*i),r&&e._d.setTime(e._d.valueOf()+r*i),n&&p.updateOffset(e,o||s))}Wt.fn=Nt.prototype,Wt.invalid=function(){return Wt(NaN)};var Kt=Gt(1,"add"),Xt=Gt(-1,"subtract");function Jt(e){return"string"===typeof e||e instanceof String}function Zt(e){return k(e)||f(e)||Jt(e)||d(e)||function(t){var e=a(t),i=!1;e&&(i=0===t.filter(function(e){return!d(e)&&Jt(t)}).length);return e&&i}(e)||function(e){var t,i,n=l(e)&&!u(e),r=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<o.length;t+=1)i=o[t],r=r||h(e,i);return n&&r}(e)||null===e||void 0===e}function ei(e,t){if(e.date()<t.date())return-ei(t,e);var i=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(i,"months");return-(i+(t-n<0?(t-n)/(n-e.clone().add(i-1,"months")):(t-n)/(e.clone().add(i+1,"months")-n)))||0}function ti(e){var t;return void 0===e?this._locale._abbr:(null!=(t=dt(e))&&(this._locale=t),this)}p.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",p.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ii=i("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function ni(){return this._locale}var ri=126227808e5;function oi(e,t){return(e%t+t)%t}function si(e,t,i){return e<100&&e>=0?new Date(e+400,t,i)-ri:new Date(e,t,i).valueOf()}function ai(e,t,i){return e<100&&e>=0?Date.UTC(e+400,t,i)-ri:Date.UTC(e,t,i)}function li(e,t){return t.erasAbbrRegex(e)}function ui(){var e,t,i=[],n=[],r=[],o=[],s=this.eras();for(e=0,t=s.length;e<t;++e)n.push(he(s[e].name)),i.push(he(s[e].abbr)),r.push(he(s[e].narrow)),o.push(he(s[e].name)),o.push(he(s[e].abbr)),o.push(he(s[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function ci(e,t){N(0,[e,e.length],0,t)}function di(e,t,i,n,r){var o;return null==e?qe(this,n,r).year:(t>(o=Fe(e,n,r))&&(t=o),function(e,t,i,n,r){var o=ze(e,t,i,n,r),s=He(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}.call(this,e,t,i,n,r))}N("N",0,0,"eraAbbr"),N("NN",0,0,"eraAbbr"),N("NNN",0,0,"eraAbbr"),N("NNNN",0,0,"eraName"),N("NNNNN",0,0,"eraNarrow"),N("y",["y",1],"yo","eraYear"),N("y",["yy",2],0,"eraYear"),N("y",["yyy",3],0,"eraYear"),N("y",["yyyy",4],0,"eraYear"),fe("N",li),fe("NN",li),fe("NNN",li),fe("NNNN",function(e,t){return t.erasNameRegex(e)}),fe("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),ge(["N","NN","NNN","NNNN","NNNNN"],function(e,t,i,n){var r=i._locale.erasParse(e,n,i._strict);r?v(i).era=r:v(i).invalidEra=e}),fe("y",ae),fe("yy",ae),fe("yyy",ae),fe("yyyy",ae),fe("yo",function(e,t){return t._eraYearOrdinalRegex||ae}),ge(["y","yy","yyy","yyyy"],ye),ge(["yo"],function(e,t,i,n){var r;i._locale._eraYearOrdinalRegex&&(r=e.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?t[ye]=i._locale.eraYearOrdinalParse(e,r):t[ye]=parseInt(e,10)}),N(0,["gg",2],0,function(){return this.weekYear()%100}),N(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ci("gggg","weekYear"),ci("ggggg","weekYear"),ci("GGGG","isoWeekYear"),ci("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),q("weekYear",1),q("isoWeekYear",1),fe("G",le),fe("g",le),fe("GG",te,X),fe("gg",te,X),fe("GGGG",oe,Z),fe("gggg",oe,Z),fe("GGGGG",se,ee),fe("ggggg",se,ee),_e(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=W(e)}),_e(["gg","GG"],function(e,t,i,n){t[n]=p.parseTwoDigitYear(e)}),N("Q",0,"Qo","quarter"),j("quarter","Q"),q("quarter",7),fe("Q",K),ge("Q",function(e,t){t[be]=3*(W(e)-1)}),N("D",["DD",2],"Do","date"),j("date","D"),q("date",9),fe("D",te),fe("DD",te,X),fe("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ge(["D","DD"],we),ge("Do",function(e,t){t[we]=W(e.match(te)[0])});var fi=B("Date",!0);N("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),q("dayOfYear",4),fe("DDD",re),fe("DDDD",J),ge(["DDD","DDDD"],function(e,t,i){i._dayOfYear=W(e)}),N("m",["mm",2],0,"minute"),j("minute","m"),q("minute",14),fe("m",te),fe("mm",te,X),ge(["m","mm"],ke);var pi=B("Minutes",!1);N("s",["ss",2],0,"second"),j("second","s"),q("second",15),fe("s",te),fe("ss",te,X),ge(["s","ss"],Te);var hi,mi,gi=B("Seconds",!1);for(N("S",0,0,function(){return~~(this.millisecond()/100)}),N(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),N(0,["SSS",3],0,"millisecond"),N(0,["SSSS",4],0,function(){return 10*this.millisecond()}),N(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),N(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),N(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),N(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),N(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),j("millisecond","ms"),q("millisecond",16),fe("S",re,K),fe("SS",re,X),fe("SSS",re,J),hi="SSSS";hi.length<=9;hi+="S")fe(hi,ae);function _i(e,t){t[Ce]=W(1e3*("0."+e))}for(hi="S";hi.length<=9;hi+="S")ge(hi,_i);mi=B("Milliseconds",!1),N("z",0,0,"zoneAbbr"),N("zz",0,0,"zoneName");var vi=S.prototype;function yi(e){return e}vi.add=Kt,vi.calendar=function(e,t){1===arguments.length&&(Zt(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,i=l(e)&&!u(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<r.length;t+=1)n=n||h(e,r[t]);return i&&n}(arguments[0])&&(t=arguments[0],e=void 0));var i=e||It(),n=Ut(i,this).startOf("day"),r=p.calendarFormat(this,n)||"sameElse",o=t&&(E(t[r])?t[r].call(this,i):t[r]);return this.format(o||this.localeData().calendar(r,this,It(i)))},vi.clone=function(){return new S(this)},vi.diff=function(e,t,i){var n,r,o;if(!this.isValid())return NaN;if(!(n=Ut(e,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),t=H(t)){case"year":o=ei(this,n)/12;break;case"month":o=ei(this,n);break;case"quarter":o=ei(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-r)/864e5;break;case"week":o=(this-n-r)/6048e5;break;default:o=this-n}return i?o:Y(o)},vi.endOf=function(e){var t,i;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?ai:si,e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-oi(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-oi(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-oi(t,1e3)-1}return this._d.setTime(t),p.updateOffset(this,!0),this},vi.format=function(e){e||(e=this.isUtc()?p.defaultFormatUtc:p.defaultFormat);var t=L(this,e);return this.localeData().postformat(t)},vi.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||It(e).isValid())?Wt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},vi.fromNow=function(e){return this.from(It(),e)},vi.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||It(e).isValid())?Wt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},vi.toNow=function(e){return this.to(It(),e)},vi.get=function(e){return E(this[e=H(e)])?this[e]():this},vi.invalidAt=function(){return v(this).overflow},vi.isAfter=function(e,t){var i=k(e)?e:It(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())},vi.isBefore=function(e,t){var i=k(e)?e:It(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())},vi.isBetween=function(e,t,i,n){var r=k(e)?e:It(e),o=k(t)?t:It(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(n=n||"()")[0]?this.isAfter(r,i):!this.isBefore(r,i))&&(")"===n[1]?this.isBefore(o,i):!this.isAfter(o,i))},vi.isSame=function(e,t){var i,n=k(e)?e:It(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))},vi.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},vi.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},vi.isValid=function(){return y(this)},vi.lang=ii,vi.locale=ti,vi.localeData=ni,vi.max=Ot,vi.min=At,vi.parsingFlags=function(){return g({},v(this))},vi.set=function(e,t){if("object"===typeof e){var i,n=function(e){var t,i=[];for(t in e)h(e,t)&&i.push({unit:t,priority:z[t]});return i.sort(function(e,t){return e.priority-t.priority}),i}(e=U(e));for(i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(E(this[e=H(e)]))return this[e](t);return this},vi.startOf=function(e){var t,i;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?ai:si,e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=oi(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=oi(t,6e4);break;case"second":t=this._d.valueOf(),t-=oi(t,1e3)}return this._d.setTime(t),p.updateOffset(this,!0),this},vi.subtract=Xt,vi.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},vi.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},vi.toDate=function(){return new Date(this.valueOf())},vi.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?L(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",L(i,"Z")):L(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},vi.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,i,n="moment",r="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=r+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+i)},"undefined"!==typeof Symbol&&null!=Symbol.for&&(vi[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),vi.toJSON=function(){return this.isValid()?this.toISOString():null},vi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},vi.unix=function(){return Math.floor(this.valueOf()/1e3)},vi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},vi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},vi.eraName=function(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].name;if(n[e].until<=i&&i<=n[e].since)return n[e].name}return""},vi.eraNarrow=function(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].narrow;if(n[e].until<=i&&i<=n[e].since)return n[e].narrow}return""},vi.eraAbbr=function(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].abbr;if(n[e].until<=i&&i<=n[e].since)return n[e].abbr}return""},vi.eraYear=function(){var e,t,i,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(i=r[e].since<=r[e].until?1:-1,n=this.startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return(this.year()-p(r[e].since).year())*i+r[e].offset;return this.year()},vi.year=je,vi.isLeapYear=function(){return F(this.year())},vi.weekYear=function(e){return di.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},vi.isoWeekYear=function(e){return di.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},vi.quarter=vi.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},vi.month=Le,vi.daysInMonth=function(){return Pe(this.year(),this.month())},vi.week=vi.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},vi.isoWeek=vi.isoWeeks=function(e){var t=qe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},vi.weeksInYear=function(){var e=this.localeData()._week;return Fe(this.year(),e.dow,e.doy)},vi.weeksInWeekYear=function(){var e=this.localeData()._week;return Fe(this.weekYear(),e.dow,e.doy)},vi.isoWeeksInYear=function(){return Fe(this.year(),1,4)},vi.isoWeeksInISOWeekYear=function(){return Fe(this.isoWeekYear(),1,4)},vi.date=fi,vi.day=vi.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,i,n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,i=this.localeData(),e="string"!==typeof t?t:isNaN(t)?"number"===typeof(t=i.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-n,"d")):n},vi.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},vi.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,i,n=(t=e,i=this.localeData(),"string"===typeof t?i.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?n:n-7)},vi.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},vi.hour=vi.hours=tt,vi.minute=vi.minutes=pi,vi.second=vi.seconds=gi,vi.millisecond=vi.milliseconds=mi,vi.utcOffset=function(e,t,i){var n,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?r:zt(this);if("string"===typeof e){if(null===(e=Ht(ce,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&t&&(n=zt(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==e&&(!t||this._changeInProgress?Qt(this,Wt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,p.updateOffset(this,!0),this._changeInProgress=null)),this},vi.utc=function(e){return this.utcOffset(0,e)},vi.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(zt(this),"m")),this},vi.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=Ht(ue,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},vi.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?It(e).utcOffset():0,(this.utcOffset()-e)%60===0)},vi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},vi.isLocal=function(){return!!this.isValid()&&!this._isUTC},vi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},vi.isUtc=qt,vi.isUTC=qt,vi.zoneAbbr=function(){return this._isUTC?"UTC":""},vi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},vi.dates=i("dates accessor is deprecated. Use date instead.",fi),vi.months=i("months accessor is deprecated. Use month instead",Le),vi.years=i("years accessor is deprecated. Use year instead",je),vi.zone=i("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),vi.isDSTShifted=i("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=xt(t))._a?(e=t._isUTC?_(t._a):It(t._a),this._isDSTShifted=this.isValid()&&function(e,t,i){var n,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(n=0;n<r;n++)(i&&e[n]!==t[n]||!i&&W(e[n])!==W(t[n]))&&s++;return s+o}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var bi=P.prototype;function wi(e,t,i,n){var r=dt(),o=_().set(n,t);return r[i](o,e)}function Si(e,t,i){if(d(e)&&(t=e,e=void 0),e=e||"",null!=t)return wi(e,t,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=wi(e,n,i,"month");return r}function ki(e,t,i,n){t=("boolean"===typeof e?d(t)&&(i=t,t=void 0):(t=e,e=!1,d(i=t)&&(i=t,t=void 0)),t||"");var r,o=dt(),s=e?o._week.dow:0,a=[];if(null!=i)return wi(t,(i+s)%7,n,"day");for(r=0;r<7;r++)a[r]=wi(t,(r+s)%7,n,"day");return a}bi.calendar=function(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return E(n)?n.call(t,i):n},bi.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.match(A).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},bi.invalidDate=function(){return this._invalidDate},bi.ordinal=function(e){return this._ordinal.replace("%d",e)},bi.preparse=yi,bi.postformat=yi,bi.relativeTime=function(e,t,i,n){var r=this._relativeTime[i];return E(r)?r(e,t,i,n):r.replace(/%d/i,e)},bi.pastFuture=function(e,t){var i=this._relativeTime[e>0?"future":"past"];return E(i)?i(t):i.replace(/%s/i,t)},bi.set=function(e){var t,i;for(i in e)h(e,i)&&(E(t=e[i])?this[i]=t:this["_"+i]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},bi.eras=function(e,t){var i,n,r,o=this._eras||dt("en")._eras;for(i=0,n=o.length;i<n;++i){switch(typeof o[i].since){case"string":r=p(o[i].since).startOf("day"),o[i].since=r.valueOf()}switch(typeof o[i].until){case"undefined":o[i].until=1/0;break;case"string":r=p(o[i].until).startOf("day").valueOf(),o[i].until=r.valueOf()}}return o},bi.erasParse=function(e,t,i){var n,r,o,s,a,l=this.eras();for(e=e.toUpperCase(),n=0,r=l.length;n<r;++n)if(o=l[n].name.toUpperCase(),s=l[n].abbr.toUpperCase(),a=l[n].narrow.toUpperCase(),i)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[n];break;case"NNNN":if(o===e)return l[n];break;case"NNNNN":if(a===e)return l[n]}else if([o,s,a].indexOf(e)>=0)return l[n]},bi.erasConvertYear=function(e,t){var i=e.since<=e.until?1:-1;return void 0===t?p(e.since).year():p(e.since).year()+(t-e.offset)*i},bi.erasAbbrRegex=function(e){return h(this,"_erasAbbrRegex")||ui.call(this),e?this._erasAbbrRegex:this._erasRegex},bi.erasNameRegex=function(e){return h(this,"_erasNameRegex")||ui.call(this),e?this._erasNameRegex:this._erasRegex},bi.erasNarrowRegex=function(e){return h(this,"_erasNarrowRegex")||ui.call(this),e?this._erasNarrowRegex:this._erasRegex},bi.months=function(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Oe).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone},bi.monthsShort=function(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Oe.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},bi.monthsParse=function(e,t,i){var n,r,o;if(this._monthsParseExact)return function(e,t,i){var n,r,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=_([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(r=ve.call(this._shortMonthsParse,s))?r:null:-1!==(r=ve.call(this._longMonthsParse,s))?r:null:"MMM"===t?-1!==(r=ve.call(this._shortMonthsParse,s))?r:-1!==(r=ve.call(this._longMonthsParse,s))?r:null:-1!==(r=ve.call(this._longMonthsParse,s))?r:-1!==(r=ve.call(this._shortMonthsParse,s))?r:null}.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=_([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}},bi.monthsRegex=function(e){return this._monthsParseExact?(h(this,"_monthsRegex")||Re.call(this),e?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=De),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},bi.monthsShortRegex=function(e){return this._monthsParseExact?(h(this,"_monthsRegex")||Re.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=Me),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},bi.week=function(e){return qe(e,this._week.dow,this._week.doy).week},bi.firstDayOfYear=function(){return this._week.doy},bi.firstDayOfWeek=function(){return this._week.dow},bi.weekdays=function(e,t){var i=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ye(i,this._week.dow):e?i[e.day()]:i},bi.weekdaysMin=function(e){return!0===e?Ye(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},bi.weekdaysShort=function(e){return!0===e?Ye(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},bi.weekdaysParse=function(e,t,i){var n,r,o;if(this._weekdaysParseExact)return function(e,t,i){var n,r,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=_([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(r=ve.call(this._weekdaysParse,s))?r:null:"ddd"===t?-1!==(r=ve.call(this._shortWeekdaysParse,s))?r:null:-1!==(r=ve.call(this._minWeekdaysParse,s))?r:null:"dddd"===t?-1!==(r=ve.call(this._weekdaysParse,s))?r:-1!==(r=ve.call(this._shortWeekdaysParse,s))?r:-1!==(r=ve.call(this._minWeekdaysParse,s))?r:null:"ddd"===t?-1!==(r=ve.call(this._shortWeekdaysParse,s))?r:-1!==(r=ve.call(this._weekdaysParse,s))?r:-1!==(r=ve.call(this._minWeekdaysParse,s))?r:null:-1!==(r=ve.call(this._minWeekdaysParse,s))?r:-1!==(r=ve.call(this._weekdaysParse,s))?r:-1!==(r=ve.call(this._shortWeekdaysParse,s))?r:null}.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=_([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}},bi.weekdaysRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Ge),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},bi.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},bi.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ke),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},bi.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},bi.meridiem=function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},ut("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===W(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),p.lang=i("moment.lang is deprecated. Use moment.locale instead.",ut),p.langData=i("moment.langData is deprecated. Use moment.localeData instead.",dt);var Ti=Math.abs;function Ci(e,t,i,n){var r=Wt(t,i);return e._milliseconds+=n*r._milliseconds,e._days+=n*r._days,e._months+=n*r._months,e._bubble()}function Ei(e){return e<0?Math.floor(e):Math.ceil(e)}function xi(e){return 4800*e/146097}function Pi(e){return 146097*e/4800}function Ii(e){return function(){return this.as(e)}}var Ai=Ii("ms"),Oi=Ii("s"),Mi=Ii("m"),Di=Ii("h"),Ni=Ii("d"),Li=Ii("w"),Ri=Ii("M"),$i=Ii("Q"),ji=Ii("y");function Hi(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ui=Hi("milliseconds"),zi=Hi("seconds"),qi=Hi("minutes"),Fi=Hi("hours"),Yi=Hi("days"),Wi=Hi("months"),Bi=Hi("years");var Vi=Math.round,Gi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};var Qi=Math.abs;function Ki(e){return(e>0)-(e<0)||+e}function Xi(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i,n,r,o,s,a,l=Qi(this._milliseconds)/1e3,u=Qi(this._days),c=Qi(this._months),d=this.asSeconds();return d?(t=Y((e=Y(l/60))/60),l%=60,e%=60,i=Y(c/12),c%=12,n=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=d<0?"-":"",o=Ki(this._months)!==Ki(d)?"-":"",s=Ki(this._days)!==Ki(d)?"-":"",a=Ki(this._milliseconds)!==Ki(d)?"-":"",r+"P"+(i?o+i+"Y":"")+(c?o+c+"M":"")+(u?s+u+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+n+"S":"")):"P0D"}var Ji=Nt.prototype;return Ji.isValid=function(){return this._isValid},Ji.abs=function(){var e=this._data;return this._milliseconds=Ti(this._milliseconds),this._days=Ti(this._days),this._months=Ti(this._months),e.milliseconds=Ti(e.milliseconds),e.seconds=Ti(e.seconds),e.minutes=Ti(e.minutes),e.hours=Ti(e.hours),e.months=Ti(e.months),e.years=Ti(e.years),this},Ji.add=function(e,t){return Ci(this,e,t,1)},Ji.subtract=function(e,t){return Ci(this,e,t,-1)},Ji.as=function(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=H(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,i=this._months+xi(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(Pi(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},Ji.asMilliseconds=Ai,Ji.asSeconds=Oi,Ji.asMinutes=Mi,Ji.asHours=Di,Ji.asDays=Ni,Ji.asWeeks=Li,Ji.asMonths=Ri,Ji.asQuarters=$i,Ji.asYears=ji,Ji.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*W(this._months/12):NaN},Ji._bubble=function(){var e,t,i,n,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*Ei(Pi(a)+s),a=s=0),l.milliseconds=o%1e3,e=Y(o/1e3),l.seconds=e%60,t=Y(e/60),l.minutes=t%60,i=Y(t/60),l.hours=i%24,a+=r=Y(xi(s+=Y(i/24))),s-=Ei(Pi(r)),n=Y(a/12),a%=12,l.days=s,l.months=a,l.years=n,this},Ji.clone=function(){return Wt(this)},Ji.get=function(e){return e=H(e),this.isValid()?this[e+"s"]():NaN},Ji.milliseconds=Ui,Ji.seconds=zi,Ji.minutes=qi,Ji.hours=Fi,Ji.days=Yi,Ji.weeks=function(){return Y(this.days()/7)},Ji.months=Wi,Ji.years=Bi,Ji.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var i,n,r,o,s,a,l,u,c,d,f,p,h,m,g,_=!1,v=Gi;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(_=e),"object"===typeof t&&(v=Object.assign({},Gi,t),null!=t.s&&null==t.ss&&(v.ss=t.s-1)),i=this.localeData(),o=!_,s=v,a=i,l=Wt(r=this).abs(),u=Vi(l.as("s")),c=Vi(l.as("m")),d=Vi(l.as("h")),f=Vi(l.as("d")),p=Vi(l.as("M")),h=Vi(l.as("w")),m=Vi(l.as("y")),g=u<=s.ss&&["s",u]||u<s.s&&["ss",u]||c<=1&&["m"]||c<s.m&&["mm",c]||d<=1&&["h"]||d<s.h&&["hh",d]||f<=1&&["d"]||f<s.d&&["dd",f],null!=s.w&&(g=g||h<=1&&["w"]||h<s.w&&["ww",h]),(g=g||p<=1&&["M"]||p<s.M&&["MM",p]||m<=1&&["y"]||["yy",m])[2]=o,g[3]=+r>0,g[4]=a,n=function(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}.apply(null,g),_&&(n=i.pastFuture(+this,n)),i.postformat(n)},Ji.toISOString=Xi,Ji.toString=Xi,Ji.toJSON=Xi,Ji.locale=ti,Ji.localeData=ni,Ji.toIsoString=i("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Xi),Ji.lang=ii,N("X",0,0,"unix"),N("x",0,0,"valueOf"),fe("x",le),fe("X",/[+-]?\d+(\.\d{1,3})?/),ge("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e))}),ge("x",function(e,t,i){i._d=new Date(W(e))}),p.version="2.25.3",e=It,p.fn=vi,p.min=function(){return Mt("isBefore",[].slice.call(arguments,0))},p.max=function(){return Mt("isAfter",[].slice.call(arguments,0))},p.now=function(){return Date.now?Date.now():+new Date},p.utc=_,p.unix=function(e){return It(1e3*e)},p.months=function(e,t){return Si(e,t,"months")},p.isDate=f,p.locale=ut,p.invalid=b,p.duration=Wt,p.isMoment=k,p.weekdays=function(e,t,i){return ki(e,t,i,"weekdays")},p.parseZone=function(){return It.apply(null,arguments).parseZone()},p.localeData=dt,p.isDuration=Lt,p.monthsShort=function(e,t){return Si(e,t,"monthsShort")},p.weekdaysMin=function(e,t,i){return ki(e,t,i,"weekdaysMin")},p.defineLocale=ct,p.updateLocale=function(e,t){if(null!=t){var i,n,r=nt;null!=rt[e]&&null!=rt[e].parentLocale?rt[e].set(x(rt[e]._config,t)):(null!=(n=lt(e))&&(r=n._config),t=x(r,t),null==n&&(t.abbr=e),(i=new P(t)).parentLocale=rt[e],rt[e]=i),ut(e)}else null!=rt[e]&&(null!=rt[e].parentLocale?(rt[e]=rt[e].parentLocale,e===ut()&&ut(e)):null!=rt[e]&&delete rt[e]);return rt[e]},p.locales=function(){return n(rt)},p.weekdaysShort=function(e,t,i){return ki(e,t,i,"weekdaysShort")},p.normalizeUnits=H,p.relativeTimeRounding=function(e){return void 0===e?Vi:"function"===typeof e&&(Vi=e,!0)},p.relativeTimeThreshold=function(e,t){return void 0!==Gi[e]&&(void 0===t?Gi[e]:(Gi[e]=t,"s"===e&&(Gi.ss=t-1),!0))},p.calendarFormat=function(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},p.prototype=vi,p.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},p}),function(e,t){"object"===typeof exports&&"undefined"!==typeof module&&"function"===typeof require?t(require("moment")):"function"===typeof define&&define.amd?define("moment.pt",["moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("pt",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"1 minuto",mm:"%d minutos",h:"1 hora",hh:"%d horas",d:"1 dia",dd:"%d dias",M:"1 mês",MM:"%d meses",y:"1 ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}),function(e){"use strict";"function"===typeof define&&define.amd?define("slick-carousel",["jquery"],e):"undefined"!==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(u){"use strict";var r,o=window.Slick||{};r=0,(o=function(e,t){var i,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:u(e),appendDots:u(e),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return u('<button type="button" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},u.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=u(e),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,i=u(e).data("slick")||{},n.options=u.extend({},n.defaults,t,i),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,"undefined"!==typeof document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=u.proxy(n.autoPlay,n),n.autoPlayClear=u.proxy(n.autoPlayClear,n),n.autoPlayIterator=u.proxy(n.autoPlayIterator,n),n.changeSlide=u.proxy(n.changeSlide,n),n.clickHandler=u.proxy(n.clickHandler,n),n.selectHandler=u.proxy(n.selectHandler,n),n.setPosition=u.proxy(n.setPosition,n),n.swipeHandler=u.proxy(n.swipeHandler,n),n.dragHandler=u.proxy(n.dragHandler,n),n.keyHandler=u.proxy(n.keyHandler,n),n.instanceUid=r++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},o.prototype.addSlide=o.prototype.slickAdd=function(e,t,i){var n=this;if("boolean"===typeof t)i=t,t=null;else if(t<0||t>=n.slideCount)return!1;n.unload(),"number"===typeof t?0===t&&0===n.$slides.length?u(e).appendTo(n.$slideTrack):i?u(e).insertBefore(n.$slides.eq(t)):u(e).insertAfter(n.$slides.eq(t)):!0===i?u(e).prependTo(n.$slideTrack):u(e).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(e,t){u(t).attr("data-slick-index",e)}),n.$slidesCache=n.$slides,n.reinit()},o.prototype.animateHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var e=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.animate({height:e},this.options.speed)}},o.prototype.animateSlide=function(e,t){var i={},n=this;n.animateHeight(),!0===n.options.rtl&&!1===n.options.vertical&&(e=-e),!1===n.transformsEnabled?!1===n.options.vertical?n.$slideTrack.animate({left:e},n.options.speed,n.options.easing,t):n.$slideTrack.animate({top:e},n.options.speed,n.options.easing,t):!1===n.cssTransitions?(!0===n.options.rtl&&(n.currentLeft=-n.currentLeft),u({animStart:n.currentLeft}).animate({animStart:e},{duration:n.options.speed,easing:n.options.easing,step:function(e){e=Math.ceil(e),!1===n.options.vertical?i[n.animType]="translate("+e+"px, 0px)":i[n.animType]="translate(0px,"+e+"px)",n.$slideTrack.css(i)},complete:function(){t&&t.call()}})):(n.applyTransition(),e=Math.ceil(e),!1===n.options.vertical?i[n.animType]="translate3d("+e+"px, 0px, 0px)":i[n.animType]="translate3d(0px,"+e+"px, 0px)",n.$slideTrack.css(i),t&&setTimeout(function(){n.disableTransition(),t.call()},n.options.speed))},o.prototype.getNavTarget=function(){var e=this.options.asNavFor;return e&&null!==e&&(e=u(e).not(this.$slider)),e},o.prototype.asNavFor=function(t){var e=this.getNavTarget();null!==e&&"object"===typeof e&&e.each(function(){var e=u(this).slick("getSlick");e.unslicked||e.slideHandler(t,!0)})},o.prototype.applyTransition=function(e){var t=this,i={};!1===t.options.fade?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},o.prototype.autoPlay=function(){this.autoPlayClear(),this.slideCount>this.options.slidesToShow&&(this.autoPlayTimer=setInterval(this.autoPlayIterator,this.options.autoplaySpeed))},o.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},o.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(!1===e.options.infinite&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1===0&&(e.direction=1))),e.slideHandler(t))},o.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=u(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=u(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},o.prototype.buildDots=function(){var e,t,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(i.$slider.addClass("slick-dotted"),t=u("<ul />").addClass(i.options.dotsClass),e=0;e<=i.getDotCount();e+=1)t.append(u("<li />").append(i.options.customPaging.call(this,i,e)));i.$dots=t.appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active")}},o.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){u(t).attr("data-slick-index",e).data("originalStyling",u(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?u('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),u("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"===typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},o.prototype.buildRows=function(){var e,t,i,n,r,o,s,a=this;if(n=document.createDocumentFragment(),o=a.$slider.children(),a.options.rows>0){for(s=a.options.slidesPerRow*a.options.rows,r=Math.ceil(o.length/s),e=0;e<r;e++){var l=document.createElement("div");for(t=0;t<a.options.rows;t++){var u=document.createElement("div");for(i=0;i<a.options.slidesPerRow;i++){var c=e*s+(t*a.options.slidesPerRow+i);o.get(c)&&u.appendChild(o.get(c))}l.appendChild(u)}n.appendChild(l)}a.$slider.empty().append(n),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},o.prototype.checkResponsive=function(e,t){var i,n,r,o=this,s=!1,a=o.$slider.width(),l=window.innerWidth||u(window).width();if("window"===o.respondTo?r=l:"slider"===o.respondTo?r=a:"min"===o.respondTo&&(r=Math.min(l,a)),o.options.responsive&&o.options.responsive.length&&null!==o.options.responsive){for(i in n=null,o.breakpoints)o.breakpoints.hasOwnProperty(i)&&(!1===o.originalSettings.mobileFirst?r<o.breakpoints[i]&&(n=o.breakpoints[i]):r>o.breakpoints[i]&&(n=o.breakpoints[i]));null!==n?null!==o.activeBreakpoint?(n!==o.activeBreakpoint||t)&&(o.activeBreakpoint=n,"unslick"===o.breakpointSettings[n]?o.unslick(n):(o.options=u.extend({},o.originalSettings,o.breakpointSettings[n]),!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e)),s=n):(o.activeBreakpoint=n,"unslick"===o.breakpointSettings[n]?o.unslick(n):(o.options=u.extend({},o.originalSettings,o.breakpointSettings[n]),!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e)),s=n):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e),s=n),e||!1===s||o.$slider.trigger("breakpoint",[o,s])}},o.prototype.changeSlide=function(e,t){var i,n,r=this,o=u(e.currentTarget);switch(o.is("a")&&e.preventDefault(),o.is("li")||(o=o.closest("li")),i=r.slideCount%r.options.slidesToScroll!==0?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":n=0===i?r.options.slidesToScroll:r.options.slidesToShow-i,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-n,!1,t);break;case"next":n=0===i?r.options.slidesToScroll:i,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+n,!1,t);break;case"index":var s=0===e.data.index?0:e.data.index||o.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(s),!1,t),o.children().trigger("focus");break;default:return}},o.prototype.checkNavigable=function(e){var t,i;if(i=0,e>(t=this.getNavigableIndexes())[t.length-1])e=t[t.length-1];else for(var n in t){if(e<t[n]){e=i;break}i=t[n]}return e},o.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(u("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",u.proxy(e.interrupt,e,!0)).off("mouseleave.slick",u.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),u(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&u(e.$slideTrack).children().off("click.slick",e.selectHandler),u(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),u(window).off("resize.slick.slick-"+e.instanceUid,e.resize),u("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),u(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},o.prototype.cleanUpSlideEvents=function(){this.$list.off("mouseenter.slick",u.proxy(this.interrupt,this,!0)),this.$list.off("mouseleave.slick",u.proxy(this.interrupt,this,!1))},o.prototype.cleanUpRows=function(){var e;this.options.rows>0&&((e=this.$slides.children().children()).removeAttr("style"),this.$slider.empty().append(e))},o.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},o.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),u(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){u(this).attr("style",u(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},o.prototype.disableTransition=function(e){var t={};t[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(t):this.$slides.eq(e).css(t)},o.prototype.fadeSlide=function(e,t){var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:i.options.zIndex}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},o.prototype.fadeSlideOut=function(e){!1===this.cssTransitions?this.$slides.eq(e).animate({opacity:0,zIndex:this.options.zIndex-2},this.options.speed,this.options.easing):(this.applyTransition(e),this.$slides.eq(e).css({opacity:0,zIndex:this.options.zIndex-2}))},o.prototype.filterSlides=o.prototype.slickFilter=function(e){null!==e&&(this.$slidesCache=this.$slides,this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.filter(e).appendTo(this.$slideTrack),this.reinit())},o.prototype.focusHandler=function(){var i=this;i.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(e){e.stopImmediatePropagation();var t=u(this);setTimeout(function(){i.options.pauseOnFocus&&(i.focussed=t.is(":focus"),i.autoPlay())},0)})},o.prototype.getCurrent=o.prototype.slickCurrentSlide=function(){return this.currentSlide},o.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(!0===e.options.infinite)if(e.slideCount<=e.options.slidesToShow)++n;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)n=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else n=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return n-1},o.prototype.getLeft=function(e){var t,i,n,r,o=this,s=0;return o.slideOffset=0,i=o.$slides.first().outerHeight(!0),!0===o.options.infinite?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,r=-1,!0===o.options.vertical&&!0===o.options.centerMode&&(2===o.options.slidesToShow?r=-1.5:1===o.options.slidesToShow&&(r=-2)),s=i*o.options.slidesToShow*r),o.slideCount%o.options.slidesToScroll!==0&&e+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(s=e>o.slideCount?(o.slideOffset=(o.options.slidesToShow-(e-o.slideCount))*o.slideWidth*-1,(o.options.slidesToShow-(e-o.slideCount))*i*-1):(o.slideOffset=o.slideCount%o.options.slidesToScroll*o.slideWidth*-1,o.slideCount%o.options.slidesToScroll*i*-1))):e+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(e+o.options.slidesToShow-o.slideCount)*o.slideWidth,s=(e+o.options.slidesToShow-o.slideCount)*i),o.slideCount<=o.options.slidesToShow&&(s=o.slideOffset=0),!0===o.options.centerMode&&o.slideCount<=o.options.slidesToShow?o.slideOffset=o.slideWidth*Math.floor(o.options.slidesToShow)/2-o.slideWidth*o.slideCount/2:!0===o.options.centerMode&&!0===o.options.infinite?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:!0===o.options.centerMode&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),t=!1===o.options.vertical?e*o.slideWidth*-1+o.slideOffset:e*i*-1+s,!0===o.options.variableWidth&&(n=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(e):o.$slideTrack.children(".slick-slide").eq(e+o.options.slidesToShow),t=!0===o.options.rtl?n[0]?-1*(o.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,!0===o.options.centerMode&&(n=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(e):o.$slideTrack.children(".slick-slide").eq(e+o.options.slidesToShow+1),t=!0===o.options.rtl?n[0]?-1*(o.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,t+=(o.$list.width()-n.outerWidth())/2)),t},o.prototype.getOption=o.prototype.slickGetOption=function(e){return this.options[e]},o.prototype.getNavigableIndexes=function(){var e,t=this,i=0,n=0,r=[];for(e=!1===t.options.infinite?t.slideCount:(i=-1*t.options.slidesToScroll,n=-1*t.options.slidesToScroll,2*t.slideCount);i<e;)r.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return r},o.prototype.getSlick=function(){return this},o.prototype.getSlideCount=function(){var i,n,r=this;return n=!0===r.options.centerMode?r.slideWidth*Math.floor(r.options.slidesToShow/2):0,!0===r.options.swipeToSlide?(r.$slideTrack.find(".slick-slide").each(function(e,t){if(t.offsetLeft-n+u(t).outerWidth()/2>-1*r.swipeLeft)return i=t,!1}),Math.abs(u(i).attr("data-slick-index")-r.currentSlide)||1):r.options.slidesToScroll},o.prototype.goTo=o.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},o.prototype.init=function(e){var t=this;u(t.$slider).hasClass("slick-initialized")||(u(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},o.prototype.initADA=function(){var n=this,i=Math.ceil(n.slideCount/n.options.slidesToShow),r=n.getNavigableIndexes().filter(function(e){return e>=0&&e<n.slideCount});n.$slides.add(n.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==n.$dots&&(n.$slides.not(n.$slideTrack.find(".slick-cloned")).each(function(e){var t=r.indexOf(e);if(u(this).attr({role:"tabpanel",id:"slick-slide"+n.instanceUid+e,tabindex:-1}),-1!==t){var i="slick-slide-control"+n.instanceUid+t;u("#"+i).length&&u(this).attr({"aria-describedby":i})}}),n.$dots.attr("role","tablist").find("li").each(function(e){var t=r[e];u(this).attr({role:"presentation"}),u(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+n.instanceUid+e,"aria-controls":"slick-slide"+n.instanceUid+t,"aria-label":e+1+" of "+i,"aria-selected":null,tabindex:"-1"})}).eq(n.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var e=n.currentSlide,t=e+n.options.slidesToShow;e<t;e++)n.options.focusOnChange?n.$slides.eq(e).attr({tabindex:"0"}):n.$slides.eq(e).removeAttr("tabindex");n.activateADA()},o.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow.on("keydown.slick",e.keyHandler),e.$nextArrow.on("keydown.slick",e.keyHandler)))},o.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&(u("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&e.slideCount>e.options.slidesToShow&&u("li",e.$dots).on("mouseenter.slick",u.proxy(e.interrupt,e,!0)).on("mouseleave.slick",u.proxy(e.interrupt,e,!1))},o.prototype.initSlideEvents=function(){this.options.pauseOnHover&&(this.$list.on("mouseenter.slick",u.proxy(this.interrupt,this,!0)),this.$list.on("mouseleave.slick",u.proxy(this.interrupt,this,!1)))},o.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),u(document).on(e.visibilityChange,u.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&u(e.$slideTrack).children().on("click.slick",e.selectHandler),u(window).on("orientationchange.slick.slick-"+e.instanceUid,u.proxy(e.orientationChange,e)),u(window).on("resize.slick.slick-"+e.instanceUid,u.proxy(e.resize,e)),u("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),u(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),u(e.setPosition)},o.prototype.initUI=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.show(),this.$nextArrow.show()),!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&this.$dots.show()},o.prototype.keyHandler=function(e){e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:!0===this.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:!0===this.options.rtl?"previous":"next"}}))},o.prototype.lazyLoad=function(){var e,t,i,o=this;function n(e){u("img[data-lazy]",e).each(function(){var e=u(this),t=u(this).attr("data-lazy"),i=u(this).attr("data-srcset"),n=u(this).attr("data-sizes")||o.$slider.attr("data-sizes"),r=document.createElement("img");r.onload=function(){e.animate({opacity:0},100,function(){i&&(e.attr("srcset",i),n&&e.attr("sizes",n)),e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),o.$slider.trigger("lazyLoaded",[o,e,t])})},r.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,e,t])},r.src=t})}if(!0===o.options.centerMode?i=!0===o.options.infinite?(t=o.currentSlide+(o.options.slidesToShow/2+1))+o.options.slidesToShow+2:(t=Math.max(0,o.currentSlide-(o.options.slidesToShow/2+1)),o.options.slidesToShow/2+1+2+o.currentSlide):(t=o.options.infinite?o.options.slidesToShow+o.currentSlide:o.currentSlide,i=Math.ceil(t+o.options.slidesToShow),!0===o.options.fade&&(t>0&&t--,i<=o.slideCount&&i++)),e=o.$slider.find(".slick-slide").slice(t,i),"anticipated"===o.options.lazyLoad)for(var r=t-1,s=i,a=o.$slider.find(".slick-slide"),l=0;l<o.options.slidesToScroll;l++)r<0&&(r=o.slideCount-1),e=(e=e.add(a.eq(r))).add(a.eq(s)),r--,s++;n(e),o.slideCount<=o.options.slidesToShow?n(o.$slider.find(".slick-slide")):o.currentSlide>=o.slideCount-o.options.slidesToShow?n(o.$slider.find(".slick-cloned").slice(0,o.options.slidesToShow)):0===o.currentSlide&&n(o.$slider.find(".slick-cloned").slice(-1*o.options.slidesToShow))},o.prototype.loadSlider=function(){this.setPosition(),this.$slideTrack.css({opacity:1}),this.$slider.removeClass("slick-loading"),this.initUI(),"progressive"===this.options.lazyLoad&&this.progressiveLazyLoad()},o.prototype.next=o.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},o.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},o.prototype.pause=o.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},o.prototype.play=o.prototype.slickPlay=function(){this.autoPlay(),this.options.autoplay=!0,this.paused=!1,this.focussed=!1,this.interrupted=!1},o.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&(t.initADA(),t.options.focusOnChange&&u(t.$slides.get(t.currentSlide)).attr("tabindex",0).focus()))},o.prototype.prev=o.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},o.prototype.preventDefault=function(e){e.preventDefault()},o.prototype.progressiveLazyLoad=function(e){e=e||1;var t,i,n,r,o,s=this,a=u("img[data-lazy]",s.$slider);a.length?(t=a.first(),i=t.attr("data-lazy"),n=t.attr("data-srcset"),r=t.attr("data-sizes")||s.$slider.attr("data-sizes"),(o=document.createElement("img")).onload=function(){n&&(t.attr("srcset",n),r&&t.attr("sizes",r)),t.attr("src",i).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===s.options.adaptiveHeight&&s.setPosition(),s.$slider.trigger("lazyLoaded",[s,t,i]),s.progressiveLazyLoad()},o.onerror=function(){e<3?setTimeout(function(){s.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,t,i]),s.progressiveLazyLoad())},o.src=i):s.$slider.trigger("allImagesLoaded",[s])},o.prototype.refresh=function(e){var t,i,n=this;i=n.slideCount-n.options.slidesToShow,!n.options.infinite&&n.currentSlide>i&&(n.currentSlide=i),n.slideCount<=n.options.slidesToShow&&(n.currentSlide=0),t=n.currentSlide,n.destroy(!0),u.extend(n,n.initials,{currentSlide:t}),n.init(),e||n.changeSlide({data:{message:"index",index:t}},!1)},o.prototype.registerBreakpoints=function(){var e,t,i,n=this,r=n.options.responsive||null;if("array"===u.type(r)&&r.length){for(e in n.respondTo=n.options.respondTo||"window",r)if(i=n.breakpoints.length-1,r.hasOwnProperty(e)){for(t=r[e].breakpoint;i>=0;)n.breakpoints[i]&&n.breakpoints[i]===t&&n.breakpoints.splice(i,1),i--;n.breakpoints.push(t),n.breakpointSettings[t]=r[e].settings}n.breakpoints.sort(function(e,t){return n.options.mobileFirst?e-t:t-e})}},o.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&u(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"===typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},o.prototype.resize=function(){var e=this;u(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=u(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},o.prototype.removeSlide=o.prototype.slickRemove=function(e,t,i){var n=this;if(e="boolean"===typeof e?!0===(t=e)?0:n.slideCount-1:!0===t?--e:e,n.slideCount<1||e<0||e>n.slideCount-1)return!1;n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},o.prototype.setCSS=function(e){var t,i,n=this,r={};!0===n.options.rtl&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",r[n.positionProp]=e,!1===n.transformsEnabled||(!(r={})===n.cssTransitions?r[n.animType]="translate("+t+", "+i+")":r[n.animType]="translate3d("+t+", "+i+", 0px)"),n.$slideTrack.css(r)},o.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},o.prototype.setFade=function(){var i,n=this;n.$slides.each(function(e,t){i=n.slideWidth*e*-1,!0===n.options.rtl?u(t).css({position:"relative",right:i,top:0,zIndex:n.options.zIndex-2,opacity:0}):u(t).css({position:"relative",left:i,top:0,zIndex:n.options.zIndex-2,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},o.prototype.setHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var e=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.css("height",e)}},o.prototype.setOption=o.prototype.slickSetOption=function(){var e,t,i,n,r,o=this,s=!1;if("object"===u.type(arguments[0])?(i=arguments[0],s=arguments[1],r="multiple"):"string"===u.type(arguments[0])&&(i=arguments[0],n=arguments[1],s=arguments[2],"responsive"===arguments[0]&&"array"===u.type(arguments[1])?r="responsive":"undefined"!==typeof arguments[1]&&(r="single")),"single"===r)o.options[i]=n;else if("multiple"===r)u.each(i,function(e,t){o.options[e]=t});else if("responsive"===r)for(t in n)if("array"!==u.type(o.options.responsive))o.options.responsive=[n[t]];else{for(e=o.options.responsive.length-1;e>=0;)o.options.responsive[e].breakpoint===n[t].breakpoint&&o.options.responsive.splice(e,1),e--;o.options.responsive.push(n[t])}s&&(o.unload(),o.reinit())},o.prototype.setPosition=function(){this.setDimensions(),this.setHeight(),!1===this.options.fade?this.setCSS(this.getLeft(this.currentSlide)):this.setFade(),this.$slider.trigger("setPosition",[this])},o.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"===typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},o.prototype.setSlideClasses=function(e){var t,i,n,r,o=this;if(i=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(e).addClass("slick-current"),!0===o.options.centerMode){var s=o.options.slidesToShow%2===0?1:0;t=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(e>=t&&e<=o.slideCount-1-t?o.$slides.slice(e-t+s,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=o.options.slidesToShow+e,i.slice(n-t+1+s,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-o.options.slidesToShow).addClass("slick-center"):e===o.slideCount-1&&i.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(e).addClass("slick-center")}else e>=0&&e<=o.slideCount-o.options.slidesToShow?o.$slides.slice(e,e+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=o.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(r=o.slideCount%o.options.slidesToShow,n=!0===o.options.infinite?o.options.slidesToShow+e:e,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-e<o.options.slidesToShow?i.slice(n-(o.options.slidesToShow-r),n+r).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==o.options.lazyLoad&&"anticipated"!==o.options.lazyLoad||o.lazyLoad()},o.prototype.setupInfinite=function(){var e,t,i,n=this;if(!0===n.options.fade&&(n.options.centerMode=!1),!0===n.options.infinite&&!1===n.options.fade&&(t=null,n.slideCount>n.options.slidesToShow)){for(i=!0===n.options.centerMode?n.options.slidesToShow+1:n.options.slidesToShow,e=n.slideCount;e>n.slideCount-i;e-=1)t=e-1,u(n.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(e=0;e<i+n.slideCount;e+=1)t=e,u(n.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){u(this).attr("id","")})}},o.prototype.interrupt=function(e){e||this.autoPlay(),this.interrupted=e},o.prototype.selectHandler=function(e){var t=u(e.target).is(".slick-slide")?u(e.target):u(e.target).parents(".slick-slide"),i=parseInt(t.attr("data-slick-index"));i||(i=0),this.slideCount<=this.options.slidesToShow?this.slideHandler(i,!1,!0):this.slideHandler(i)},o.prototype.slideHandler=function(e,t,i){var n,r,o,s,a,l,u=this;if(t=t||!1,(!0!==u.animating||!0!==u.options.waitForAnimate)&&(!0!==u.options.fade||u.currentSlide!==e))if(!1===t&&u.asNavFor(e),n=e,a=u.getLeft(n),s=u.getLeft(u.currentSlide),u.currentLeft=null===u.swipeLeft?s:u.swipeLeft,!1===u.options.infinite&&!1===u.options.centerMode&&(e<0||e>u.getDotCount()*u.options.slidesToScroll))!1===u.options.fade&&(n=u.currentSlide,!0!==i&&u.slideCount>u.options.slidesToShow?u.animateSlide(s,function(){u.postSlide(n)}):u.postSlide(n));else if(!1===u.options.infinite&&!0===u.options.centerMode&&(e<0||e>u.slideCount-u.options.slidesToScroll))!1===u.options.fade&&(n=u.currentSlide,!0!==i&&u.slideCount>u.options.slidesToShow?u.animateSlide(s,function(){u.postSlide(n)}):u.postSlide(n));else{if(u.options.autoplay&&clearInterval(u.autoPlayTimer),r=n<0?u.slideCount%u.options.slidesToScroll!==0?u.slideCount-u.slideCount%u.options.slidesToScroll:u.slideCount+n:n>=u.slideCount?u.slideCount%u.options.slidesToScroll!==0?0:n-u.slideCount:n,u.animating=!0,u.$slider.trigger("beforeChange",[u,u.currentSlide,r]),o=u.currentSlide,u.currentSlide=r,u.setSlideClasses(u.currentSlide),u.options.asNavFor&&(l=(l=u.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(u.currentSlide),u.updateDots(),u.updateArrows(),!0===u.options.fade)return!0!==i?(u.fadeSlideOut(o),u.fadeSlide(r,function(){u.postSlide(r)})):u.postSlide(r),void u.animateHeight();!0!==i&&u.slideCount>u.options.slidesToShow?u.animateSlide(a,function(){u.postSlide(r)}):u.postSlide(r)}},o.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},o.prototype.swipeDirection=function(){var e,t,i,n;return e=this.touchObject.startX-this.touchObject.curX,t=this.touchObject.startY-this.touchObject.curY,i=Math.atan2(t,e),(n=Math.round(180*i/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&n>=0?!1===this.options.rtl?"left":"right":n<=360&&n>=315?!1===this.options.rtl?"left":"right":n>=135&&n<=225?!1===this.options.rtl?"right":"left":!0===this.options.verticalSwiping?n>=35&&n<=135?"down":"up":"vertical"},o.prototype.swipeEnd=function(e){var t,i,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1;if(n.interrupted=!1,n.shouldClick=!(n.touchObject.swipeLength>10),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=i&&(n.slideHandler(t),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},o.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe)&&(!1!==t.options.draggable||-1===e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},o.prototype.swipeMove=function(e){var t,i,n,r,o,s,a=this;return o=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!a.dragging||a.scrolling||o&&1!==o.length)&&(t=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==o?o[0].pageX:e.clientX,a.touchObject.curY=void 0!==o?o[0].pageY:e.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),s=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2))),!a.options.verticalSwiping&&!a.swiping&&s>4?!(a.scrolling=!0):(!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=s),i=a.swipeDirection(),void 0!==e.originalEvent&&a.touchObject.swipeLength>4&&(a.swiping=!0,e.preventDefault()),r=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(r=a.touchObject.curY>a.touchObject.startY?1:-1),n=a.touchObject.swipeLength,(a.touchObject.edgeHit=!1)===a.options.infinite&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(n=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),!1===a.options.vertical?a.swipeLeft=t+n*r:a.swipeLeft=t+n*(a.$list.height()/a.listWidth)*r,!0===a.options.verticalSwiping&&(a.swipeLeft=t+n*r),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))))},o.prototype.swipeStart=function(e){var t,i=this;if(i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return!(i.touchObject={});void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,i.dragging=!0},o.prototype.unfilterSlides=o.prototype.slickUnfilter=function(){null!==this.$slidesCache&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.appendTo(this.$slideTrack),this.reinit())},o.prototype.unload=function(){var e=this;u(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},o.prototype.unslick=function(e){this.$slider.trigger("unslick",[this,e]),this.destroy()},o.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},o.prototype.updateDots=function(){null!==this.$dots&&(this.$dots.find("li").removeClass("slick-active").end(),this.$dots.find("li").eq(Math.floor(this.currentSlide/this.options.slidesToScroll)).addClass("slick-active"))},o.prototype.visibility=function(){this.options.autoplay&&(document[this.hidden]?this.interrupted=!0:this.interrupted=!1)},u.fn.slick=function(){var e,t,i=arguments[0],n=Array.prototype.slice.call(arguments,1),r=this.length;for(e=0;e<r;e++)if("object"==typeof i||"undefined"==typeof i?this[e].slick=new o(this[e],i):t=this[e].slick[i].apply(this[e].slick,n),"undefined"!=typeof t)return t;return this}}),define("parts/common/config",["require","sys/store"],function(e){var t="imp-expresso";return e("sys/store").init({namespace:t}),{DOMAIN_CODE:"expresso",KEYS:{USER:"user",ENTITLEMENT:"entitlement",SEGMENT_DATA:"segmentData",LOGIN_PREFIX:t},COOKIES:{SESSION:"sessionId"},TOPICS:{SSO:{LOGIN:"user.login.request",REGISTER:"user.register.request",LOGOUT:"user.logout.request"}},REFRESH_TIME:18e4}}),define("parts/search",["require","widgets/base","jquery","lodash"],function(e){var i=e("widgets/base"),n=e("jquery"),r=e("lodash"),o="imp-expresso-search",t='input[type="search"]',s='[type="submit"]';function a(e,t){i.call(this,o,e),t=t||{},this._className=t.className||"searchEnabled",this._$body=n(t.body||document.body),this._closeSelector=t.closeSelector,this._onSearchFocus=r.bind(this._onSearchFocus,this),this._onSearchBlur=r.bind(this._onSearchBlur,this),this._onSubmitClick=r.bind(this._onSubmitClick,this),this._onCloseClick=r.bind(this._onCloseClick,this),this._onKeyUp=r.bind(this._onKeyUp,this),this._checkSubmit=r.bind(this._checkSubmit,this)}return a.prototype=Object.create(i.prototype),a.init=function(e,t){return i.init(e,o,a,t)},a.start=function(e,t){return i.start(e,o,a,t)},a.prototype.start=function(){this._$element.on("focus",t,this._onSearchFocus),this._$element.on("blur",t,this._onSearchBlur),this._$element.on("click",s,this._onSubmitClick),this._$element.on("submit",this._checkSubmit),n("body").on("keyup",this._onKeyUp),this._closeSelector&&this._$element.on("click",this._closeSelector,this._onCloseClick),this._$element.css("display","")},a.prototype.stop=function(){this._$element.css("display","none"),this._$element.off("focus",t,this._onSearchFocus),this._$element.off("blur",t,this._onSearchBlur),this._$element.off("click",s,this._onSubmitClick),this._$element.off("submit",this._checkSubmit),this._closeSelector&&this._$element.off("click",this._closeSelector,this._onCloseClick)},a.prototype._onSearchFocus=function(){clearTimeout(this._closeTimer),this.open()},a.prototype._onSearchBlur=function(){clearTimeout(this._closeTimer),this._closeTimer=setTimeout(function(e){e.close(),e._$body.removeClass(e._className)},500,this)},a.prototype._onSubmitClick=function(e){this.isOpen()||(e.preventDefault(),this.open(),this._$element.find(t).focus())},a.prototype._onKeyUp=function(e){27===e.keyCode&&this._$body.hasClass(this._className)&&(this.close(),this._$element.find(t).blur())},a.prototype._onCloseClick=function(e){e.preventDefault(),this.close()},a.prototype._checkSubmit=function(e){void 0!==this._timer&&e.preventDefault()},a.prototype.close=function(){this._$body.removeClass(this._className),clearTimeout(this._timer),this._timer=setTimeout(function(e){e._timer=void 0},500,this)},a.prototype.open=function(){clearTimeout(this._timer),this._timer=void 0,this._$body.addClass(this._className)},a.prototype.isOpen=function(){return this._$body.hasClass(this._className)},a}),define("parts/subheader",["require","sys/polyfills","widgets/base","jquery","lodash"],function(e){e("sys/polyfills");var i=e("widgets/base"),n=e("jquery"),r=e("lodash"),o="imp-expresso-subheader";function s(e,t){i.call(this,o,e),t=t||{},this._closeOnSecondClick=void 0===t.closeOnSecondClick||t.closeOnSecondClick,this._activeClassName=t.activeClassName,this._bodyClassName=t.bodyClassName,this._target=t.target,this._ignore=t.ignore,this._onClick=r.bind(this._onClick,this),this._onOutsideClick=r.bind(this._onOutsideClick,this)}return s.prototype=Object.create(i.prototype),s.init=function(e,t){return i.init(e,o,s,t)},s.start=function(e,t){return i.start(e,o,s,t)},s.prototype.start=function(){this._$target=n(this._target||this._$element.attr("data-target")),this._baseUrl=this._$element.attr("data-base-url")||"",this._$element.on("click",".js-entry",this._onClick),n(document.body).on("click",this._onOutsideClick)},s.prototype.stop=function(){n(document.body).off("click",this._onOutsideClick),this._$element.off("click",".js-entry",this._onClick)},s.prototype._onOutsideClick=function(e){var t=n(e.target);!this._bodyClassName||t.closest(this._$target).length||t.closest(this._$element).length||!this._ignore||t.closest(this._ignore).length||this.close()},s.prototype._onClick=function(e){var t=n(e.currentTarget),i=t.attr("data-href")||t.find("[data-href]").attr("[data-href]");i&&""!==i&&(e.preventDefault(),t.hasClass(this._activeClassName)?this._closeOnSecondClick&&this.close():this.open(i,t))},s.prototype.close=function(){this._$element.find(".js-entry").removeClass(this._activeClassName),this._bodyClassName&&n(document.body).removeClass(this._bodyClassName)},s.prototype.open=function(e,t){var i=this;t=n(t||this._$element.find('[data-href="'+e+'"]').closest(".js-entry")),this._request&&this._request.abort(),this._bodyClassName&&n(document.body).addClass(this._bodyClassName),this._$element.find(".js-entry").removeClass(this._activeClassName),t.addClass(this._activeClassName),this._$target.empty().append('<div class="loading"></div>'),this._request=fetch(this._baseUrl+e).then(function(e){return e.text()}),this._request.then(function(e){i._request=void 0,i._$target.empty().append(e),i._$element.trigger("content-loaded")}).catch(function(){console.error('[%s] Error loading content for url "%s"',o,e),i._request=void 0,i._$element.trigger("content-load-error")})},s}),define("parts/latest",["require","sys/polyfills","widgets/infinite-scroll","widgets/base","moment","jquery","lodash"],function(e){e("sys/polyfills");var i=e("widgets/infinite-scroll"),n=e("widgets/base"),d=e("moment"),f=e("jquery"),p=e("lodash");d.locale("pt");var r="imp-latest-loader";function o(e,t){i.call(this,e,t),t=t||{},this._sectionCount=0,this._title=t.title}return o.prototype=Object.create(i.prototype),o.init=function(e,t){return n.init(e,r,o,t)},o.start=function(e,t){return n.start(e,r,o,t)},o.prototype._display=function(e){var c=this;e.css("display","none"),(e=e.filter("[data-date]")).each(function(e,t){var i,n,r,o,s,a,l;if(r=(i=f(t)).find(".sectionLabel"),o=i.attr("data-date"),n=c._$contentContainer.find('[data-date="'+o+'"]'),o=d(o),0===c._sectionCount?(s="Últimas",c._title&&(s+=" de "+c._title)):(l=o,s=1===d().diff(l,"days")?"Ontem":(a=o,d().diff(a,"days")<7?(s=(s=o.format("dddd")).replace(/-feira/,""),p.capitalize(s)):o.format("L"))),c._sectionCount++,r.text(s),n.length>0){var u=i.find(".listArticles li").detach();n.find(".listArticles").append(u)}else c._$contentContainer.append(i)}),e.fadeIn()},o}),define("parts/category-loader",["require","sys/polyfills","widgets/infinite-scroll","widgets/base"],function(e){e("sys/polyfills");var i=e("widgets/infinite-scroll"),n=e("widgets/base"),r="imp-latest-loader";function o(e,t){i.call(this,e,t)}return o.prototype=Object.create(i.prototype),o.init=function(e,t){return n.init(e,r,o,t)},o.start=function(e,t){return n.start(e,r,o,t)},o.prototype._display=function(e){var t=e.find("li").detach().css("display","none");this._$contentContainer.find("ul").append(t),t.fadeIn()},o}),define("parts/search-loader",["require","sys/polyfills","parts/category-loader","widgets/base"],function(e){e("sys/polyfills");var i=e("parts/category-loader"),n=e("widgets/base"),r="imp-latest-loader";function o(e,t){i.call(this,e,t),this._request=this._request||{},this._request.page=1}return o.prototype=Object.create(i.prototype),o.init=function(e,t){return n.init(e,r,o,t)},o.start=function(e,t){return n.start(e,r,o,t)},o.prototype.start=function(){i.prototype.start.call(this),this._request.page=1},o.prototype._display=function(e){var t=e.find("li").detach().css("display","none");this._$contentContainer.find("ul").append(t),t.fadeIn(),this._request.page++},o.prototype._getOffset=function(){return 0},o}),define("parts/user",["require","jquery","sys/bus","sys/utils","sys/store","promises","parts/config","ImpresaSSO"],function(e){var n=e("jquery"),t=e("sys/bus"),r=e("sys/utils"),i=e("sys/store"),o=e("promises"),s=e("parts/config");e("ImpresaSSO");var a="ssoLoggedIn",l="ssoLoggedOut",u="userIsSubscriber";function c(r){return new o(function(e){var t,i,n=d();r&&r.token&&(h(r),i=r,(t=n)&&t.token===i.token||f(r)),e()})}function d(){return i.session.read(s.KEYS.USER)}function f(e){n(document.body).removeClass(l).addClass(a),t.publish({topic:t.TOPICS.USER.LOGIN,data:e}),function(e){var t=!1,i=e.user&&e.user.entitlements&&e.user.entitlements[s.DOMAIN_CODE];i&&(i.diario||i.semanario)&&(t=!0);n(document.body).removeClass(u),t&&n(document.body).addClass(u)}(e)}function p(){h(),n(document.body).removeClass(a).addClass(l),t.publish({topic:t.TOPICS.USER.LOGOUT}),n(document.body).removeClass(u)}function h(e){return e?(i.cookie.save(s.COOKIES.SESSION,e.token,1/0,"/"),i.session.save(s.KEYS.USER,e)):(i.cookie.remove(s.COOKIES.SESSION,"/"),i.session.clear())}return{init:function(){var e=function(){var e=document.location.search;e&&"?"===e.charAt(0)&&(e=e.substring(1));var t=r.url.parseQueryString(e),i=t.sessionId;if(i&&window.history&&window.history.replaceState){var n=document.location.protocol+"//"+document.location.hostname;80!==document.location.port&&(n+=":"+document.location.port),document.location.pathname&&(n+=document.location.pathname),delete t.sessionId,window.history.replaceState({},document.title,r.url.addQueryParameters(n,t))}return i}();return e?(i.session.clear(),{token:e}):d()},finishStartup:function(e){return n(document.body).addClass("ssoRunning"),c(e)},getCurrentUser:d,setCurrentUser:c,updateCurrentUser:function(e){h(e)},update:function(){var e=d();e&&e.token?(h(e),f(e)):p()},setNoUser:p}}),define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("ifollow/implementations/providers/fprofile/getFollowingProperties",["require","jquery","lodash"],function(e){"use strict";var l=e("jquery"),u=e("lodash"),c="${config.url}/rest/v3/user/${user.uuid}/${config.action}/${config.domain}/${entity.type}/${entity.code}?sessionId=${user.token}";return{execute:function(e,t,i){var n,r,o,s,a=(n=e,r=t,o=i,s=u.template(c),o.action="subscription",s({user:n,entity:r,config:o}));l.ajax({type:"GET",url:a,cache:!1}).done(i.success).fail(i.error)}}}),define("ifollow/implementations/providers/fprofile/setFollowingProperties",["require","jquery","lodash"],function(e){"use strict";var c=e("jquery"),d=e("lodash"),f="${config.url}/rest/v3/user/${user.uuid}/${config.action}/${config.domain}/${entity.type}/${entity.code}?sessionId=${user.token}";return{execute:function(e,t,i){var n,r,o,s,a=i.success,l=i.error,u=(n=e,r=t,o=i,s=d.template(f),o.action="subscription",s({user:n,entity:r,config:o}));c.ajax({type:"POST",url:u,cache:!1}).done(a).fail(l)}}}),define("ifollow/implementations/providers/fprofile/deleteFollowingProperties",["require","jquery","lodash"],function(e){"use strict";var c=e("jquery"),d=e("lodash"),f="${config.url}/rest/v3/user/${user.uuid}/${config.action}/${config.domain}/${entity.type}/${entity.code}?sessionId=${user.token}";return{execute:function(e,t,i){var n,r,o,s,a=i.success,l=i.error,u=(n=e,r=t,o=i,s=d.template(f),o.action="subscription",s({user:n,entity:r,config:o}));c.ajax({type:"DELETE",url:u,cache:!1}).done(a).fail(l)}}}),define("ifollow/implementations/handlers/onLogin",["require","jquery","lodash","ifollow/implementations/providers/fprofile/getFollowingProperties","ifollow/implementations/providers/fprofile/setFollowingProperties","ifollow/implementations/providers/fprofile/deleteFollowingProperties"],function(e){"use strict";var i=e("jquery"),n=e("lodash"),r=e("ifollow/implementations/providers/fprofile/getFollowingProperties"),o=e("ifollow/implementations/providers/fprofile/setFollowingProperties"),s=e("ifollow/implementations/providers/fprofile/deleteFollowingProperties"),a=null,l=null,u=null,c=null;function d(e){var t=l({user:c.user,entity:c.entity,config:c.config});e&&(t=a({user:c.user,entity:c.entity,config:c.config})),i(u).html(t),e?i(".ifollow-un-subscribe-form-"+c.entity.id).submit(function(e){e.preventDefault(),c.config.error=f,c.config.success=function(){d(!1)},s.execute(c.user,c.entity,c.config)}):i(".ifollow-subscribe-form-"+c.entity.id).submit(function(e){e.preventDefault(),c.config.error=f,c.config.success=function(){d(!0)},o.execute(c.user,c.entity,c.config)})}function f(e){d(!1)}return{execute:function(e,t){a=n.template(t.followingTpl),l=n.template(t.notFollowingTpl),t.config.error=f,t.config.success=function(e){d(e.status)},c=t,u=e,r.execute(c.user,c.entity,c.config)}}}),define("ifollow/implementations/handlers/onLogout",["require","lodash","jquery","sys/bus"],function(e){"use strict";var n=e("lodash"),r=e("jquery"),o=e("sys/bus");return{execute:function(e,t){t.config.action="subscription";var i=n.template(t.notFollowingTpl)({user:t.user||{uuid:""},entity:t.entity,config:t.config});r(e).html(i),r(".ifollow-subscribe-form-"+t.entity.id).submit(function(e){e.preventDefault(),o.publish({topic:"user.login.request"})}),console.log("user is not logged")}}}),define("text!ifollow/implementations/templates/following.tpl",[],function(){return'<div class="ifollow-inner following">\n    <form class="ifollow-un-subscribe-form-<%= entity.id %>"\n          action="<%= config.fprofile %>/rest/v3/user/<%= user.uuid %>/<%= config.action %>/<%= config.domain %>/<%= entity.type %>/<%= entity.code %>?sessionId=<%= user.token %>"\n          method="DELETE">\n        <button type="submit" class="ifollow-widget-submit icon icon-ok">\n            <span>A Seguir Tópico</span>\n        </button>\n    </form>\n</div>'}),define("text!ifollow/implementations/templates/notFollowing.tpl",[],function(){return'<div class="ifollow-inner not-following">\n    <form class="ifollow-subscribe-form-<%= entity.id %>"\n          action="<%= config.fprofile %>/rest/v3/user/<%= user.uuid %>/<%= config.action %>/<%= config.domain %>/<%= entity.type %>/<%= entity.code %>?sessionId=<%= user.token %>"\n          method="POST">\n        <button type="submit" class="ifollow-widget-submit icon icon-e">\n            <span>Seguir Tópico</span>\n        </button>\n    </form>\n</div>'}),define("ifollow/implementations/keyword",["require","widgets/base","sys/bus","lodash","ifollow/implementations/handlers/onLogin","ifollow/implementations/handlers/onLogout","text!ifollow/implementations/templates/following.tpl","text!ifollow/implementations/templates/notFollowing.tpl"],function(e){"use strict";var i="ifollow-keyword-impl",n=e("widgets/base"),t=e("sys/bus"),r=e("lodash"),o=e("ifollow/implementations/handlers/onLogin"),s=e("ifollow/implementations/handlers/onLogout"),a=e("text!ifollow/implementations/templates/following.tpl"),l=e("text!ifollow/implementations/templates/notFollowing.tpl");function u(e,t){n.call(this,i,e),(t=t||{}).followingTpl=t.followingTpl||a,t.notFollowingTpl=t.notFollowingTpl||l,this._options=t,this._options.entity.id=t.entity.code.replace(/\//g,"-"),this._element=e,this._onLogin=o,this._onLogout=s,this._checkUser=r.bind(this._checkUser,this)}return u.prototype=Object.create(n.prototype),u.init=function(e,t){return n.init(e,i,u,t)},u.start=function(e,t){return n.start(e,i,u,t)},u.destroy=function(e){return n.destroy(e,i)},u.prototype.start=function(){t.subscribe({topic:t.TOPICS.USER.LOGIN,callback:this._checkUser}),t.subscribe({topic:t.TOPICS.USER.LOGOUT,callback:this._checkUser}),this._checkUser(this._options.user)},u.prototype.stop=function(){t.unsubscribe({topic:t.TOPICS.USER.LOGIN,callback:this._checkUser}),t.unsubscribe({topic:t.TOPICS.USER.LOGOUT,callback:this._checkUser})},u.prototype._checkUser=function(e){(this._options.user=e)?this._onLogin.execute(this._element,this._options):this._onLogout.execute(this._element,this._options)},u}),define("ifollow",["require","ifollow/implementations/keyword"],function(e){"use strict";var t={keyword:e("ifollow/implementations/keyword")};function n(e){return t[e]}function r(e,t){if(!t.entity||!e)return console.error("Missing entity"),!0}return{init:function(e,t){if(!r(e,t)){var i=n(t.entity.type);return i?i.init(e,t):[]}},start:function(e,t){if(!r(e,t)){var i=n(t.entity.type);return i?i.start(e,t):[]}},stopAll:function(e,t){if(!r(e,t)){var i=n(t.entity.type);return i?i.stop(e,t):[]}},destroy:function(e,t){if(!r(e,t)){var i=n(t.entity.type);return i?i.destroy(e):[]}}}}),define("parts/follow",["require","ifollow","sys/store","parts/config"],function(e){var n=e("ifollow"),r=e("sys/store"),o=e("parts/config");return{start:function(e,t){var i=r.session.read(o.KEYS.USER);return(t=t||{}).user=i,n.start(e,t)}}}),define("parts/relative-times",["require","jquery","lodash","modernizr","moment","widgets/base","moment.pt"],function(e){var r=e("jquery"),o=e("lodash"),t=e("modernizr"),s=e("moment"),a=e("widgets/base");e("moment.pt");var l="imp-relative-times",u="impNodeInserted",c=["","-webkit-"];function i(e,t){a.call(this,l,e),this._selector=t.selector||"[datetime]",this._onInsert=o.bind(this._onInsert,this);var i=500,n=a._getInternetExplorerVersion();n>0&&n<=8&&(i*=2),this.update=o.throttle(this.update,i)}function d(e,t){return t=o.isNumber(t)?t:1,s().diff(e,"hours",!0)<=t}return i.prototype=Object.create(a.prototype),i.init=function(e,t){return a.init(e,l,i,t)},i.start=function(e,t){return a.start(e,l,i,t)},i.prototype.start=function(){if(t.cssanimations){var e=document.head||document.getElementsByTagName("head")[0];this._$style=function(e){for(var t="",i=0;i<c.length;i++)t+="@"+c[i]+"keyframes impNodeInserted {\nfrom { opacity: 0.99; }\nto { opacity: 1; }\n}\n",t+=e+" {\n",t+=c[i]+"animation-duration: 0.001s;\n",t+=c[i]+"animation-name: "+u+";\n",t+="}\n";var n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t));return n}(this._selector),e.appendChild(this._$style),this._queue=r(this._selector).toArray(),this.update(),document.addEventListener("animationstart",this._onInsert,!1),document.addEventListener("MSAnimationStart",this._onInsert,!1),document.addEventListener("webkitAnimationStart",this._onInsert,!1)}},i.prototype.stop=function(){t.cssanimations&&(document.removeEventListener("animationstart",this._onInsert,!1),document.removeEventListener("MSAnimationStart",this._onInsert,!1),document.removeEventListener("webkitAnimationStart",this._onInsert,!1),(document.head||document.getElementsByTagName("head")[0]).removeChild(this._$style))},i.prototype._onInsert=function(e){e.animationName===u&&(this._queue.push(e.target),this.update())},i.prototype.update=function(){for(var e,t,i,n;e=this._queue.pop();)(t=(e=r(e)).attr("datetime"))&&(t=s(t)).isValid()&&(i=d(t)?t.fromNow():(n=t,s().isSame(n,"d")?t.format("HH[h]mm"):t.format("DD.MM.YYYY")),e.text(i))},i}),define("parts/disqus-comment-count",["require","widgets/base"],function(e){var i=e("widgets/base"),n="imp-disqus-comment-count";function r(e,t){i.call(this,n,e),t=t||{},this._shortname=t.shortname}return r.prototype=Object.create(i.prototype),r.init=function(e,t){return i.init(e,n,r,t)},r.start=function(e,t){return i.start(e,n,r,t)},r.prototype.start=function(){var e;window.disqus_shortname=this._shortname,"DISQUSWIDGETS"in window||"disquswidgets"in window?DISQUSWIDGETS.getCount():((e=document.createElement("script")).async=!0,e.type="text/javascript",e.src="//"+window.disqus_shortname+".disqus.com/count.js",(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(e))},r.prototype.stop=function(){},r}),define("parts/newsletters",["require","lodash","sys/bus","widgets/base","sys/store","parts/config"],function(e){var n=e("lodash"),t=e("sys/bus"),i=e("widgets/base"),r=e("sys/store"),o=e("parts/config"),s="imp-expresso-newsletters";function a(e,t){i.call(this,s,e),this.update=n.bind(this.update,this)}return a.prototype=Object.create(i.prototype),a.init=function(e,t){return i.init(e,s,a,t)},a.start=function(e,t){return i.start(e,s,a,t)},a.prototype.start=function(){var e=r.session.read(o.KEYS.USER);this.update(e),t.subscribe({topic:t.TOPICS.USER.LOGIN,callback:this.update}),t.subscribe({topic:t.TOPICS.USER.LOGOUT,callback:this.update})},a.prototype.stop=function(){t.unsubscribe({topic:t.TOPICS.USER.LOGIN,callback:this.update}),t.unsubscribe({topic:t.TOPICS.USER.LOGOUT,callback:this.update})},a.prototype.update=function(e){var t=e&&e.subscriptions;if(t){var i=this._$element;n.filter(t,{type:"newsletter",status:!0}).forEach(function(e){var t=e.domain+"/"+e.code;i.find('input[type=checkbox][value="'+t+'"]').prop("checked",e.status)})}e&&e.email&&this._$element.find("input[type=email]").val(e.email)},a}),define("parts/refresh",["require","widgets/base","jquery","lodash","parts/config"],function(e){var r=e("widgets/base"),t=e("jquery"),o=e("lodash"),s=e("parts/config"),a="imp-expresso-refresh",i="imp-expresso-refresh";function n(e,t){r.call(this,a,e),t=t||{},this._time=t.time||s.REFRESH_TIME,this._onChange=o.bind(this._onChange,this),this._onStorage=o.bind(this._onStorage,this),this._onScroll=o.bind(this._onScroll,this);var i=120,n=r._getInternetExplorerVersion();n>0&&n<=8&&(i*=5),this._onScroll=o.throttle(this._onScroll,i,{leading:!0,trailing:!0}),this.update=o.bind(this.update,this),this.refresh=o.bind(this.refresh,this)}return n.prototype=Object.create(r.prototype),n.init=function(e,t){return r.init(e,a,n,t)},n.start=function(e,t){return r.start(e,a,n,t)},n.destroy=function(e){return r.destroy(e,a)},n.prototype.start=function(){t(window).on({storage:this._onStorage,scroll:this._onScroll}),this.isEnabled(),this.update(),this._$element.find(".js-refresh-toggle").on({change:this._onChange})},n.prototype.stop=function(){t(window).off({storage:this._onStorage,scroll:this._onScroll}),this._$element.find(".js-refresh-toggle").off({change:this._onChange})},n.prototype.update=function(e){var t=this.isEnabled();void 0!==e&&!0!==e||this._$element.find(".js-refresh-toggle").prop("checked",!!t),t?this._startTimer():this._stopTimer()},n.prototype.refresh=function(){this.isEnabled()&&window.location.reload()},n.prototype.isEnabled=function(){var e=localStorage.getItem(i);return null!==e&&void 0!==e||localStorage.setItem(i,!0),"true"===e},n.prototype._onChange=function(e){var t=this._$element.find(".js-refresh-toggle").is(":checked");localStorage.setItem(i,!!t),this.update(!1)},n.prototype._onStorage=function(e){e.key===i&&this.update()},n.prototype._onScroll=function(e){this._startTimer()},n.prototype._startTimer=function(){clearTimeout(this._timer),this._timer=setTimeout(this.refresh,this._time)},n.prototype._stopTimer=function(){clearTimeout(this._timer)},n}),define("parts/sticky-scroll",["require","lodash","jquery","sys/bus","widgets/base"],function(e){var r=e("lodash"),i=e("jquery"),t=e("sys/bus"),o=e("widgets/base"),s="imp-expresso-sticky-scroll",n=0,a=1,l=2;function u(e,t){o.call(this,s,e),t=t||{},this._offsetTop=r.isNumber(t.offsetTop)?t.offsetTop:56,this._infinite=void 0!==t.infinite&&t.infinite;var i=r.isNumber(t.throttle)?t.throttle:60,n=o._getInternetExplorerVersion();n>0&&n<=8&&(i*=10),this.refresh=r.debounce(this.refresh,60,{leading:!0,trailing:!0}),this.update=r.bind(this.update,this),this.update=r.throttle(this.update,i,{leading:!0,trailing:!0}),this._onScroll=r.bind(this._onScroll,this),this._onResize=r.bind(this._onResize,this),this._onContentChange=r.bind(this._onContentChange,this)}return u.prototype=Object.create(o.prototype),u.init=function(e,t){return o.init(e,s,u,t)},u.start=function(e,t){return o.start(e,s,u,t)},u.prototype.start=function(){this._$parent=this._$element.offsetParent(),i(window).on({scroll:this._onScroll,"resize orientationchange":this._onResize}),this._sub1=t.subscribe({topic:t.TOPICS.CONTENT.LOADED,callback:this._onContentChange}),this._sub2=t.subscribe({topic:t.TOPICS.PAGE.LOADED,callback:this._onContentChange}),this.refresh(),this.update()},u.prototype.stop=function(){i(window).off({scroll:this._onScroll,"resize orientationchange":this._onResize}),this._$element.css("position",""),t.unsubscribe(this._sub1),t.unsubscribe(this._sub2)},u.prototype._onScroll=function(){window.requestAnimationFrame?window.requestAnimationFrame(this.update):this.update()},u.prototype._onResize=function(){this.refresh(),this.update()},u.prototype._onContentChange=function(){this.refresh(),this.update()},u.prototype.refresh=function(){this._state=n,this._$element.css({position:"",left:"",right:"",bottom:"",top:""});var e=this._$element.offset(),t=0|parseInt(this._$element.css("margin-left"));this._offsetLeft=0|(e&&e.left),this._offsetLeft=this._offsetLeft-t,this._parentHeight=0|this._$parent.outerHeight(),this._viewportHeight=0|i(window).height()},u.prototype.update=function(){var e,t,i=0;(e=0|this._$element.outerHeight(!0))>=this._parentHeight?this._state!==n&&(this._state=n,this._$element.css({position:"",top:"",right:"",bottom:"",left:""})):(t=0|((t=this._$parent[0]&&this._$parent[0].getBoundingClientRect())&&t.top),e<this._viewportHeight-this._offsetTop&&(i=this._viewportHeight-e-this._offsetTop),!this._infinite&&t<0&&t+this._parentHeight-this._viewportHeight<0&&t+this._parentHeight-e<0?this._state!==l&&(this._state=l,this._$element.css({position:"absolute",top:"auto",right:"",bottom:i,left:""})):t<0&&t+e-this._viewportHeight<=0?this._state!==a&&(this._state=a,this._$element.css({position:"fixed",top:"auto",right:"auto",bottom:i,left:this._offsetLeft+"px"})):this._state!==n&&(this._state=n,this._$element.css({position:"",top:"",right:"",bottom:"",left:""})))},u}),define("parts/filler",["require","widgets/base","jquery","lodash"],function(e){var i=e("widgets/base"),n=e("jquery"),r=e("lodash"),o="imp-expresso-filler";function s(e,t){i.call(this,o,e),this._onResize=r.bind(this._onResize,this),this._onResize=r.debounce(this._onResize,300),this._$target=n(t.target||window)}return s.prototype=Object.create(i.prototype),s.init=function(e,t){return i.init(e,o,s,t)},s.start=function(e,t){return i.start(e,o,s,t)},s.prototype.start=function(){n(window).on({resize:this._onResize,orientationchange:this._onResize}),this.refresh()},s.prototype.stop=function(){n(window).off({resize:this._onResize,orientationchange:this._onResize}),this._$element.css("height","")},s.prototype._onResize=function(){this.refresh()},s.prototype.refresh=function(){var e=this._$element.offset(),t=n(this._$target).height();t=parseInt(t,10)-parseInt(e.top,10),this._$element.css("height",t+"px")},s}),function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("postal"),require("postal.federation"),require("postal.xframe")):"function"===typeof define&&define.amd?define("impresa-js-bus",["postal","postal.federation","postal.xframe"],t):"object"===typeof exports?exports["impresa-js-bus"]=t(require("postal"),require("postal.federation"),require("postal.xframe")):e.ImpresaJsBus=t(e.postal,e["postal.federation"],e["postal.xframe"])}("undefined"!==typeof self?self:this,function(i,n,r){return function(i){var n={};function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=i,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.TOPICS=t.publish=t.unsubscribe=t.subscribe=void 0,t._toggleDebug=u;var n=o(i(1));i(2),i(3);var r=o(i(4));function o(e){return e&&e.__esModule?e:{default:e}}var s="imp-bus";setTimeout(function(){n.default.instanceId("bus-"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)),n.default.fedx.configure({filterMode:"blacklist"}),n.default.fedx.signalReady()},0);var a=void 0;function l(e,t){console.debug("[%s] Message",s,t)}function u(){return a?a():a=n.default.addWireTap(l),!!a}var c=t.subscribe=n.default.subscribe.bind(n.default),d=t.unsubscribe=n.default.unsubscribe.bind(n.default),f=t.publish=n.default.publish.bind(n.default),p=t.TOPICS=r.default;t.default={subscribe:c,unsubscribe:d,publish:f,_toggleDebug:u,TOPICS:p}},function(e,t){e.exports=i},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n="impresa",r=n+".error";t.default={ALL:n+".*",ERRORS:r+".*",CONTENT:{LOADED:n+".content.loaded",LOAD_ERROR:r+".content.loaded"},PAGE:{LOADED:n+".page.loaded",LOAD_ERROR:r+".page.loaded"},EPG:{LOADED:n+".epg.loaded",LOAD_ERROR:r+".epg.loaded"},TAB:{SELECTED:n+".tab.selected"},VIDEO:{PLAY:n+".video.play",PAUSE:n+".video.pause",STARTED:n+".video.started",ENDED:n+".video.ended",SEEKED:n+".video.seeked",FIRST_QUARTILE:n+".video.first_quartile",MIDPOINT:n+".video.midpoint",THIRD_QUARTILE:n+".video.third_quartile",PREROLL_START:n+".video.preroll.start",PREROLL_END:n+".video.preroll.end",PLAYLIST_NEXT:n+".video.playlist.next",PLAYLIST_PREV:n+".video.playlist.prev",PLAYLIST_END:n+".video.playlist.end"},SOCIAL:{SHARED:n+".social.shared"},USER:{LOGIN:n+".user.login",LOGOUT:n+".user.logout"},STORE:{PERMANENT:{UPDATED:n+".store.permanent.updated"},SESSION:{UPDATED:n+".store.temporary.updated"}},GALLERY:{SLIDE_CHANGED:n+".gallery.slide.changed"},ARTICLE:{READ_MORE:n+".article.read_more"}}}])}),function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("impresa-js-bus")):"function"===typeof define&&define.amd?define("impresa-data-store",["impresa-js-bus"],t):"object"===typeof exports?exports["impresa-data-store"]=t(require("impresa-js-bus")):e.ImpresaDataStore=t(e["impresa-js-bus"])}(this,function(i){return function(i){var n={};function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=i,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t){e.exports=i},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),o=i(0),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function n(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.namespace=void 0,this.main=e,this.fallback=t,this.topics=i.topics||{},this.tag=i.tag||"imp-generic-store",this.isMain=!0===i.isMain,this.disableNamespacing=!1===i.disableNamespacing}return r(n,[{key:"setNamespace",value:function(e){this.disableNamespacing||(this.namespace=e)}},{key:"isAvailable",value:function(){return this.isMain}},{key:"clear",value:function(){for(var e=!0,t=[],i=this._keys(),n=0;n<i.length;n++){var r=i[n];if(this._checkNamespacedKey(r)){var o=this._remove(r);e=e&&o,o&&t.push(r)}}return this.topics.updated&&s.default.publish({topic:this.topics.updated,data:{count:-t.length,entries:t}}),e}},{key:"readAll",value:function(t){var i=this,e=this._keys();return[].concat(e||[]).filter(function(e){return i._checkNamespacedKey(e)}).map(function(e){return i._removeNamespace(e)}).filter(function(e){return t?-1!==e.indexOf(t):e}).reduce(function(e,t){return e[t]=i.read(t),e},{})}},{key:"read",value:function(e){return this._read(this._namespaceKey(e))}},{key:"save",value:function(e,t){e=this._namespaceKey(e);var i=this._save(e,t);return this.topics.updated&&s.default.publish({topic:this.topics.updated,data:{count:1,entries:[e]}}),i}},{key:"remove",value:function(e){e=this._namespaceKey(e);var t=this._remove(e);return t&&this.topics.updated&&s.default.publish({topic:this.topics.updated,data:{count:-1,entries:[e]}}),t}},{key:"contains",value:function(e){return this.isMain?this.main.hasItem(e):this.fallback.hasItem(e)}},{key:"keys",value:function(){var t=this;return this._keys().filter(function(e){return t._checkNamespacedKey(e)}).map(function(e){return t._removeNamespace(e)})}},{key:"_keys",value:function(){var e=[];try{e=this.isMain?this.main.keys():this.fallback.keys()}catch(e){console.warn("[%s] Error getting storage keys",this.tag),console.debug(e)}return e}},{key:"_read",value:function(t){var e=void 0;try{return"null"===(e=this.isMain?this.main.getItem(t):this.fallback.getItem(t))?null:JSON.parse(e||"null")}catch(e){console.warn("[%s] Error reading data from storage",this.tag,t),console.debug(e)}}},{key:"_save",value:function(t,e){try{e=JSON.stringify(e),this.isMain?this.main.setItem(t,e):this.fallback.setItem(t,e,1/0)}catch(e){return console.warn("[%s] Error storing data in storage",this.tag,t),console.debug(e),!1}return!0}},{key:"_remove",value:function(t){try{this.isMain?this.main.removeItem(t):this.fallback.removeItem(t)}catch(e){return console.warn("[%s] Error removing data from storage",this.tag,t),console.debug(e),!1}return!0}},{key:"_namespaceKey",value:function(e){return this.namespace?[this.namespace,e].join("-"):e}},{key:"_removeNamespace",value:function(e){return this.namespace&&e.substring(this.namespace.length+1)||e}},{key:"_checkNamespacedKey",value:function(e){return!!e&&(!this.namespace||0===e.indexOf(this.namespace))}}]),n}();t.default=a},function(e,t,i){function n(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function r(e,t,i,n,r,o){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var s="";if(i)switch(i.constructor){case Number:s=i===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+i;break;case String:s="; expires="+i;break;case Date:s="; expires="+i.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+s+(r?"; domain="+r:"")+(n?"; path="+n:"")+(o?"; secure":""),!0}function o(e,t,i){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(i?"; domain="+i:"")+(t?"; path="+t:""),!0)}function s(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}function a(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,i=0;i<t;i++)e[i]=decodeURIComponent(e[i]);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.getItem=n,t.setItem=r,t.removeItem=o,t.hasItem=s,t.keys=a,t.default={getItem:n,setItem:r,removeItem:o,hasItem:s,keys:a}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.getItem=r,t.setItem=o,t.removeItem=s,t.hasItem=a,t.keys=l,t.clear=u;var n={};function r(e){return e&&n[e]||null}function o(e,t){return!!e&&(n[e]=t,!0)}function s(e){return!!this.hasItem(e)&&delete n[e]}function a(e){return!!e&&Object.prototype.hasOwnProperty.call(n,e)}function l(){return Object.keys(n)}function u(){return n={},!0}t.default={getItem:r,setItem:o,removeItem:s,hasItem:a,keys:l,clear:u}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.cookie=t.session=t.permanent=void 0,t.init=a;var n=s(i(5)),r=s(i(6)),o=s(i(7));function s(e){return e&&e.__esModule?e:{default:e}}function a(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).namespace;e&&(n.default.setNamespace(e),r.default.setNamespace(e),o.default.setNamespace(e))}var l=t.permanent=n.default,u=t.session=r.default,c=t.cookie=o.default;t.default={init:a,permanent:l,session:u,cookie:c}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),r=s(i(2)),o=s(i(1));function s(e){return e&&e.__esModule?e:{default:e}}var a="imp-store-permanent",l=!1;!function(){try{var e=+new Date+"";localStorage.setItem(a,e),l=localStorage.getItem(a)===e}catch(e){l="QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name}}();var u={setItem:localStorage.setItem.bind(localStorage),getItem:localStorage.getItem.bind(localStorage),removeItem:localStorage.removeItem.bind(localStorage),hasItem:function(e){return e in localStorage},keys:function(){for(var e=[],t=0;t<localStorage.length;t++)e.push(localStorage.key(t));return e}};t.default=new o.default(u,r.default,{isMain:l,tag:a,topics:{updated:n.TOPICS.STORE.PERMANENT.UPDATED}})},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),r=s(i(3)),o=s(i(1));function s(e){return e&&e.__esModule?e:{default:e}}var a="imp-store-session",l=!1;!function(){try{var e=+new Date+"";sessionStorage.setItem(a,e),l=sessionStorage.getItem(a)===e}catch(e){}}();var u={setItem:sessionStorage.setItem.bind(sessionStorage),getItem:sessionStorage.getItem.bind(sessionStorage),removeItem:sessionStorage.removeItem.bind(sessionStorage),hasItem:function(e){return e in sessionStorage},keys:function(){for(var e=[],t=0;t<sessionStorage.length;t++)e.push(sessionStorage.key(t));return e}};t.default=new o.default(u,r.default,{isMain:l,tag:a,topics:{updated:n.TOPICS.STORE.SESSION.UPDATED}})},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),r=a(i(2)),o=a(i(3)),s=a(i(1));function a(e){return e&&e.__esModule?e:{default:e}}var l="imp-store-cookie",u=!1;!function(){try{var e=+new Date+"";r.default.setItem(l,e),u=r.default.getItem(l)===e}catch(e){}}(),t.default=new s.default(r.default,o.default,{disableNamespacing:!0,isMain:u,tag:l,topics:{updated:n.TOPICS.STORE.SESSION.UPDATED}})}])}),define("impresa-getsocial",["require","impresa-data-store"],function(e){var r,o="imp-getSocial",s=!1,i=e("impresa-data-store");function t(i,n){e(["https://api.at.getsocial.io/widget/v1/gs_async.js?id="+i],function(){var e,t;s?a(n):(e=i,t=n,document.addEventListener("gs:processed",function(){console.log("[%s] script loaded (%s).",o,e),s=!0,r=window.GSFlowHelper,a(t)}))})}function a(e){var t=i.session.read(e);t&&n(t)}function n(e){s&&r&&e.uuid&&r.userLogin(e.uuid)}return{init:function(e){console.log("[%s] init",o),s||(console.log("[%s] loading script",o),t(e.id,e.loginKey))},onLogin:n,onLogout:function(){s&&r&&r.userLogout()}}}),define("parts/socialTracker",["require","sys/bus","parts/config","impresa-getsocial"],function(e){var t=e("sys/bus"),i=e("parts/config"),n=e("impresa-getsocial");return t.subscribe({topic:t.TOPICS.USER.LOGIN,callback:n.onLogin}),t.subscribe({topic:t.TOPICS.USER.LOGOUT,callback:n.onLogout}),{init:function(e){e.loginKey=i.KEYS.LOGIN_PREFIX+"-"+i.KEYS.USER,n.init(e)}}}),define("parts/newsletter-subscribe",["require","lodash","jquery","widgets/base","sys/store","sys/bus","parts/config","user"],function(e){var a=e("lodash"),l=e("jquery"),i=e("widgets/base"),r=e("sys/store"),t=e("sys/bus"),o=e("parts/config"),n=e("user"),s="imp-expresso-newsletter-subscribe",u=/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/;function c(e,t){i.call(this,s,e),t=t||{},this._subscribeFormContainerSelector=t.subscribeFormContainerSelector,this._suggestFormContainerSelector=t.suggestFormContainerSelector,this._defaultFormContainerSelector=t.defaultFormContainerSelector||t.subscribeFormContainerSelector,this._newsletterCode=t.newsletterCode,this.update=a.bind(this.update,this),this._update=a.bind(this._update,this),this._setFormHandlers=a.bind(this._setFormHandlers,this),this._validate=a.bind(this._validate,this),this._onSubmit=a.bind(this._onSubmit,this)}return c.prototype=Object.create(i.prototype),c.init=function(e,t){return i.init(e,s,c,t)},c.start=function(e,t){return i.start(e,s,c,t)},c.prototype.start=function(){var e=r.session.read(o.KEYS.USER);this._setFormHandlers(),this.update(e),t.subscribe({topic:t.TOPICS.USER.LOGIN,callback:this.update}),t.subscribe({topic:t.TOPICS.USER.LOGOUT,callback:this.update})},c.prototype.stop=function(){t.unsubscribe({topic:t.TOPICS.USER.LOGIN,callback:this.update}),t.unsubscribe({topic:t.TOPICS.USER.LOGOUT,callback:this.update})},c.prototype._setFormHandlers=function(){this._$element.find("form").submit(this._onSubmit),this._$element.find("input[type='email']").on("change paste keyup",this._validate),this._$element.find("input[type='text']").on("change paste keyup",this._validate)},c.prototype._validate=function(e){var t=l(e.target).parent(),i=!1,n=t.find("input[name='email']");u.test(n.val())||(i=!0),t.hasClass("suggestForm")&&(n=t.find("input[name='personName']"),a.isEmpty(n.val())&&(i=!0)),t.find("input.submit").prop("disabled",i)},c.prototype._onSubmit=function(e){var t=r.session.read(o.KEYS.USER),i=e.target,n=i.action;i.action=n+"?sessionId="+t.usrSession},c.prototype.update=function(e){a.isEmpty(e)?this._update(e):n.refresh().then(this._update)},c.prototype._update=function(e){l(this._subscribeFormContainerSelector).hide(),l(this._suggestFormContainerSelector).hide();var t=this._defaultFormContainerSelector;if(!a.isEmpty(e)){var i=e.name||"",n=e.email||"",r=e&&e.subscriptions;if(r)if(r=a.filter(r,{code:this._newsletterCode,status:!0}),a.isEmpty(r)){var o=l(this._subscribeFormContainerSelector).find("input[name='email']");o.val(n),o.change()}else{t=this._suggestFormContainerSelector;var s=l(this._suggestFormContainerSelector).find("input[name='personName']");s.val(i),s.change()}}l(t).show()},c}),define("parts/newsletter-widget",["require","lodash","sys/bus","widgets/base","sys/store","parts/config"],function(e){var t=e("lodash"),i=e("sys/bus"),n=e("widgets/base"),r=e("sys/store"),o=e("parts/config"),s="imp-expresso-newsletter-outer";function a(e){n.call(this,s,e),this.update=t.bind(this.update,this),this.update=t.debounce(this.update,60)}return a.prototype=Object.create(n.prototype),a.init=function(e,t){return n.init(e,s,a,t)},a.start=function(e,t){return n.start(e,s,a,t)},a.prototype.start=function(){this._$iframe=this._$element.find("iframe").andSelf().filter("iframe"),this._url=this._$iframe.attr("src"),this._currentEmail=void 0;var e=r.session.read(o.KEYS.USER);this.update(e),i.subscribe({topic:i.TOPICS.USER.LOGIN,callback:this.update}),i.subscribe({topic:i.TOPICS.USER.LOGOUT,callback:this.update})},a.prototype.stop=function(){i.unsubscribe({topic:i.TOPICS.USER.LOGIN,callback:this.update}),i.unsubscribe({topic:i.TOPICS.USER.LOGOUT,callback:this.update})},a.prototype.update=function(e){var t=e&&e.subscriptions,i=e&&e.email,n=!1,r=this._url;if(t){for(var o=0;o<t.length;o++)if(!t[o].status){n=!0;break}if(!n)return void this._$element.hide();this._$element.show()}else this._$element.show();this._currentEmail!==i&&(i&&(r=r+"#"+i),this._currentEmail=i,this._$iframe.attr("src",r))},a}),define("parts/voucher",["require","lodash","sys/bus","widgets/base","sys/store","parts/config"],function(e){var i=e("lodash"),n=e("sys/bus"),r=e("widgets/base"),o=e("sys/store"),s=e("parts/config"),a="imp-voucher-widget";function l(e,t){r.call(this,a,e),t=t||{},this.update=i.bind(this.update,this),this._onLoginClick=i.bind(this._onLoginClick,this),this._onRegisterClick=i.bind(this._onRegisterClick,this),this._onSubmit=i.bind(this._onSubmit,this),this._$submit=this._$element.find(".js-submit"),this._$voucher=this._$element.find(".js-voucher-code"),this._$step1=this._$element.find(".js-step-1"),this._$step2=this._$element.find(".js-step-2"),this._$user=this._$element.find(".js-user-id"),this._$success=this._$element.find(".js-success-callback"),this._$campaignCode=this._$element.find(".js-campaign-code"),this._successCallback=this._$success.val()}return(l.prototype=Object.create(r.prototype)).start=function(){var e=o.session.read(s.KEYS.USER),t=o.session.read(s.KEYS.ENTITLEMENT+"-"+this._$campaignCode.val());e&&e.token&&t?document.location=this._buildSuccessUri(e.token):(this._$element.on("click",".js-login-button",this._onLoginClick),this._$element.on("click",".js-register-button",this._onRegisterClick),this._$element.on("submit",this._onSubmit),n.subscribe({topic:n.TOPICS.USER.LOGIN,callback:this.update}),n.subscribe({topic:n.TOPICS.USER.LOGOUT,callback:this.update}),this.update())},l.prototype.stop=function(){this._$element.off("click",".js-login-button",this._onLoginClick),this._$element.off("click",".js-register-button",this._onRegisterClick),this._$element.off("submit",this._onSubmit),n.unsubscribe({topic:n.TOPICS.USER.LOGIN,callback:this.update}),n.unsubscribe({topic:n.TOPICS.USER.LOGOUT,callback:this.update})},l.prototype._onLoginClick=function(e){e.preventDefault(),n.publish({topic:s.TOPICS.SSO.LOGIN})},l.prototype._onRegisterClick=function(e){e.preventDefault(),n.publish({topic:s.TOPICS.SSO.REGISTER})},l.prototype._onSubmit=function(e){this._$submit.prop("disabled",!0)},l.prototype._buildSuccessUri=function(e){return e?this._successCallback+"&sessionId="+encodeURIComponent(e):this._successCallback},l.prototype.update=function(){var e,t,i;(i=(e=o.session.read(s.KEYS.USER))&&e.token)?(t=e&&e.uuid,this._$step1.hide(),this._$step2.show(),this._$submit.prop("disabled",!1),this._$voucher.prop("disabled",!1)):(this._$step1.show(),this._$step2.hide(),this._$submit.prop("disabled",!0),this._$voucher.prop("disabled",!0)),this._$user.val(t||""),this._$success.val(this._buildSuccessUri(i))},l.init=function(e,t){return r.init(e,a,l,t)},l.start=function(e,t){return r.start(e,a,l,t)},l}),define("parts/voucher-success",["require","sys/bus","sys/store","parts/config"],function(e){var t=e("sys/bus"),i=e("sys/store"),n=e("parts/config");return{init:function(e){i.session.save(n.KEYS.ENTITLEMENT+"-"+e.code,!0),t.subscribe({topic:t.TOPICS.USER.LOGOUT,callback:function(){document.location="/api/molecule/entitlement/"+e.code}})}}}),function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("bluebird"),require("whatwg-fetch")):"function"===typeof define&&define.amd?define("impresa-polyfills",["bluebird","fetch"],t):"object"===typeof exports?exports["impresa-polyfills"]=t(require("bluebird"),require("whatwg-fetch")):e.ImpresaPolyfills=t(e.P,e.fetch)}(this,function(i,n){return function(i){var n={};function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=i,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(4);var o=((n=r)&&n.__esModule?n:{default:n}).default||"undefined"!==typeof window&&window.P||"undefined"!==typeof self&&self.Promise;o&&("undefined"!==typeof window&&null!==window?window.Promise=o:"undefined"!==typeof self&&null!==self&&(self.Promise=o)),t.default=o},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length;--i>=0&&t.item(i)!==this;);return i>-1}),t.default=Element.prototype.matches},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.WeakMap=void 0,i(3),i(0),i(1),i(5),i(6),i(7),i(8),i(9);var n=a(i(10)),r=i(12),o=a(i(13)),s=a(i(14));function a(e){return e&&e.__esModule?e:{default:e}}var l=t.WeakMap=s.default;t.default={requestAnimationFrame:r.requestAnimationFrame,cancelAnimationFrame:r.cancelAnimationFrame,matchMedia:o.default,WeakMap:l,fetch:n.default}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var t,i=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],r=n.length,o=e.console=e.console||{};r--;)o[t=n[r]]||(o[t]=i)}("undefined"!==typeof self?self:window),t.default=("undefined"!==typeof self?self:window).console},function(e,t){e.exports=i},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),i(1),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t.matches&&!t.matches(e);)t=t.parentNode;return t.matches?t:null}),t.default=Element.prototype.closest},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),"function"!=typeof Object.assign&&(Object.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i}),t.default=Object.assign},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n,r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"function"!=typeof Object.create&&(Object.create=(n=function(){},function(e){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=("undefined"===typeof e?"undefined":r(e)))throw TypeError("Argument must be an object");n.prototype=e;var t=new n;return n.prototype=null,t})),t.default=Object.create},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"undefined"===typeof Object.keys&&(Object.keys=function(){"use strict";var r=Object.prototype.hasOwnProperty,o=!{toString:null}.propertyIsEnumerable("toString"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=s.length;return function(e){if("function"!==typeof e&&("object"!==("undefined"===typeof e?"undefined":l(e))||null===e))throw new TypeError("Object.keys called on non-object");var t,i,n=[];for(t in e)r.call(e,t)&&n.push(t);if(o)for(i=0;i<a;i++)r.call(e,s[i])&&n.push(s[i]);return n}}()),t.default=Object.keys},function(e,t,i){!function(o,t){try{o.querySelector(":scope body")}catch(e){return["querySelector","querySelectorAll"].forEach(function(n){var r=t[n];t[n]=function(e){if(/(^|,)\s*:scope/.test(e)){var t=this.id;this.id="ID_"+Date.now(),e=e.replace(/((^|,)\s*):scope/g,"$1#"+this.id);var i=o[n](e);return this.id=t,i}return r.call(this,e)}},{})}}(window.document,Element.prototype)},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),i(0),i(11),t.default=("undefined"!==typeof self?self:window).fetch},function(e,t){e.exports=n},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var o=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!e.requestAnimationFrame;++i)e.requestAnimationFrame=e[t[i]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[t[i]+"CancelAnimationFrame"]||e[t[i]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(e,t){var i=(new Date).getTime(),n=Math.max(0,16-(i-o)),r=setTimeout(function(){e(i+n)},n);return o=i+n,r}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)})}("undefined"!==typeof self?self:window);var n=t.requestAnimationFrame=("undefined"!==typeof self?self:window).requestAnimationFrame,r=t.cancelAnimationFrame=("undefined"!==typeof self?self:window).cancelAnimationFrame;t.default={requestAnimationFrame:n,cancelAnimationFrame:r}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var i,n=document.createElement("style"),e=document.getElementsByTagName("script")[0];n.type="text/css",n.id="matchmediajs-test",e?e.parentNode.insertBefore(n,e):document.head.appendChild(n),i="getComputedStyle"in window&&window.getComputedStyle(n,null)||n.currentStyle,t={matchMedium:function(e){var t="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return n.styleSheet?n.styleSheet.cssText=t:n.textContent=t,"1px"===i.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),t.default=window.matchMedia},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=0;function r(){this._lastId=0,this._store={},this._prop="_weakMapId"+n++}r.prototype.set=function(e,t){var i=e[this._prop];return void 0===i&&(i=this._lastId++,Object.defineProperty(e,this._prop,{value:i,enumerable:!1})),this._store[i]=t,this},r.prototype.get=function(e){if(void 0!==e[this._prop])return this._store[e[this._prop]]},r.prototype.delete=function(e){return void 0!==e[this._prop]&&delete this._store[e[this._prop]]},r.prototype.has=function(e){return void 0!==e[this._prop]&&this._store.hasOwnProperty(e[this._prop])},t.default="undefined"!==typeof WeakMap?WeakMap:r}])}),function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("impresa-polyfills")):"function"===typeof define&&define.amd?define("impresa-js-utils",["impresa-polyfills"],t):"object"===typeof exports?exports["impresa-js-utils"]=t(require("impresa-polyfills")):e.ImpresaJsUtils=t(e["impresa-polyfills"])}(this,function(i){return function(i){var n={};function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=i,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t){e.exports=i},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.hasClass=l,t.addClass=u,t.removeClass=c,t.find=d,t.readData=f,t.show=p,t.hide=h,t.offset=m,t.width=g,t.outerWidth=_,t.innerWidth=v,t.height=y,t.outerHeight=b,t.innerHeight=w,t.fadeOut=S,t.fadeIn=k,t.getStyle=T,t.on=E,t.ready=x,t.off=P,t.trigger=I,t.loadScript=A,t.getInternetExplorerVersion=O;var n,r=i(0),o=i(3),s=(n=o)&&n.__esModule?n:{default:n};function a(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function l(e,t){return!!e&&[].concat(e||[]).some(function(e){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)})}function u(e,t){if(e){var i=[].concat(t||[]);[].concat(e||[]).forEach(function(e){var t;e.classList?(t=e.classList).add.apply(t,a(i)):e.className=(e.className||"")+" "+i.join(" ")})}}function c(e,t){if(e){var n=[].concat(t||[]);[].concat(e||[]).forEach(function(e){if(e.classList){var t;(t=e.classList).remove.apply(t,a(n))}else{var i=""+(e.className||"");e.className=i.split(" ").map(function(e){return e.trim()}).filter(function(e){return-1===n.indexOf(e)}).join(" ")}})}}function d(e,t){if(!e)return[];var i=void 0;return i=t?e.querySelectorAll(":scope "+t):document.querySelectorAll(e),Array.prototype.slice.call(i)}function f(e,t){if(e)return e.dataset&&e.dataset[t]||e.getAttribute("data-"+t.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()}))}function p(e){e&&(e.style.display="")}function h(e){e&&(e.style.display="none")}function m(e){if(e){var t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+i}}}function g(e){if(e){if(e===window)return v(e);var t=T(e),i=parseInt(t.paddingLeft)||0,n=parseInt(t.paddingRight)||0;return v(e)-i-n}}function _(e){if(e)return e===window?v(e):e.offsetWidth}function v(e){if(e)return e===window?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:e.clientWidth}function y(e){if(e){if(e===window)return w(e);var t=T(e),i=parseInt(t.paddingTop)||0,n=parseInt(t.paddingBottom)||0;return w(e)-i-n}}function b(e){if(e)return e===window?w(e):e.offsetHeight}function w(e){if(e)return e===window?window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight:e.clientHeight}function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,i=arguments[2];if(t){var n=t.style,r=25/(e||300);n.opacity=n.opacity||1,function e(){(n.opacity-=r)<0?(n.display="none",i&&i.call(t)):setTimeout(e,25)}()}}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"block",n=arguments[3];if(t){var r=t.style,o=25/(e||300);r.opacity=r.opacity||0,r.display=i,function e(){(r.opacity=parseFloat(r.opacity)+o)>1?(r.opacity=1,n&&n.call(t)):setTimeout(e,25)}()}}function T(e,t){if(e){var i=window.getComputedStyle?getComputedStyle(e,null):e.currentStyle;return t?i[t]:i}}var C=new r.WeakMap;function E(e,t,i,n){if(e){var r=i&&n,o=e===document&&"ready"===t;if(r||(n=i),o)x(n);else{var s=n;r&&(s=function(e){for(var t=e.target;t&&t!==e.currentTarget;t=t.parentNode)if(t.matches(i)){n.apply(this,arguments);break}},C.set(n,s)),e.addEventListener(t,s,!1)}}}function x(e){e&&((document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?e():document.addEventListener("DOMContentLoaded",e,!1))}function P(e,t,i,n){e&&(n=i||n,(n=C.get(n)||n)&&(e===document&&"ready"===t?document.removeEventListener("DOMContentLoaded",n):e.removeEventListener(t,n)))}function I(e,t,i){if(e){var n=void 0;"undefined"!==typeof window.CustomEvent?n=new CustomEvent(t,{detail:i}):(n=document.createEvent(t)).initCustomEvent(t,!0,!0,i),e.dispatchEvent(n)}}function A(o){if(!o)throw new Error("Missing url");return new Promise(function(e,t){var i=!1,n=document.createElement("script"),r=document.getElementsByTagName("script")[0];n.type="text/javascript",n.async=!0,n.src=o,n.onload=n.onreadystatechange=function(){i||this.readyState&&"complete"!==this.readyState||(i=!0,e(this))},n.onerror=n.onabort=t,r.parentNode.insertBefore(n,r)})}function O(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e}t.default={find:d,hasClass:l,addClass:u,removeClass:c,readData:f,show:p,hide:h,offset:m,width:g,innerWidth:v,outerWidth:_,height:y,innerHeight:w,outerHeight:b,fadeOut:S,fadeIn:k,getStyle:T,parseHTML:s.default,on:E,off:P,trigger:I,loadScript:A,getInternetExplorerVersion:O}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Numbers=t.Widgets=t.URL=t.NET=t.Functions=t.DOM=void 0;var n=u(i(1)),r=u(i(4)),o=u(i(5)),s=u(i(6)),a=u(i(7)),l=u(i(8));function u(e){return e&&e.__esModule?e:{default:e}}t.DOM=n.default,t.Functions=r.default,t.NET=o.default,t.URL=s.default,t.Widgets=a.default,t.Numbers=l.default;t.default={dom:n.default,functions:r.default,net:o.default,url:s.default,widgets:a.default,numbers:l.default}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=t||document;var i=void 0,n=void 0,r=void 0,o=void 0,s=t.createDocumentFragment();if(u.test(e)){for(i=s.appendChild(t.createElement("div")),n=(l.exec(e)||["",""])[1].toLowerCase(),r=c[n]||c._default,i.innerHTML=r[1]+e.replace(a,"<$1></$2>")+r[2],o=r[0];o--;)i=i.lastChild;for(s.removeChild(s.firstChild);i.firstChild;)s.appendChild(i.firstChild)}else s.appendChild(t.createTextNode(e));return s};var a=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,l=/<([\w:]+)/,u=/<|&#?\w+;/,c={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.once=n,t.debounce=r,t.throttle=o;var l=250,u=250;function n(e,t){var i=void 0,n=!1;return function(){return n||(n=!0,i=e.apply(t||this,arguments)),i}}function r(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments[3],a=void 0;return function(){var e=s||this,t=arguments,i=o&&!a;if(clearTimeout(a),a=setTimeout(function(){a=null,o||n.apply(e,t)},r),i)return n.apply(e,t)}}function o(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,o=arguments[2],s=void 0,a=void 0;return function(){var e=+new Date,t=o||this,i=arguments;s&&e<s+r?(clearTimeout(a),a=setTimeout(function(){s=e,n.apply(t,i)},r)):(s=e,n.apply(t,i))}}t.default={once:n,debounce:r,throttle:o}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),i(0),t.default={fetch:function(e,t){return fetch(e,t).then(function(e){if(e.ok)return e;var t=new Error("Network Error. Status: "+(e.statusText||e.status));throw t.status=e.status,t.statusText=e.statusText,t})}}},function(e,t,i){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e,n=Object.keys(t).filter(function(e){return void 0!==t[e]&&null!==t[e]}).map(function(e){return[encodeURIComponent(e),encodeURIComponent(t[e])].join("=")});return n.length>0&&(-1===i.indexOf("?")?i+="?":i+="&"),i+n.join("&")}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e=e.toString().split("&")).reduce(function(e,t){var i,n,r;return n=(i=t.split("="))[1]||i[0],r=i[1]&&i[0]||"_",e[decodeURIComponent(r)]=decodeURIComponent(n),e},{})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("a");t.href=e;var i=(t.search||"").replace(/^\??/,"");return{protocol:t.protocol,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search,query:r(i),hash:t.hash,host:t.host,origin:s(t)}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location;return e.origin?e.origin:(e.protocol+"//"+e.hostname+(e.port?":"+e.port:"")).replace(/:80$|:443$/,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.addQueryParameters=n,t.parseQueryString=r,t.parseUrl=o,t.getOrigin=s,t.default={addQueryParameters:n,parseQueryString:r,parseUrl:o,getOrigin:s}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.store=u,t.retrieve=c,t.remove=a,t.find=d,t.buildInit=f,t.buildStart=p,t.buildDestroy=h;var n,r=i(0),o=i(1),l=(n=o)&&n.__esModule?n:{default:n};var s=new r.WeakMap;function u(e,t,i){var n=s.get(e)||{};n[t]=i,s.set(e,n)}function c(e,t){return(s.get(e)||{})[t]}function a(e,t){var i=s.get(e)||{};delete i[t]&&(Object.keys(i).length?s.delete(e):s.set(e,i))}function d(t,e){return l.default.find(e).map(function(e){return c(e,t)}).filter(function(e){return!!e})}function f(s,a){return function(e,t){return i=s,n=a,r=e,o=t,console.log("[%s] Initializing widgets",n),l.default.find(r).map(function(e){var t=c(e,n);return t||(console.log("[%s] Initializing widget",n),t=new i(e,o||{}),u(e,n,t)),t});var i,n,r,o}}function p(s,a){return function(e,t){return i=s,n=a,r=e,o=t,console.log("[%s] Starting widgets",n),l.default.find(r).map(function(e){var t=c(e,n);return t||(console.log("[%s] Starting widget",n),t=new i(e,o||{}),u(e,n,t),t.start()),t});var i,n,r,o}}function h(n){return function(e){return i=n,t=e,console.log("[%s] Stopping widgets",i),l.default.find(t).map(function(e){var t=c(e,i);return t&&(console.log("[%s] Stopping widget",i),t.stop(),a(e,i)),t});var i,t}}t.default={store:u,retrieve:c,remove:a,find:d,buildInit:f,buildStart:p,buildDestroy:h}},function(e,t,i){function n(e,t,i){return e=parseInt(e),void 0!==t&&e<t?t:void 0!==i&&e>i?i:e}function r(e,t,i){var n=""+e,r=n.length;i=i||"0";for(var o=0;o<t-r;o++)n=i+n;return n}function o(e,t,i){var n=""+e,r=n.length;i=i||"0";for(var o=0;o<t-r;o++)n+=i;return n}Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=n,t.leftPad=r,t.rightPad=o,t.default={clamp:n,leftPad:r,rightPad:o}}])}),function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("impresa-js-utils"),require("impresa-polyfills"),require("impresa-data-store")):"function"===typeof define&&define.amd?define("analytics",["impresa-js-utils","impresa-polyfills","impresa-data-store"],t):"object"===typeof exports?exports.analytics=t(require("impresa-js-utils"),require("impresa-polyfills"),require("impresa-data-store")):e.Analytics=t(e["impresa-js-utils"],e["impresa-polyfills"],e["impresa-data-store"])}("undefined"!==typeof self?self:this,function(i,n,r){return function(i){var n={};function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=i,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScript=void 0,t._getDocumentMeta=function(t){var e=document.getElementsByTagName("meta");return Array.prototype.filter.call(e,function(e){return e.getAttribute("property")===t}).map(function(e){return e.getAttribute("content")})},t._getCookie=function(t){return document.cookie.split(";").map(a).find(function(e){return e.name.indexOf(t)>0})};var n,r,o=i(1),s=t.loadScript=(n=window,r=/https?\:/.test(n.location.protocol)?n.location.protocol:"https:",function(e){return o.DOM.loadScript(r+"//"+e)});function a(e){var t=e.split("=");return{name:t[0],value:t[1]}}t.default={loadScript:s}},function(e,t){e.exports=i},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default={FSERVICES:{cookieEndpoint:"//api.impresa.pt/trackercookie"},REMP:{BEAM:{url:"https://beam.remp.impresa.pt/"},CAMPAIGN:{url:"https://campaign.remp.impresa.pt/"}},CHARTBEAT:{lib:"//static.chartbeat.com/js/chartbeat.js",mab:"//static.chartbeat.com/js/chartbeat_mab.js"},HOTJAR:{lib:"//static.hotjar.com/c/hotjar-"}}},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t,i){e.exports=i(6).default},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();i(3);var r=h(i(7)),o=h(i(8)),s=h(i(9)),a=h(i(10)),l=h(i(11)),u=h(i(15)),c=h(i(16)),d=h(i(17)),f=h(i(21)),p=h(i(22));function h(e){return e&&e.__esModule?e:{default:e}}var m=[r.default,s.default,o.default,a.default,l.default,u.default,c.default,d.default,f.default,p.default].reduce(function(e,t){return e[t.NAME]=t,e},{}),g=function(){function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t.throttlingInterval&&!isNaN(parseInt(t.throttlingInterval))&&(this._throttlingInterval=t.throttlingInterval),this._analiticsBackends=Object.keys(t).filter(function(e){return!!m[e]}).map(function(e){return new m[e](t[e])})}return n(o,[{key:"init",value:function(){return o._all(this._analiticsBackends,"init")}},{key:"trackPage",value:function(e,t){var i=!0,n=+new Date,r=this._lastTrackPage?this._lastTrackPage:0;return e?(e.throttled&&this._throttlingInterval&&r+this._throttlingInterval>n&&(i=!1),i?(e.url=o.normalizeUrl(e.url),this._lastTrackPage=n,o._all(this._getBackends(t),"trackPage",e)):Promise.resolve()):Promise.reject(new Error("Missing data"))}},{key:"trackEvent",value:function(e,t){return e?(e.url=o.normalizeUrl(e.url),o._all(this._getBackends(t),"trackEvent",e)):Promise.reject(new Error("Missing data"))}},{key:"trackSocial",value:function(e,t){return e?(e.url=o.normalizeUrl(e.url),o._all(this._getBackends(t),"trackSocial",e)):Promise.reject(new Error("Missing data"))}},{key:"setUser",value:function(e,t){return o._all(this._getBackends(t),"setUser",e)}},{key:"trackTiming",value:function(e,t){return e?o._all(this._getBackends(t),"trackTiming",e):Promise.reject(new Error("Missing data"))}},{key:"trackError",value:function(e,t){return e?o._all(this._getBackends(t),"trackError",e):Promise.reject(new Error("Missing data"))}},{key:"setProperty",value:function(e,t,i){return e?o._all(this._getBackends(i),"setProperty",e,t):Promise.reject(new Error("Missing key"))}},{key:"trackClick",value:function(e,t){return e?(e.url=o.normalizeUrl(e.url),o._all(this._getBackends(t),"trackClick",e)):Promise.reject(new Error("Missing data"))}},{key:"trackCheckout",value:function(e,t){return o._all(this._getBackends(t),"trackCheckout",e)}},{key:"trackPayment",value:function(e,t){return e?e.transactionId&&void 0!==e.amount&&e.productIds?o._all(this._getBackends(t),"trackPayment",e):Promise.reject(new Error("Missing required fields")):Promise.reject(new Error("Missing data"))}},{key:"trackPurchase",value:function(e,t){return e?e.transactionId&&void 0!==e.amount&&e.productIds?o._all(this._getBackends(t),"trackPurchase",e):Promise.reject(new Error("Missing required fields")):Promise.reject(new Error("Missing data"))}},{key:"trackRefund",value:function(e,t){return e?e.transactionId&&void 0!==e.amount&&e.productIds?o._all(this._getBackends(t),"trackRefund",e):Promise.reject(new Error("Missing required fields")):Promise.reject(new Error("Missing data"))}},{key:"run",value:function(e,t){return e=t&&e||[],t=t||e,o._all(this._getBackends(e),"run",t)}},{key:"_getBackends",value:function(e){var t=void 0,i=void 0,n=void 0;if(0===(e=[].concat(e||[])).length)t=this._analiticsBackends;else{t=[];for(var r=0;r<this._analiticsBackends.length;r++){i=this._analiticsBackends[r];for(var o=0;o<e.length;o++)if((n=m[e[o]])&&i.constructor===n){t.push(i);break}}}return t}}],[{key:"normalizeUrl",value:function(e){return e&&"string"===typeof e&&e.length>0&&"/"===e.substr(-1)?e.substring(0,e.length-1):e}},{key:"_all",value:function(e,t,i){var n=(e=[].concat(e||[])).map(function(e){return o._safeCall(e,t,i)});return Promise.all(n)}},{key:"_safeCall",value:function(t,i,n){var r=this;return new Promise(function(e){r._testFunction(t,i)?e(t[i](n)):e()})}},{key:"_testFunction",value:function(e,t){return"undefined"!==typeof e[t]&&"function"===typeof e[t]}}]),o}();t.default=g},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),r=i(0);var o,s=((o=window).GoogleAnalyticsObject="ga",o.ga=o.ga||function(){(o.ga.q=o.ga.q||[]).push(arguments)},o.ga.l=1*new Date,function(){return new Promise(function(e,t){var i=setTimeout(function(){t("Google Analytics script loading timed out")},15e3);ga(function(){clearTimeout(i),e(ga)}),(0,r.loadScript)("www.google-analytics.com/analytics.js")})}),a="dimension1",l=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{},this._id=e.id,this._config=e.configObject||"auto",this._build=e.build}return n(t,[{key:"init",value:function(){return this._id?(ga("create",this._id,this._config),ga("require","displayfeatures"),this._build&&ga("set",{metric1:parseInt(this._build,10)}),s()):Promise.reject(new Error("Missing Google Analytics ID"))}},{key:"trackPage",value:function(e){var t=e.properties||{};return this._id?(e=e||{},t.page=e.url,t.title=e.title,e.errorCode&&(t[a]=""+e.errorCode),new Promise(function(e){t.hitCallback=e,ga("send","pageview",t)})):Promise.reject(new Error("Missing Google Analytics ID"))}},{key:"trackEvent",value:function(e){var t={};return this._id?(e=e||{}).category?e.action?(t.page=e.url,t.eventCategory=e.category,t.eventAction=e.action,t.eventValue=e.value&&parseInt(e.value,10),t.eventLabel=e.label,e.interaction&&(t.nonInteraction=!e.interaction),e.value&&(t.eventValue=e.value),new Promise(function(e){t.hitCallback=e,ga("send","event",t)})):Promise.reject(new Error("Missing event action")):Promise.reject(new Error("Missing event category")):Promise.reject(new Error("Missing Google Analytics ID"))}},{key:"trackSocial",value:function(e){var t={};return this._id?(e=e||{}).network?e.action?(e&&(t.socialNetwork=e.network,t.socialAction=e.action,t.socialTarget=e.url||window.location.toString()),new Promise(function(e){t.hitCallback=e,ga("send","social",t)})):Promise.reject(new Error("Missing action")):Promise.reject(new Error("Missing network")):Promise.reject(new Error("Missing Google Analytics ID"))}},{key:"setUser",value:function(e){return this._id?(ga("set","&uid",e),Promise.resolve()):Promise.reject(new Error("Missing Google Analytics ID"))}},{key:"trackTiming",value:function(e){var t=void 0;if(!this._id)return Promise.reject(new Error("Missing Google Analytics ID"));if((t=(e=e||{}).properties||{}).hitType="timing",t.timingCategory=e.category,t.timingVar=e.key,t.timingLabel=e.label,e.value){var i=parseInt(e.value,10);!isNaN(i)&&i>=0&&(t.timingValue=i)}return new Promise(function(e){t.hitCallback=e,ga("send",t)})}},{key:"trackError",value:function(e){var t=void 0;return this._id?(t={exDescription:(e=e||{}).description,exFatal:!0===e.isFatal,appName:e.appName,appVersion:e.appVersion},new Promise(function(e){t.hitCallback=e,ga("send","exception",t)})):Promise.reject(new Error("Missing Google Analytics ID"))}},{key:"setProperty",value:function(i,n){return new Promise(function(e,t){i?(ga("set",i,n),e()):t("Missing key")})}},{key:"trackClick",value:function(e){return new Promise(function(e){e()})}},{key:"run",value:function(e){return e(t.NAME,ga)}}]),t}();l.NAME="googleanalytics",t.default=l},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),o=i(4),s=(n=o)&&n.__esModule?n:{default:n},a=i(1),l=i(0);var u,c=(u=window,["gemius_hit","gemius_event","pp_gemius_hit","pp_gemius_event"].forEach(function(t){u[t]=u[t]||function(){var e=u[t+"_pdata"]=u[t+"_pdata"]||[];e[e.length]=arguments}}),function(e,t){u.pp_gemius_identifier=e,u.pp_gemius_extraparameters=Array.isArray(t)?t:new Array(t),(0,l.loadScript)("gapt.hit.gemius.pl/xgemius.js")}),d="imp-analytics-netscope",f=d+"-stamp",p=d+"-inhibit",h=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{},this._netscopeRequested=!1,this._id=e.id,this._extraparameter=e.extraparameter,this._homeparameter=e.homeparameter||"Homepage_do_site"}return r(t,[{key:"init",value:function(){return this._id?Promise.resolve():Promise.reject(new Error("Missing Netscope ID"))}},{key:"trackPage",value:function(e){var t=+new Date,i=void 0,n=void 0,r=void 0;return n=""===(n="/"===(i=e.url||"").charAt(0)?i.substr(1):i)?this._homeparameter:n,r="gA="+(this._extraparameter?this._extraparameter:n),r=e.isAMP?new Array("gemamp=1",r):r,t-(s.default.permanent.read(f)||0)>function(){var e=void 0,t=void 0;(t=a.URL.parseQueryString(document.location.hash.toString().substring(1))).ntscp?(e=parseInt(t.ntscp,10)||1e3,delete t.ntscp,document.location.hash=a.URL.addQueryParameters("",t)):(e=s.default.permanent.read(p)||1e3,s.default.permanent.remove(p));return e}()&&this._doTrackPage(this._id,r),Promise.resolve()}},{key:"_doTrackPage",value:function(e,t){var i=+new Date;this._netscopeRequested?function(e,t){try{window.pp_gemius_hit(e,t)}catch(e){"undefined"!==typeof console&&"undefined"!==typeof console.log&&console.log(e)}}(e,t):(this._netscopeRequested=!0,c(e,t)),s.default.permanent.save(f,i)}},{key:"trackEvent",value:function(e){return Promise.resolve()}},{key:"trackSocial",value:function(e){return Promise.resolve()}},{key:"setUser",value:function(e){return Promise.resolve()}},{key:"trackTiming",value:function(e){return Promise.resolve()}},{key:"trackError",value:function(e){return Promise.resolve()}},{key:"setProperty",value:function(e,t){return Promise.resolve()}},{key:"trackClick",value:function(e){return Promise.resolve()}},{key:"run",value:function(e){return e(t.NAME,{pp_gemius_cnt:window.pp_gemius_cnt,pp_gemius_event:window.pp_gemius_event,pp_gemius_extraparameters:window.pp_gemius_extraparameters,pp_gemius_hit:window.pp_gemius_hit,pp_gemius_identifier:window.pp_gemius_identifier,pp_gemius_notify:window.pp_gemius_notify})}},{key:"inhibit",value:function(){s.default.permanent.save(p,!0)}}]),t}();h.NAME="netscope",h.INHIBIT_KEY=p,t.default=h},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),r=i(0);var o,s=(o=window).fbq?Promise.resolve(o.fbq):(o.fbq=function(){o.fbq.callMethod?o.fbq.callMethod.apply(o.fbq,arguments):o.fbq.queue.push(arguments)},o._fbq=o._fbq||o.fbq,o._fbq.push=o._fbq,o._fbq.loaded=!0,o._fbq.version="2.0",o._fbq.queue=[],function(){return new Promise(function(e){(0,r.loadScript)("connect.facebook.net/en_US/fbevents.js"),e(o.fbq)})}),a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{},this._id=e.id}return n(t,[{key:"init",value:function(){return this._id?(window.fbq("init",this._id),s()):Promise.reject(new Error("Missing Facebook Pixel ID"))}},{key:"trackPage",value:function(e){var t={is_subscriber:e&&e.user&&e.user.subscriber||!1};return this._id?(this.isContentPage()&&window.fbq("track","ViewContent",t),""!=e.url&&void 0!=e.url||window.fbq("track","HomePage"),Promise.resolve()):Promise.reject(new Error("Missing Facebook Pixel ID"))}},{key:"trackEvent",value:function(e){return e?(window.fbq(e.trackType,e.eventName,e.data),Promise.resolve()):Promise.reject(new Error("Missing data"))}},{key:"trackSocial",value:function(e){return Promise.resolve()}},{key:"setUser",value:function(e){return Promise.resolve()}},{key:"trackTiming",value:function(e){return Promise.resolve()}},{key:"trackError",value:function(e){return Promise.resolve()}},{key:"setProperty",value:function(e,t){return Promise.resolve()}},{key:"trackClick",value:function(e){return Promise.resolve()}},{key:"run",value:function(e){return e(t.NAME,window.fbq)}},{key:"isContentPage",value:function(){return(0,r._getDocumentMeta)("impresa:id").length>0&&(0,r._getDocumentMeta)("impresa:type").length>0}}]),t}();a.NAME="facebookpixel",t.default=a},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),r=i(0);var o,s=((o=window).cX=o.cX||{},o.cX.callQueue=o.cX.callQueue||[],function(){return new Promise(function(e,t){(0,r.loadScript)("cdn.cxense.com/cx.js"),(0,r.loadScript)("code3.adtlgc.com/js/pmp_init.js");var i=setTimeout(function(){t("cX script loading timed out")},15e3);o.cX.callQueue.push(["invoke",function(){clearTimeout(i),e(o.cX)}])})}),a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{},this._id=e.id,this._firstPage=!0}return n(t,[{key:"init",value:function(){return this._id?s():Promise.reject(new Error("Missing Cxense ID"))}},{key:"trackPage",value:function(n){var r=this;return this._id?new Promise(function(){var e=window.cX||{};e.callQueue=e.callQueue||[],r._firstPage?r._firstPage=!1:e.callQueue.push(["initializePage"]);var t={location:document.location.href},i=n.referrer||document.referrer;i&&i!==t.location&&(t.referrer=i),e.callQueue.push(["setSiteId",r._id]),e.callQueue.push(["setCustomParameters",t]),e.callQueue.push(["sendPageViewEvent"])}):Promise.reject(new Error("Missing Cxense ID"))}},{key:"trackEvent",value:function(e){return Promise.resolve()}},{key:"trackSocial",value:function(e){return Promise.resolve()}},{key:"setUser",value:function(e){return this._id?Promise.resolve():Promise.reject(new Error("Missing Cxense ID"))}},{key:"trackTiming",value:function(e){return Promise.resolve()}},{key:"trackError",value:function(e){return Promise.resolve()}},{key:"setProperty",value:function(e,t){return Promise.resolve()}},{key:"trackClick",value:function(e){return Promise.resolve()}},{key:"run",value:function(e){return e(t.NAME,window.cX)}}]),t}();a.NAME="cxense",t.default=a},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),o=i(4),s=(n=o)&&n.__esModule?n:{default:n},a=i(12),u=i(1),l=i(0);var c="https://",d="__iaid",f=function(){function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e=e||{},this._host=e.host,this._crossStorageClient=new a.CrossStorageClient(c+e.host+"/html/index.html"),this._domain=e.domain||window.location.hostname;var t=e.pageview;this._continuousPageview=t&&void 0!==t.continuous&&t.continuous,this._bag=[],this._dispatch=g,this._throttledDispatch=u.Functions.throttle(this._dispatch,500,this)}return r(i,[{key:"init",value:function(){return"undefined"!==typeof console&&"undefined"!==typeof console.log&&console.log("Impresa-Broadcaster : init() : "+JSON.stringify({host:this._host,domain:this._domain})),Promise.resolve()}},{key:"trackPage",value:function(s){var a=this;return void 0!==this._trackPageIntervalId&&(clearTimeout(this._trackPageIntervalId),this._trackPageIntervalId=void 0),this._defaults({it:"pageview",itt:s.title,ir:s.url}).then(function(e){var t,i,n,r=p(s.getScrollPosition)?s.getScrollPosition():h();if(r&&(e.icx=r.x,e.icy=r.y),s.ping&&(e.ipg=!0),a._bag.push(e),a._throttledDispatch(),a._continuousPageview){var o=(t=a,n={title:(i=s).title,url:i.url,getScrollPosition:i.getScrollPosition,ping:!0},function(){t.trackPage(n)});a._trackPageIntervalId=setTimeout(o,8e3)}})}},{key:"trackError",value:function(e){return Promise.resolve()}},{key:"setProperty",value:function(e,t){return Promise.resolve()}},{key:"getClientId",value:function(){var e=this;return this._crossStorageClient.onConnect().then(function(){return e._crossStorageClient.get(d)}).then(function(e){var t=e||m();return s.default.permanent.save(d,t),t},function(e){var t=m();return s.default.permanent.save(d,t),t})}},{key:"trackEvent",value:function(e){var t=this;return this._defaults({it:"event",itt:e.title,ir:e.url,il:e.label,ic:e.category,ia:e.action,iv:e.value&&parseInt(e.value,10)}).then(function(e){t._bag.push(e),t._throttledDispatch()})}},{key:"trackSocial",value:function(e){var t=this;return this._defaults({it:"social",ir:e.url,in:e.network,ia:e.action}).then(function(e){t._bag.push(e),t._throttledDispatch()})}},{key:"setUser",value:function(e){return this._uuid=e,Promise.resolve()}},{key:"trackTiming",value:function(e){var t=this;return this._defaults({it:"timing",ic:e.category,ik:e.key,il:e.label,iv:e.value&&parseInt(e.value,10)}).then(function(e){t._bag.push(e),t._throttledDispatch()})}},{key:"trackClick",value:function(i){var n=this;return this._defaults({it:"click",ir:i.url,iturl:i.targetUrl}).then(function(e){var t=p(i.getScrollPosition)?i.getScrollPosition():h();t&&(e.icx=t.x,e.icy=t.y),n._bag.push(e),n._dispatch()})}},{key:"run",value:function(e){return e(i.NAME,this)}},{key:"_defaults",value:function(i){var n={ih:this._domain,its:+new Date};return this._uuid&&(n.iid=this._uuid),n.irf=document.referrer,n.ip=function(){if(!navigator)return"Unknown";var e=/iPad|iPhone/.exec(navigator.platform);if(e)return e;if(e=/ARM/.exec(navigator.platform)){var t=/Windows Phone/.exec(navigator.appVersion);return e+" "+t}if(e=/Win32|Linux/.exec(navigator.platform)){var i=/Android/.exec(navigator.appVersion);return i||((i=/Microsoft Internet Explorer/.exec(navigator.appName)||/OPR/.exec(navigator.appVersion)||/Chrome|Safari/.exec(navigator.appVersion)||/Netscape/.exec(navigator.appName))?e+" "+i:e)}return"Unknown"}(),n.idid=(0,l._getDocumentMeta)("impresa:id").pop(),n.idt=(0,l._getDocumentMeta)("impresa:type").pop(),this.getClientId().then(function(e){for(var t in n.aid=e,i=i||{})i.hasOwnProperty(t)&&(n[t]=i[t]);return n})}}]),i}();function p(e){return e&&"[object Function]"===Object.prototype.toString.apply(e)}function h(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}}function m(){var e=s.default.permanent.read(d);return e||(e=function(){var e="",t=void 0,i=void 0;for(t=0;t<32;t++)i=16*Math.random()|0,8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&i|8:i).toString(16);return e}()),e}function g(){for(var e=[],t=void 0;t=this._bag.pop();)e.push(function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="";e&&(n+=c+e);t&&(n+=t);for(var r in i=Object.assign({},i))i.hasOwnProperty(r)&&(void 0!==(o=i[r])&&"[object Object]"===Object.prototype.toString.call(o)&&(i[r]=JSON.stringify(i[r])),null===i[r]&&(i[r]="null"));var o;return u.URL.addQueryParameters(n,i)}(this._host,"/collect",t));var i=document.getElementById("impresa-analytics");i?i.innerHTML="":((i=document.createElement("div")).setAttribute("id","impresa-analytics"),i.setAttribute("style","display: none; visibility: hidden;"),i.setAttribute("class","impresa-analytics"),document.body.appendChild(i));var n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;i.appendChild(_(l))}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}function _(e){var t=document.createElement("img");return t.setAttribute("src",e),t}f.NAME="impresa",t.default=f},function(e,t,i){e.exports={CrossStorageClient:i(13),CrossStorageHub:i(14)}},function(t,i,e){!function(e){function n(e,t){var i;t=t||{},this._id=n._generateUUID(),this._promise=t.promise||Promise,this._frameId=t.frameId||"CrossStorageClient-"+this._id,this._origin=n._getOrigin(e),this._requests={},this._connected=!1,this._closed=!1,this._count=0,this._timeout=t.timeout||5e3,this._listener=null,this._installListener(),t.frameId&&(i=document.getElementById(t.frameId)),i&&this._poll(),i=i||this._createFrame(e),this._hub=i.contentWindow}n.frameStyle={display:"none",position:"absolute",top:"-999px",left:"-999px"},n._getOrigin=function(e){var t;return(t=document.createElement("a")).href=e,t.host||(t=window.location),((t.protocol&&":"!==t.protocol?t.protocol:window.location.protocol)+"//"+t.host).replace(/:80$|:443$/,"")},n._generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},n.prototype.onConnect=function(){var e=this;return this._connected?this._promise.resolve():this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):(this._requests.connect||(this._requests.connect=[]),new this._promise(function(t,i){var n=setTimeout(function(){i(new Error("CrossStorageClient could not connect"))},e._timeout);e._requests.connect.push(function(e){if(clearTimeout(n),e)return i(e);t()})}))},n.prototype.set=function(e,t){return this._request("set",{key:e,value:t})},n.prototype.get=function(e){var t=Array.prototype.slice.call(arguments);return this._request("get",{keys:t})},n.prototype.del=function(){var e=Array.prototype.slice.call(arguments);return this._request("del",{keys:e})},n.prototype.clear=function(){return this._request("clear")},n.prototype.getKeys=function(){return this._request("getKeys")},n.prototype.close=function(){var e=document.getElementById(this._frameId);e&&e.parentNode.removeChild(e),window.removeEventListener?window.removeEventListener("message",this._listener,!1):window.detachEvent("onmessage",this._listener),this._connected=!1,this._closed=!0},n.prototype._installListener=function(){var r=this;this._listener=function(e){var t,i,n;if(!r._closed&&e.data&&"string"===typeof e.data&&("null"===e.origin?"file://":e.origin)===r._origin)if("cross-storage:unavailable"!==e.data){if(-1!==e.data.indexOf("cross-storage:")&&!r._connected){if(r._connected=!0,!r._requests.connect)return;for(t=0;t<r._requests.connect.length;t++)r._requests.connect[t](i);delete r._requests.connect}if("cross-storage:ready"!==e.data){try{n=JSON.parse(e.data)}catch(e){return}n.id&&r._requests[n.id]&&r._requests[n.id](n.error,n.result)}}else{if(r._closed||r.close(),!r._requests.connect)return;for(i=new Error("Closing client. Could not access localStorage in hub."),t=0;t<r._requests.connect.length;t++)r._requests.connect[t](i)}},window.addEventListener?window.addEventListener("message",this._listener,!1):window.attachEvent("onmessage",this._listener)},n.prototype._poll=function(){var e,t,i;i="file://"===(e=this)._origin?"*":e._origin,t=setInterval(function(){if(e._connected)return clearInterval(t);e._hub&&e._hub.postMessage("cross-storage:poll",i)},1e3)},n.prototype._createFrame=function(e){var t,i;for(i in(t=window.document.createElement("iframe")).id=this._frameId,n.frameStyle)n.frameStyle.hasOwnProperty(i)&&(t.style[i]=n.frameStyle[i]);return window.document.body.appendChild(t),t.src=e,t},n.prototype._request=function(e,t){var o,s;return this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):((s=this)._count++,o={id:this._id+":"+s._count,method:"cross-storage:"+e,params:t},new this._promise(function(i,n){var r,e,t;r=setTimeout(function(){s._requests[o.id]&&(delete s._requests[o.id],n(new Error("Timeout: could not perform "+o.method)))},s._timeout),s._requests[o.id]=function(e,t){if(clearTimeout(r),delete s._requests[o.id],e)return n(new Error(e));i(t)},Array.prototype.toJSON&&(e=Array.prototype.toJSON,Array.prototype.toJSON=null),t="file://"===s._origin?"*":s._origin,s._hub.postMessage(JSON.stringify(o),t),e&&(Array.prototype.toJSON=e)}))},"undefined"!==typeof t&&t.exports?t.exports=n:i.CrossStorageClient=n}()},function(e,t,i){var l;l={init:function(e){var t=!0;try{window.localStorage||(t=!1)}catch(e){t=!1}if(!t)try{return window.parent.postMessage("cross-storage:unavailable","*")}catch(e){return}l._permissions=e||[],l._installListener(),window.parent.postMessage("cross-storage:ready","*")},_installListener:function(){var e=l._listener;window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)},_listener:function(e){var t,i,n,r,o,s,a;if(t="null"===e.origin?"file://":e.origin,"cross-storage:poll"===e.data)return window.parent.postMessage("cross-storage:ready",e.origin);if("cross-storage:ready"!==e.data){try{n=JSON.parse(e.data)}catch(e){return}if(n&&"string"===typeof n.method&&(r=n.method.split("cross-storage:")[1])){if(l._permitted(t,r))try{s=l["_"+r](n.params)}catch(e){o=e.message}else o="Invalid permissions for "+r;a=JSON.stringify({id:n.id,error:o,result:s}),i="file://"===t?"*":t,window.parent.postMessage(a,i)}}},_permitted:function(e,t){var i,n,r;if(i=["get","set","del","clear","getKeys"],!l._inArray(t,i))return!1;for(n=0;n<l._permissions.length;n++)if((r=l._permissions[n]).origin instanceof RegExp&&r.allow instanceof Array&&r.origin.test(e)&&l._inArray(t,r.allow))return!0;return!1},_set:function(e){window.localStorage.setItem(e.key,e.value)},_get:function(e){var t,i,n,r;for(t=window.localStorage,i=[],n=0;n<e.keys.length;n++){try{r=t.getItem(e.keys[n])}catch(e){r=null}i.push(r)}return i.length>1?i:i[0]},_del:function(e){for(var t=0;t<e.keys.length;t++)window.localStorage.removeItem(e.keys[t])},_clear:function(){window.localStorage.clear()},_getKeys:function(e){var t,i,n;for(n=[],i=window.localStorage.length,t=0;t<i;t++)n.push(window.localStorage.key(t));return n},_inArray:function(e,t){for(var i=0;i<t.length;i++)if(e===t[i])return!0;return!1},_now:function(){return"function"===typeof Date.now?Date.now():(new Date).getTime()}},"undefined"!==typeof e&&e.exports?e.exports=l:t.CrossStorageHub=l},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),d=i(0);i(3);var r,o=i(2),s=(r=o)&&r.__esModule?r:{default:r};var a=function(n){function e(){return new Promise(function(e,t){var i=setTimeout(function(){t("Snowplow Tracker script loading timed out")},15e3);n.snowplow(function(){clearTimeout(i),e(n.snowplow)}),(0,d.loadScript)("d2u1npnnqecmpq.cloudfront.net/WiWgNDOJ3PVjn5Mi44LjI.js")})}return n.GlobalSnowplowNamespace=n.GlobalSnowplowNamespace||[],n.GlobalSnowplowNamespace.push("snowplow"),n.snowplow=function(){(n.snowplow.q=n.snowplow.q||[]).push(arguments)},n.snowplow.q=n.snowplow.q||[],function(){return new Promise(function(e,t){var i=!1,n=setTimeout(function(){i=!0},7e3),r=setInterval(function(){i&&(clearInterval(r),t("Cross Domain Cookie script loading timeout")),window.CrossDomainCookie&&(clearTimeout(n),clearInterval(r),e())},500);(0,d.loadScript)(s.default.FSERVICES.cookieEndpoint+"/xdomain_cookie.js").then(function(){window.CrossDomainCookie=window.xDomainCookie(s.default.FSERVICES.cookieEndpoint)})}).then(e).catch(e)}}(window),l="domain-user-id";function u(e,t,i){var n,r,o,s,a,l,u=(n=i,r=(0,d._getDocumentMeta)("impresa:id").pop(),o=(0,d._getDocumentMeta)("impresa:type").pop(),s=(0,d._getDocumentMeta)("impresa:publishedDate").pop(),a=(0,d._getDocumentMeta)("impresa:locked").pop(),{schema:"iglu:pt.impresa/content/jsonschema/1-0-1",data:{contentId:r,contentType:o,contentLocation:n,publishDate:s,locked:"1"==a||"true"==a}}),c=[{schema:"iglu:pt.impresa/user/jsonschema/2-0-0",data:{userId:l=e,loggedIn:!!l}},u];return t.customContexts&&(c=c.concat(t.customContexts)),c}var c=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{},this._domain=e.domain||window.location.hostname,this._appId=e.appId,this._platform=e.platform||"web",this._trackerNamespace=e.trackerNamespace||"co",this._collectorEndpoint=e.collectorEndpoint,this._enableActivityTracking=e.enableActivityTracking||!1,this._activityTrackingTiming=e.activityTrackingTiming||8,this._enableLinkClickTracking=e._enableLinkClickTracking||!1}return n(t,[{key:"init",value:function(){if(!this._collectorEndpoint)return Promise.reject(new Error("Missing Snowplow collector endpoint"));var e={platform:this._platform,post:!0,discoverRootDomain:!1,contexts:{webPage:!0,performanceTiming:!0}};return this._appId&&(e.appId=this._appId),window.snowplow("newTracker",this._trackerNamespace,this._collectorEndpoint,e),this._enableActivityTracking&&window.snowplow("enableActivityTracking",this._activityTrackingTiming,this._activityTrackingTiming),this._enableLinkClickTracking&&window.snowplow("enableLinkClickTracking"),this.setSnowplowCookie(),a()}}]),n(t,[{key:"setSnowplowCookie",value:function(){var n=this;window.snowplow(function(){n._tracker=this[n._trackerNamespace];var i=window.CrossDomainCookie;i&&i.get(l,function(e){var t=n._tracker.getDomainUserId();e?n.replaceSnowplowDomainUserId(t,e):i.set(l,t)})})}},{key:"replaceSnowplowDomainUserId",value:function(e,t){var i=this._tracker.getCookieName("id"),n=(0,d._getCookie)(i);if(e!==t){var r=n.value.replace(e,t);document.cookie=n.name+"="+r}}},{key:"_getUserId",value:function(e){var t=void 0;return this._uuid?t=this._uuid:e.user&&e.user.userId&&(t=e.user.userId),t}},{key:"trackPage",value:function(i){var n=this._domain,r=this._getUserId(i);return new Promise(function(e){var t=u(r,i,n);window.snowplow(function(){window.snowplow("trackPageView",null,t),e()})})}},{key:"trackEvent",value:function(i){var n=this._domain,r=this._getUserId(i);return new Promise(function(e){var t=u(r,i,n);window.snowplow(function(){window.snowplow("trackStructEvent",i.category,i.action,i.label,i.property,i.value,t),e()})})}},{key:"trackSocial",value:function(e){return Promise.resolve()}},{key:"setUser",value:function(t){return this._uuid=t,new Promise(function(e){window.snowplow(function(){window.snowplow("setUserId",t),e()})})}},{key:"trackTiming",value:function(e){return Promise.resolve()}},{key:"trackError",value:function(e){return Promise.resolve()}},{key:"setProperty",value:function(e,t){return Promise.resolve()}},{key:"trackClick",value:function(t){return new Promise(function(e){window.snowplow(function(){window.snowplow("trackLinkClick",t.targetUrl),e()})})}},{key:"run",value:function(e){return e(t.NAME,window.snowplow)}}]),t}();c.NAME="snowplow",t.default=c},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),r=i(0);var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._scriptId=e.id}return n(t,[{key:"init",value:function(){return this._loadInside(this._scriptId)}},{key:"_loadInside",value:function(e){return(0,r.loadScript)("eu2-track.inside-graph.com/gtm/"+e+"/include.js").then(function(){return new Promise(function(e,t){var i=!1,n=setTimeout(function(){i=!0},7e3),r=setInterval(function(){i&&(clearInterval(r),t("Inside Tag script loading timeout")),window.insideAPI&&(clearTimeout(n),clearInterval(r),e(window.insideAPI))},500)})})}},{key:"trackPage",value:function(e){return Promise.resolve()}},{key:"trackEvent",value:function(e){return Promise.resolve()}},{key:"trackSocial",value:function(e){return Promise.resolve()}},{key:"trackTiming",value:function(e){return Promise.resolve()}},{key:"trackError",value:function(e){return Promise.resolve()}},{key:"trackClick",value:function(e){return Promise.resolve()}},{key:"setUser",value:function(e){return this._uuid=e,new Promise.resolve}},{key:"setProperty",value:function(e,t){return Promise.resolve()}},{key:"run",value:function(e){return e(t.NAME,window.insideAPI)}}]),t}();o.NAME="inside",t.default=o},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),o=i(0);i(3);var s=u(i(2)),r=u(i(18)),a=u(i(19)),l=i(1);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{},this._beamToken=e.token,this._ssoToken=e.ssoToken,this._trackerUrl=e.trackerUrl,this._campaignUrl=e.campaignUrl,this._cookieDomain=e.cookieDomain||null,this._timeSpentEnabled="undefined"===typeof e.timeSpentEnabled||e.timeSpentEnabled}return n(t,[{key:"init",value:function(){return this._beamToken?this._trackerUrl?Promise.resolve():Promise.reject(new Error("Missing Tracker endpoint")):Promise.reject(new Error("Missing Beam property token"))}},{key:"_getUserId",value:function(e){var t=void 0;return this._uuid?t=this._uuid:e.user&&e.user.userId&&(t=e.user.userId),t}},{key:"_isUserSubscriber",value:function(e){return e.user&&e.user.entitlements&&e.user.entitlements.expresso&&e.user.entitlements.expresso.semanario||!1}},{key:"_startBeam",value:function(e){var t=this;if(this._rempConfig)return Promise.resolve();this._rempConfig={token:this._beamToken,userId:this._getUserId(e),userSubscribed:this._isUserSubscriber(e),cookieDomain:this._cookieDomain,tracker:{url:this._trackerUrl,timeSpentEnabled:this._timeSpentEnabled},campaign:{url:this._campaignUrl}};var i=this._buildArticle();return i&&(this._rempConfig.article=i,this._rempConfig.campaign.bannerUrlParams={id:function(){return i.id},article_id:function(){return i.article_id},author_id:function(){return i.author_id},category:function(){return i.category},locked:function(){return 1==i.locked}}),function(){function r(e){return function(){this._.push([e,arguments])}}window.remplib=window.remplib||{};var o={campaign:"init",tracker:"init trackEvent trackPageview trackCommerce trackCheckoutWithSource trackPaymentWithSource trackPurchaseWithSource trackRefundWithSource",iota:"init"};return Object.keys(o).forEach(function(e){if(!window.remplib[e]){var t,i,n=o[e].split(" ");for(window.remplib[e]={_:[]},i=0;i<n.length;i++)t=n[i],window.remplib[e][t]=r(t)}}),Promise.all([l.DOM.loadScript(s.default.REMP.BEAM.url+"assets/lib/js/remplib.js"),l.DOM.loadScript(s.default.REMP.CAMPAIGN.url+"assets/lib/js/remplib.js")])}().then(function(){window.remplib.tracker.init(t._rempConfig),window.remplib.campaign.init(t._rempConfig)})}},{key:"_buildArticle",value:function(){var e=window.location.host+window.location.pathname,t=(0,o._getDocumentMeta)("impresa:category").pop(),i=(0,o._getDocumentMeta)("impresa:locked").pop(),n=this._getDocumentMetaWithDefault("impresa:id",e),r=this._getDocumentMetaWithDefault("impresa:author","NO AUTHOR");return n&&n.length>0?{id:n,article_id:n,author_id:r,category:t,locked:1==i}:null}},{key:"_getDocumentMetaWithDefault",value:function(e,t){var i=(0,o._getDocumentMeta)(e).pop();return i||t}},{key:"trackPage",value:function(e){return this._startBeam(e)}},{key:"trackEvent",value:function(e){return this._startBeam(e).then(function(){window.remplib.tracker.trackEvent(e.category,e.action)})}},{key:"trackClick",value:function(e){return this._startBeam(e).then(function(){window.remplib.tracker.trackEvent("click",e.targetUrl)})}},{key:"trackCheckout",value:function(t){return this._startBeam(t).then(function(){var e=t.funnelId||"default";window.remplib.tracker.trackCheckoutWithSource(e,t.article,t.source)})}},{key:"trackPayment",value:function(e){return this._startBeam(e).then(function(){e.currency=e.currency||"EUR",window.remplib.tracker.trackPaymentWithSource(e.transactionId,e.amount,e.currency,e.productIds,e.article,e.source)})}},{key:"trackPurchase",value:function(t){var i=this;return this._startBeam(t).then(function(){t.currency=t.currency||"EUR",window.remplib.tracker.trackPurchaseWithSource(t.transactionId,t.amount,t.currency,t.productIds,t.article,t.source);var e=new r.default(t.transactionId,t.article.id,t.amount,t.currency,t.user.userId);(0,a.default)(i._ssoToken,e)})}},{key:"trackRefund",value:function(e){return this._startBeam(e).then(function(){e.currency=e.currency||"EUR",window.remplib.tracker.trackRefundWithSource(e.transactionId,e.amount,e.currency,e.productIds,e.article,e.source)})}},{key:"run",value:function(e){return e(t.NAME,window.remplib)}}]),t}();c.NAME="beam",t.default=c},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,n,r){var o=new Date,s=o.getTimezoneOffset()/60*-1,a=s<10?"0"+s:s,l=o.toISOString().replace("Z","")+"+"+a+":00";return{conversions:[{article_external_id:t=decodeURIComponent(t),transaction_id:e,amount:i,currency:n,paid_at:l,user_id:r}]}}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var i=r.default.REMP.BEAM.url+"api/conversions/upsert",n=new o.default("POST",e,t);fetch(i,n)};var r=n(i(2)),o=n(i(20));function n(e){return e&&e.__esModule?e:{default:e}}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){var n="application/json",r=new Headers;return r.append("Content-Type",n),r.append("Accept",n),r.append("Authorization","Bearer "+t),{mode:"cors",method:e,headers:r,body:JSON.stringify(i)}}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),r=i(0);i(3);var o,s=i(2),a=(o=s)&&o.__esModule?o:{default:o},l=i(1);var u=(window,function(){return Promise.all([l.DOM.loadScript(a.default.CHARTBEAT.lib),l.DOM.loadScript(a.default.CHARTBEAT.mab)])}),c=function(){function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=window._sf_async_config=window._sf_async_config||{};t.uid=e.uid,t.domain=e.domain||window.location.origin.split("//")[1],t.flickerControl=!1,t.useCanonical=e.useCanonical,t.useCanonicalDomain=!0,t.sections=(0,r._getDocumentMeta)("impresa:category").pop(),t.authors=(0,r._getDocumentMeta)("impresa:author").pop()}return n(i,[{key:"init",value:function(){return window._sf_async_config.uid?Promise.resolve():Promise.reject(new Error("Missing chartbeat account uid!"))}},{key:"trackPage",value:function(e){var t=window._cbq=window._cbq||[];return e&&e.user.userId?e.user.subscriber?t.push(["_acct","paid"]):t.push(["_acct","lgdin"]):t.push(["_acct","anon"]),u()}},{key:"run",value:function(e){return e(i.NAME,window._sf_async_config)}}]),i}();c.NAME="chartbeat",t.default=c},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),o=i(2),s=(n=o)&&n.__esModule?n:{default:n},a=i(1);var l,u,c=(l=window,(u=l).hj=u.hj||function(){(u.hj.q=u.hj.q||[]).push(arguments)},function(e){return Promise.all([a.DOM.loadScript(s.default.HOTJAR.lib+e+".js")])}),d=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{},this._id=e.id}return r(t,[{key:"init",value:function(){return this._id?(window._hjSettings={hjid:this._id,hjsv:5},Promise.resolve()):Promise.reject(new Error("Missing Hotjar ID"))}},{key:"trackPage",value:function(e){return this._id?c(this._id):Promise.reject(new Error("Missing Hotjar ID"))}},{key:"run",value:function(e){return e(t.NAME,window.hj)}}]),t}();d.NAME="hotjar",t.default=d}])}),define("parts/trackr",["require","sys/bus","sys/store","analytics","parts/config"],function(e){var i,n=e("sys/bus"),o=e("sys/store"),t=e("analytics"),s=e("parts/config"),r="imp-trackr",a={CATEGORY:{LIST:"Listagem",VIDEO_PLAYER:"Player Video",PLAYLIST:"Playlist",SEARCH:"Pesquisa",ADS:"Pub",GALLERY:"Fotogaleria"},ACTION:{CLICK_PLAY_VIDEO:"Click Play Video",MORE_ARTICLES:"Mais Artigos",NEXT_VIDEO:"Proximo Video",FIRST_VIDEO:"Primeiro Video",PLAY_VIDEO:"Play Video",VIDEO_END:"End",SEEK:"Seek",FIRST_QUARTILE:"First Quartile",MIDPOINT:"Midpoint",THIRD_QUARTILE:"Third Quartile"},SOCIAL_NETWORKS:{TWITTER:"twitter",FACEBOOK:"facebook"},SOCIAL_ACTIONS:{TWEET:"tweet",LIKE:"like",UNLIKE:"unlike"},ADS:{BLOCKED:"Ads Blocked"},GALLERY:{SLIDE_CHANGED:"Slide Changed"}},l=new t(s.ANALYTICS);function u(){b(["snowplow","chartbeat","cxense","beam"])}function c(e){var t;console.log("[%s] Detected user login",r),(t=(t=e)||{}).uuid&&i!==t.uuid?(console.log("[%s] user is logged in, updating info",r),i=t.uuid,l.setUser(t.uuid)):t.uuid||(i=void 0)}function d(){console.log("[%s] Detected user logout",r),l.setUser(null)}function f(e){var t=parseInt(e.count,10);console.debug("[%s] Lazy load: url: %s, page %d",r,e.url,t),l.trackEvent({category:"page",action:"load",label:e.url,value:isNaN(t)?void 0:t})}function p(e){var t=e&&e.meta||{};console.debug("[%s] Video started",r,e.meta),l.trackEvent({url:document.location.pathname,category:a.CATEGORY.VIDEO_PLAYER,action:a.ACTION.PLAY_VIDEO,label:t.label,extraParameters:t})}function h(e){var t=e&&e.meta||{};console.debug("[%s] Video ended",r,e.meta),l.trackEvent({url:document.location.pathname,category:a.CATEGORY.VIDEO_PLAYER,action:a.ACTION.VIDEO_END,label:t.label,extraParameters:t})}function m(e){var t=e&&e.meta||{};console.debug("[%s] Video seeked",r,e.meta),l.trackEvent({url:document.location.pathname,category:a.CATEGORY.VIDEO_PLAYER,action:a.ACTION.SEEK,label:t.label,extraParameters:t})}function g(e){var t=e&&e.meta||{};console.debug("[%s] Video Q1",r,e.meta),l.trackEvent({url:document.location.pathname,category:a.CATEGORY.VIDEO_PLAYER,action:a.ACTION.FIRST_QUARTILE,label:t.label,extraParameters:t})}function _(e){var t=e&&e.meta||{};console.debug("[%s] Video midpoint",r,e.meta),l.trackEvent({url:document.location.pathname,category:a.CATEGORY.VIDEO_PLAYER,action:a.ACTION.MIDPOINT,label:t.label,extraParameters:t})}function v(e){var t=e&&e.meta||{};console.debug("[%s] Video Q3",r,e.meta),l.trackEvent({url:document.location.pathname,category:a.CATEGORY.VIDEO_PLAYER,action:a.ACTION.THIRD_QUARTILE,label:t.label,extraParameters:t})}function y(e){e=e||{};var t=isNaN(e.currentSlideIndex)?-1:e.currentSlideIndex;console.log("[%s] Detected slide change. Current index: %i",r,t),e.meta&&e.meta.netscope&&l.trackPage({url:document.location.pathname,title:document.title,throttled:!0}),l.trackEvent({url:e.url||document.location.pathname,category:a.CATEGORY.GALLERY,action:a.GALLERY.SLIDE_CHANGED,label:"Slide: "+t},["googleanalytics"])}function b(e){var t;l.trackPage({title:document.title,url:document.location.pathname,user:(t=o.session.read(s.KEYS.USER)||{},{userId:t.uuid,subscriber:t.user&&t.user.entitlements&&t.user.entitlements.expresso&&t.user.entitlements.expresso.semanario||!1,entitlements:t.user&&t.user.entitlements,extended:t})},e)}return function(){l.init().then(function(){var n;(n=s.ANALYTICS&&s.ANALYTICS.cxense)&&n.segmentsQueryId&&l.run("cxense",function(e,t){var i=t.getUserSegmentIds({persistedQueryId:n.segmentsQueryId});o.permanent.save(s.KEYS.SEGMENT_DATA,i)})});var e,t=o.session.read(s.KEYS.USER);t&&c(t),n.subscribe({topic:n.TOPICS.USER.LOGIN,callback:c}),n.subscribe({topic:n.TOPICS.USER.LOGOUT,callback:d}),n.subscribe({topic:n.TOPICS.USER.AUTHENTICATION,callback:u}),n.subscribe({topic:n.TOPICS.PAGE.LOADED,callback:f}),n.subscribe({topic:n.TOPICS.VIDEO.STARTED,callback:p}),n.subscribe({topic:n.TOPICS.VIDEO.ENDED,callback:h}),n.subscribe({topic:n.TOPICS.VIDEO.SEEKED,callback:m}),n.subscribe({topic:n.TOPICS.VIDEO.FIRST_QUARTILE,callback:g}),n.subscribe({topic:n.TOPICS.VIDEO.MIDPOINT,callback:_}),n.subscribe({topic:n.TOPICS.VIDEO.THIRD_QUARTILE,callback:v}),n.subscribe({topic:n.TOPICS.GALLERY.SLIDE_CHANGED,callback:y}),(e=document.createElement("div")).innerHTML="&nbsp;",e.className="adslot",document.body.appendChild(e),window.setTimeout(function(){0===e.offsetHeight&&(document.body.classList.add("adblock"),l.trackEvent({url:document.location.pathname,category:a.CATEGORY.ADS,action:a.ADS.BLOCKED,label:a.ADS.BLOCKED},["googleanalytics"])),e.parentNode.removeChild(e)},100)}(),{trackPage:function(){b(["googleanalytics","netscope","impresa","facebookpixel","hotjar"])},trackEvent:function(e,t,i,n){var r=o.session.read(s.KEYS.USER);l.trackEvent({url:e,category:t,action:i,label:n?n.label:void 0,extraParameters:n,userId:r&&r.uuid})},trackSocial:function(e,t,i){var n=o.session.read(s.KEYS.USER);l.trackSocial({url:e,socialNetwork:t,socialAction:i,userId:n&&n.uuid})},trackClick:function(e){var t=o.session.read(s.KEYS.USER);(e=e||{}).userId=t&&t.uuid,l.trackClick(e)},run:function(e,t){l.run(e,t)},EVENTS:a}}),define("parts/twitter",["require","widgets/base","twitter"],function(e){var i=e("widgets/base"),t=e("twitter"),n="imp-expresso-twitter",r=!1;function o(e,t){i.call(this,n,e)}return t.ready(function(e){r=!0}),o.prototype=Object.create(i.prototype),o.init=function(e,t){return i.init(e,n,o,t)},o.start=function(e,t){return i.start(e,n,o,t)},o.prototype.start=function(){r&&t.widgets.load(this._$element[0])},o.prototype.stop=function(){},o}),define("parts/facebook",["require","facebook","widgets/base"],function(e){var t=e("facebook"),i=e("widgets/base"),n="imp-expresso-facebook";function r(e,t){i.call(this,n,e)}return t.init({version:"v2.3"}),r.prototype=Object.create(i.prototype),r.init=function(e,t){return i.init(e,n,r,t)},r.start=function(e,t){return i.start(e,n,r,t)},r.prototype.start=function(){t.XFBML.parse(this._$element[0])},r.prototype.stop=function(){},r}),define("parts/instagram",["require","lodash","widgets/base","instagram"],function(e){var t=e("lodash"),i=e("widgets/base"),n=e("instagram"),r="imp-expresso-instagram",o=t.debounce(function(){n.Embeds.process()},1e3);function s(e,t){i.call(this,r,e)}return s.prototype=Object.create(i.prototype),s.init=function(e,t){return i.init(e,r,s,t)},s.start=function(e,t){return i.start(e,r,s,t)},s.prototype.start=function(){o()},s.prototype.stop=function(){},s}),define("parts/disqus-comments",["require","lodash","jquery","sys/bus","widgets/base","sys/store","parts/config"],function(e){var i,n=e("lodash"),t=e("jquery"),r=e("sys/bus"),o=e("widgets/base"),s=e("sys/store"),a=e("parts/config"),l="imp-disqus-comments",u=0,c={SSO:{name:"Impresa",button:"",width:"900",height:"500"},PUBKEY:""},d=!1;function f(e,t){o.call(this,l,e),f.setup(t=t||{}),this._shortname=t.shortname,this._title=t.title,this._identifier=t.identifier,this._canonicalUrl=t.canonicalUrl,this._onAfterRender=n.debounce(this._onAfterRender,60),this._onAfterRender=n.bind(this._onAfterRender,this),this._resetDisqus=n.bind(this._resetDisqus,this),this._onReady=n.bind(this._onReady,this),this._onLogin=n.bind(this._onLogin,this),this._onLogout=n.bind(this._onLogout,this),this._id=this._$element.attr("id"),this._id||(this._id=l+"_"+u++,this._$element.attr("id",this._id))}return f.prototype=Object.create(o.prototype),f.init=function(e,t){return o.init(e,l,f,t)},f.start=function(e,t){return o.start(e,l,f,t)},f.setup=n.once(function(e){c.SSO.icon=e.ssoBaseUrl+"/favicon.png",c.SSO.url=e.ssoBaseUrl+"/ui/login?domainCode="+e.domainCode+"&redirectUrl="+encodeURIComponent(e.ssoRedirectUrl),c.SSO.logout=e.ssoBaseUrl+"/ui/logout?domainCode="+e.domainCode+"&redirectUrl="+encodeURIComponent(e.canonicalUrl),c.PUBKEY=e.publicKey}),f.prototype.start=function(){i=s.session.read(a.KEYS.USER),window.disqus_shortname=this._shortname,window.disqus_identifier=this._identifier,window.disqus_title=this._title,window.disqus_url=this._canonicalUrl,window.disqus_config=this._disqus_config=this._buildConfig(),console.log("[%s] disqus_shortname=%s,disqus_identifier=%s,disqus_title=%s,disqus_url=%s",l,window.disqus_shortname,window.disqus_identifier,window.disqus_title,window.disqus_url),r.subscribe({topic:r.TOPICS.USER.LOGIN,callback:this._onLogin}),r.subscribe({topic:r.TOPICS.USER.LOGOUT,callback:this._onLogout}),function(){if("DISQUS"in window||"disqus"in window)return;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+window.disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()},f.prototype.stop=function(){r.unsubscribe({topic:r.TOPICS.USER.LOGIN,callback:this._onLogin}),r.unsubscribe({topic:r.TOPICS.USER.LOGOUT,callback:this._onLogout})},f.prototype._onAfterRender=function(){t(window).trigger("resize")},f.prototype._buildConfig=function(){var t=this,e=!1;return function(){i?(console.log("[%s] Configuring disqus with user "+i.disqusPayload,l),this.page.remote_auth_s3=i.disqusPayload,this.page.api_key=c.PUBKEY,this.callbacks.onReady=n.filter(this.callbacks.onReady,function(e){return e!==t._onReady})):(console.log("[%s] Configuring disqus without user",l),this.callbacks.onReady.push(t._onReady),this.page.remote_auth_s3="",this.page.api_key=""),this.sso=c.SSO,e||(this.callbacks.afterRender.push(t._onAfterRender),this.callbacks.onNewComment.push(t._onAfterRender),e=!0)}},f.prototype._onReady=function(){console.log("[%s] Disqus ready",l),i&&this._resetDisqus(),d=!0},f.prototype._resetDisqus=function(){DISQUS.reset({reload:!0,config:this._disqus_config})},f.prototype._onLogin=function(e){console.log("[%s] Detected user login",l),e&&e.disqusPayload&&(console.log("[%s] Disqus Payload: "+e.disqusPayload,l),i=e,d&&this._resetDisqus())},f.prototype._onLogout=function(){console.log("[%s] Detected user logout",l),window.DISQUS&&window.DISQUS.reset&&(i=void 0,this._resetDisqus())},f}),define("parts/collapse",["require","widgets/base","lodash"],function(e){var i=e("widgets/base"),n=e("lodash"),r="imp-expresso-collapse";function o(e,t){i.call(this,r,e),this._options=t||{},this._onClick=n.bind(this._onClick,this),this._openClassName=t.openClassName||"js-collapse-open",this._closedClassName=t.closedClassName||"js-collapse-close",this._triggerSelector=t.triggerSelector,this._targetSelector=t.targetSelector||".js-collapse-target",this._onOpen=t.onOpen||function(){},this._onClose=t.onClose||function(){}}return o.prototype=Object.create(i.prototype),o.init=function(e,t){return i.init(e,r,o,t)},o.start=function(e,t){return i.start(e,r,o,t)},o.prototype.start=function(){this._triggerSelector?this._$element.on("click",this._triggerSelector,this._onClick):this._$element.on("click",this._onClick),this._$target=this._$element.find(this._targetSelector),this._isOpen=this._$target.is(":visible"),this._$element.toggleClass(this._openClassName,this._isOpen),this._$element.toggleClass(this._closedClassName,!this._isOpen)},o.prototype.stop=function(){this._triggerSelector?this._$element.off("click",this._triggerSelector,this._onClick):this._$element.off("click",this._onClick)},o.prototype.toggle=function(){return!!this._$target.length&&(this._isOpen=!this._isOpen,this._$element.toggleClass(this._openClassName,this._isOpen),this._$element.toggleClass(this._closedClassName,!this._isOpen),this._isOpen?this._onOpen.call(this):this._onClose.call(this),!0)},o.prototype._onClick=function(e){this.toggle()&&e.preventDefault()},o}),define("parts/request-feed",["require","sys/polyfills","widgets/base","sys/bus","jquery","lodash","widgets/visibility-checker","sys/utils","moment","moment.pt"],function(e){e("sys/polyfills");var i=e("widgets/base"),u=e("sys/bus"),c=e("jquery"),o=e("lodash"),t=e("widgets/visibility-checker"),d=e("sys/utils"),n=e("moment");e("moment.pt");var r="imp-expresso-request-feed";function s(e,t){i.call(this,r,e),this._request=t.request,this._auto=void 0!==t.auto&&t.auto,this._url=t.url||this._$element.attr("data-href"),this._parentSelector=t["parent-selector"],this._refresh=t.refreshElement||c(this._parentSelector).find(".js-refresh-toggle").is(":checked"),this._limit=t.limit||10,this._directContainer=t.directContainer||"directoContainer",this._$date="",this._$headerMenu=".js-mainHeader",this._$newEntryCount=0,this._$newEntryBtn=t["new-entry-btn"]||".js-new-entries",this._$highLightsListContainer=c(".highlightsKeysList"),this._offsetAttribute=t["offset-attribute"]||"cursor",this._$contentContainer=this._$element.find(t["container-selector"]),this._$contentContainer.length||(this._$contentContainer=this._$element.append('<div class="js-container"></div>')),this._isHighlight=t.isHighlight,this._isHighlight&&(this._keepVisible=t.keepVisible),this._isDESC=!1,this._loaderSelector=t["loader-selector"],this._moreSelector=t["more-selector"],this._errorTemplate=t.errorTemplate||'<p class="load-error">Ocorreu um erro a carregar conteúdos</p>',this._onClick=o.bind(this._onClick,this),this._onVisible=o.bind(this._onVisible,this),this._setIntervalOnStream=o.bind(this._setIntervalOnStream,this),this._onChange=o.bind(this._onChange,this),this._onClickBtnNewEntry=o.bind(this._onClickBtnNewEntry,this)}function a(e,t){return t=o.isNumber(t)?t:1,n().diff(e,"hours",!0)<=t}function l(e){return n().isSame(e,"d")}function f(e){var t;return a(e)?"Atualizado "+e.fromNow():l(e)?"Atualizado "+e.startOf("seconds").fromNow():(t=e,n().subtract(1,"d").isSame(t,"d")?e.format("[Ontem às] HH[h]mm"):e.format("[Atualizado às] HH[h]mm [do dia] DD.MM.YYYY"))}function p(){var t,i;console.log("update times"),o.map(c(".js-relative-time"),function(e){e=c(e),(t=e.attr("datetime"))&&(t=n(t)).isValid()&&(e.hasClass("update")?e.text(f(t)):i=a(t)?t.fromNow():l(t)?t.format("HH[h]mm"):t.format("DD.MM.YYYY"),e.text(i))})}return s.prototype=Object.create(i.prototype),s.init=function(e,t){return i.init(e,r,s,t)},s.start=function(e,t){return i.start(e,r,s,t)},s.prototype.start=function(){var e=this._$element.attr("id");this._count=0,this._id=e,this._loaderAndMore(!0),this._onVisible(),this._auto&&(this._visibilityChecker=t.init(this._$more,{onVisible:this._onVisible}).pop(),this._visibilityChecker.start()),c(this._parentSelector).find(".js-refresh-toggle").on({change:this._onChange}),c(this._parentSelector).find(this._$newEntryBtn).on({click:this._onClickBtnNewEntry}),window.setInterval(p,6e4)},s.prototype._changeDate=function(e){var t;(t=c("."+this._directContainer).find(".update")).attr("datetime",e),e&&(e=n(e)).isValid()&&t.text(f(e))},s.prototype._loaderAndMore=function(e){e?(this._loaderSelector||this._$element.append('<div class="loading js-loader" style="text-align: center; display: none;">loading...</div>'),this._$loader=this._$element.find(this._loaderSelector||".js-loader"),this._$loader.hide(),this._moreSelector||this._$element.append('<button class="js-more" style="display: none;">Mais Artigos</button>'),this._$more=this._$element.find(this._moreSelector||".js-more"),this._$more.on("click",this._onClick),this._$more.show()):(this._loaderSelector&&this._$loader.remove(),this._moreSelector&&this._$more.remove(),this._visibilityChecker&&(this._visibilityChecker.stop(),this._visibilityChecker=void 0))},s.prototype.update=function(e,t){var o,s,a=this;c(".entriesContainer");if(!this._loading){this._loading=!0,this._count++,o=this._sort(e,t),s=d.url.addQueryParameters(this._url,o),this._displayLoader();var l=function(){a._hideLoader(),a._loading=!1};return fetch(s).then(function(e){if(e.ok)return 1==a._count&&a._setIntervalOnStream(a._refresh),e.text();var t=new Error("Network Error. Status: "+(e.statusText||e.status));throw t.status=e.status,t.statusText=e.statusText,t}).then(function(e){var t,i;if(l(),t=c(e),!a._isHighlight&&t.filter("article").length>0)i=t.filter("input"),t=t.filter("article"),a._$date=i.attr("datetime"),a._changeDate(a._$date);else if(a._isHighlight){if(t.filter("ul").children().length>0){var n=!0,r=t.clone().children();0==a._$highLightsListContainer.children().length&&r.length>0&&(r.each(function(){c(this).find("a").attr("href","javascript:undefined")}),a._$highLightsListContainer.append(r))}0!=a._$highLightsListContainer.children().length||a._keepVisible?c(a._parentSelector).removeClass("contentStreamNoLeft"):c(a._parentSelector).addClass("contentStreamNoLeft")}t.length>0&&(a._display(t),a.trigger("content-loaded"),u.publish({topic:u.TOPICS.PAGE.LOADED,data:{url:s,options:o,el:"#"+a._id,count:a._count}}),a._visibilityChecker&&a._visibilityChecker.update(!0)),n?t.children().length==a._limit?a._end(!0):a._isDESC&&t.children().length!=a._limit&&a._end(!1):t.length==a._limit?a._end(!0):a._isDESC&&t.length!=a._limit&&a._end(!1)}).catch(function(){l(),console.error('[%s] Error loading content for url "%s"',r,s),a._$element.after(a._errorTemplate),a._end(!1),a._setIntervalOnStream(!1),u.publish({topic:u.TOPICS.PAGE.LOAD_ERROR,data:{url:s,options:o,el:"#"+a._id,count:a._count}})})}},s.prototype._end=function(e){var t=this,i=e;this._$more.fadeOut(function(){t.stop(i)})},s.prototype.stop=function(e){this._$more.off("click",this._onClick),this._loaderAndMore(e)},s.prototype._onChange=function(){this._refresh=c(this._parentSelector).find(".js-refresh-toggle").is(":checked"),this._setIntervalOnStream(this._refresh)},s.prototype._onClickBtnNewEntry=function(){c("html, body").animate({scrollTop:c(this._parentSelector).offset().top-c(this._$headerMenu).outerHeight(!0)}),this._$newEntryCount=0,c(this._$newEntryBtn).fadeOut()},s.prototype._setIntervalOnStream=function(e){var t=this;e?this._setInterval=window.setInterval(function(){t.update(!1,t._getOffsetFirst())},2e4):window.clearInterval(this._setInterval)},s.prototype._getOffset=function(){return this._$contentContainer.find("[data-"+this._offsetAttribute+"]").last().attr("data-"+this._offsetAttribute)},s.prototype._getOffsetFirst=function(){return this._$contentContainer.find("[data-"+this._offsetAttribute+"]").first().attr("data-"+this._offsetAttribute)},s.prototype._display=function(e){var t=c(window).scrollTop();if(e.css("display","none"),this._isHighlight){var i=(e=e.filter("ul")).clone();e.children().length>0&&1!=e.children().length?this._$contentContainer.append(e):1!=e.children().length||this._isDESC?1==e.children().length&&this._isDESC&&this._$contentContainer.append(e):(this._$contentContainer.prepend(e),this._$highLightsListContainer.prepend(i.children()))}else e.length>0&&1!=e.length?this._$contentContainer.append(e):1!=e.length||this._isDESC?1==e.length&&this._isDESC&&this._$contentContainer.append(e):(this._$contentContainer.prepend(e),this._scrollPositionEntries(t));e.fadeIn()},s.prototype._scrollPositionEntries=function(e){var t=c(this._$newEntryBtn),i=window.scrollY,n=this._$contentContainer.parent().offset().top;c(window).scrollTop(e),i>=n&&(this._$newEntryCount++,this._$newEntryCount>1?t.text(this._$newEntryCount.toString()+" Novas Notícias"):t.text(this._$newEntryCount.toString()+" Nova Notícia"),t.fadeIn())},s.prototype._sort=function(e,t){var i,n=this._$contentContainer,r={};return e?(r={sort:"index_desc",limit:this._limit},this._isDESC=!0):(r={sort:"index_asc",limit:this._limit},this._isDESC=!1),n.children().length>0&&(t?o.assign(r,{cursor:t}):o.assign(r,{cursor:this._getOffset()})),i=d.url.addQueryParameters(this._url,r),this._$element.attr("data-href",i),this._request=r},s.prototype._onClick=function(e){e.preventDefault(),this.update(!0)},s.prototype._onVisible=function(){this.update(!0)},s.prototype._displayLoader=function(){this._$loader.fadeIn()},s.prototype._hideLoader=function(){this._$loader.fadeOut()},s.prototype._showMore=function(){this._$more.fadeIn()},s.prototype._hideMore=function(){this._$more.fadeOut()},s}),define("parts/ads-setup",["require","lodash","ipub","sys/store","parts/config"],function(e){var t=e("lodash"),i=e("ipub"),n=e("sys/store"),r=e("parts/config");function o(){var e=n.permanent.read(r.KEYS.SEGMENT_DATA);return t.extend({},window.ImpresaAdTargeting||{},{cxsegment:e,blsegment:function(){var e=n.session.read(r.KEYS.USER);if(e&&e.user&&e.user.segments)return e.user.segments.map(s)}()})}function s(e){return e.segmentName.concat("-").concat(e.groupName)}return{run:function(e){e.target=o(),i.setup(r.ADS,e)},getTargetingInfo:o}}),define("parts/access-controller",["require","sys/bus","user"],function(e){var t,i=e("sys/bus"),n=e("user"),r="imp-access-controller";function o(e){(e=e||{}).uuid&&t!==e.uuid?(console.log("[%s] user is logged in, updating info",r),t=e.uuid,window.location.reload()):e.uuid||(t=void 0)}return{init:function(){var e=n.getUserDetails();t=e&&e.uuid,i.subscribe({topic:i.TOPICS.USER.LOGIN,callback:o})}}}),define("parts/cmp",["require","widgets/base"],function(e){var r=e("widgets/base"),o="imp-expresso-cmp";function i(e,t){r.call(this,o,e),t=t||{},this.groupHostedCookieAccessUrl=t.groupHostedCookieAccessUrl,this.cookiePolicyUrl=t.cookiePolicyUrl,this.privacyPolicyUrl=t.privacyPolicyUrl,this.consentLinkContainerSelector=t.consentLinkContainerSelector;var i=document.createElement("script");i.src="https://quantcast.mgr.consensu.org/cmp.js",i.async=!0,i.type="text/javascript";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n),function(){function e(n){var e,r="string"===typeof n.data;if((e=r?-1!==n.data.indexOf("__cmpCall")?JSON.parse(n.data):{}:n.data).__cmpCall){var o=e.__cmpCall;window.__cmp(o.command,o.parameter,function(e,t){var i={__cmpReturn:{returnValue:e,success:t,callId:o.callId}};n.source.postMessage(r?JSON.stringify(i):i,"*")})}}!function e(){if(!window.frames.__cmpLocator)if(document.body){var t=document.body,i=document.createElement("iframe");i.style="display:none",i.name="__cmpLocator",t.appendChild(i)}else setTimeout(e,5)}(),window.__cmp=function(e){var t=arguments;if(!t.length)return window.__cmp.a;if("ping"===t[0])t[2]({gdprAppliesGlobally:!1,cmpLoaded:!1},!0);else{if("__cmp"===e)return!1;"undefined"===typeof window.__cmp.a&&(window.__cmp.a=[]),window.__cmp.a.push([].slice.apply(t))}},window.__cmp.gdprAppliesGlobally=!1,window.__cmp.msgHandler=e,window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)}()}return i.prototype=Object.create(r.prototype),i.init=function(e,t){return r.init(e,o,i,t)},i.start=function(e,t){return r.start(e,o,i,t)},i.prototype.start=function(){var e={Language:"pt","Initial Screen Title Text":"Damos valor à sua privacidade","Initial Screen Reject Button Text":"Não aceito","Initial Screen Accept Button Text":"Aceito","Initial Screen Purpose Link Text":"Mostrar objetivos","Purpose Screen Title Text":"Damos valor à sua privacidade","Purpose Screen Body Text":"Pode definir as preferências do consentimento e determinar de que forma pretende que os seus dados sejam utilizados com base nos objetivos indicados em baixo. Pode definir as suas preferências independentemente das preferências de parceiros terceiros. Cada objetivo tem uma descrição para que fique a saber de que forma nós e os nossos parceiros utilizamos os seus dados.","Purpose Screen Enable All Button Text":"Ativar todos os objetivos","Purpose Screen Vendor Link Text":"Ver lista completa de vendedores","Purpose Screen Cancel Button Text":"Cancelar","Purpose Screen Save and Exit Button Text":"Guardar e sair","Vendor Screen Title Text":"Damos valor à sua privacidade","Vendor Screen Body Text":"Em baixo, pode definir as preferências de consentimento individualmente para cada companhia. Expanda os itens da lista de cada companhia para ver qual a finalidade de utilização dos seus dados. Isto poderá ajudá-lo a escolher os objetivos. Em alguns casos, as companhias podem divulgar que utilizam os dados dos utilizadores sem pedirem os respetivos consentimentos, com base nos seus interesses legítimos. Pode clicar nas suas políticas de privacidade para obter mais informações e para optar ativamente por não participar.","Vendor Screen Accept All Button Text":"Aceitar tudo","Vendor Screen Reject All Button Text":"Rejeitar tudo","Vendor Screen Purposes Link Text":"Voltar aos objetivos","Vendor Screen Cancel Button Text":"Cancelar","Vendor Screen Save and Exit Button Text":"Guardar e sair","Initial Screen Body Text":this._buildInitialScreenBodyText(),"Publisher Name":"Grupo Impresa","Display UI":"always","Publisher Purpose IDs":[1,2,4,5],"Consent Scope":"service","UI Layout":"banner","Publisher Purpose Legitimate Interest IDs":[1,2,4,5],"No Option":!1,"Default Value for Toggles":"on","Display Persistent Consent Link":!1};window.__cmp("init",e),this.consentLinkContainerSelector&&("loading"!==document.readyState?this.addConsentChangeLink():document.addEventListener("DOMContentLoaded",this.addConsentChangeLink.bind(this),!1))},i.prototype.stop=function(){},i.prototype._buildInitialScreenBodyText=function(){var e="Utilizamos cookies para melhorar a experiência do utilizador, personalizar conteúdo e anúncios, fornecer funcionalidades de redes sociais e analisar o tráfego nos websites. Partilhamos informações com os nossos parceiros de redes sociais, de publicidade e de análise, que as podem combinar com outras informações que lhes forneceu ou recolhidas por estes a partir da utilização daqueles serviços. Consente? ";return(this.cookiePolicyUrl||this.privacyPolicyUrl)&&(e+="Para mais informações sobre cookies e o processamento dos seus dados pessoais, consulte a ",this.cookiePolicyUrl&&(e+='<a target="_blank" style="text-decoration: underline;" href="'+this.cookiePolicyUrl+'">Política de Cookies</a>',e+=this.privacyPolicyUrl?" e a ":". "),this.privacyPolicyUrl&&(e+='<a target="_blank" style="text-decoration: underline;" href="'+this.privacyPolicyUrl+'">Política de Privacidade</a>. ')),e+='<a style="text-decoration: underline;cursor:pointer;" onclick="window.__cmpui(\'updateConsentUi\',2)">Consultar detalhes</a>'},i.prototype.addConsentChangeLink=function(){var e=document.querySelector(this.consentLinkContainerSelector);if(e){var t,i,n=document.createElement("a");"ul"===e.tagName.toLowerCase()?i=document.createElement("li"):"div"===e.tagName.toLowerCase()&&(i=document.createElement("div")),n.className="change-consent",n.href="",n.onclick=function(){return window.__cmp("displayConsentUi"),!1},(t=document.createElement("span")).innerText="Configurações de Privacidade",n.appendChild(t),i.appendChild(n),e.appendChild(i)}},i}),define("parts/pixel",["require","sys/polyfills","widgets/base","lodash","widgets/visibility-checker"],function(e){e("sys/polyfills");var i=e("widgets/base"),t=(e("lodash"),e("widgets/visibility-checker")),n="imp-expresso-pixel";function r(e,t){i.call(this,n,e),this.options=t||{}}return r.prototype=Object.create(i.prototype),r.init=function(e,t){return i.init(e,n,r,t)},r.start=function(e,t){return i.start(e,n,r,t)},r.prototype.start=function(){var e=this._$element[0];this._visibilityChecker=t.init(e,{onVisible:function(){e.getAttribute("data-pixel")&&(e.setAttribute("src",e.getAttribute("data-pixel")),e.removeAttribute("data-pixel"))}}).pop(),this._visibilityChecker.start()},r.prototype.stop=function(){this._visibilityChecker&&(this._visibilityChecker.stop(),this._visibilityChecker=void 0)},r}),define("common",function(){});