if (self.CavalryLogger) { CavalryLogger.start_js(["4F0Ql"]); }

__d("FalcoTransport",["BladeRunnerTypes","FalcoBanzaiTransport","JSResource","Queue"],(function(a,b,c,d,e,f){"use strict";var g=b("BladeRunnerTypes").StreamStatus,h=new(b("Queue"))(),i=new(b("Queue"))(),j=!1;function k(){return Object.freeze({})}function l(){if(j)return;b("JSResource").loadAll([b("JSResource")("BladeRunnerClient").__setRef("FalcoTransport"),b("JSResource")("BladeRunnerStreamHandler").__setRef("FalcoTransport"),b("JSResource")("FalcoBladeRunnerTransport").__setRef("FalcoTransport")],function(a,c,d){a=new a();var e=a.requestStream({method:"Falco"},JSON.stringify(k()),new c(function(a){i.enqueue(a)},null,function(a){switch(a){case g.REJECTED:h.start(function(a){return a(b("FalcoBanzaiTransport"))});break;case g.STARTED:var c=new d(e,i);h.start(function(a){return a(c)});break;case g.CLOSED:h.stop(!0);j=!1;break}},function(a){},function(a){}))});j=!0}a={log:function(a){l(),h.enqueue(function(b){return b.log(a)})},logImmediately:function(a){l(),h.enqueue(function(b){return b.logImmediately(a)})},logCritical:function(a){l(),h.enqueue(function(b){return b.logCritical(a)})}};e.exports=a}),null);