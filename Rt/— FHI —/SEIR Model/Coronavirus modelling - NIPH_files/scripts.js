function DisplayRedNose(n,t){var i=parseInt(n),r=document.getElementById("ShoppingCount"),u=document.getElementById("ShoppingStatus"),f;(i===-1&&(i=parseInt(r.innerHTML)),isNaN(i))||(i>0?(removeClass(u,"is-hidden"),r.innerHTML=i,t&&(f=$(document).scrollTop(),$(".shopping-cart-alert").addClass("is-on"))):r.innerHTML=0)}function hasClass(n,t){return!!n.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function addClass(n,t){hasClass(n,t)||(n.className+=" "+t)}function removeClass(n,t){if(hasClass(n,t)){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");n.className=n.className.replace(i," ")}}function UpdateListNumber(n){DisplayRedNose(n,!0)}function RemoveProductAndUpdateListNumber(n,t){var i=document.getElementById(t);$(i).siblings().length<1&&(i=i.parentNode.parentNode);$(i).fadeOut(300,function(){i.parentNode.removeChild(i)});DisplayRedNose(n,!1)}function ShowStatusOnSuccess(n,t,i,r,u){console.log(n);ShowStatusBarWithData(n,i,u,r,"success")}function ShowStatusOnError(n,t,i,r,u){ShowStatusBarWithData(data,t,u,r,"error")}function ShowStatusBarWithData(n,t,i,r,u){var e=document.getElementById(r+"-statusBar"),f="";n.Message?(f=ReturnMessage(n.Success,n.Message),n.Success===!0&&(u="success"),n.Success===!1&&(u="error")):t==="success"?f=ReturnMessage(!0,i):t==="error"&&(f=ReturnMessage(!1,i));$(e).addClass(u).html(f);$(e).fadeIn(200,function(){setTimeout(function(){$(e).fadeOut("fast")},5500)})}function ReturnMessage(n,t){var i='<span class="FormStatus-icon">c<\/span><p>Ukjent feil<\/p>';return n===!0?i='<span class="FormStatus-icon">a<\/span><p>'+t+"<\/p>":n===!1&&(i='<span class="FormStatus-icon">c<\/span><p>'+t+"<\/p>"),i}function ValidateMyShoppingList(){var t=$("#FormStatusMyList-phone"),i=$("#FormStatusMyList-email"),u=$("#FormStatusMyList-phoneMsg"),f=$("#FormStatusMyList-emailMsg"),n="input-validation-error",r=!0;return(t.removeClass(n),i.removeClass(n),u.hide(),f.hide(),myShoppingListbuttonId==="smsButton"&&(!t.val().length>0?(t.addClass(n),u.html("Telefonnummer mangler").show(),r=!1):isValidPhoneNumber(t.val())||(t.addClass(n),u.html("Telefonnumer pÃ¥ 8 sifre").show(),r=!1)),myShoppingListbuttonId==="emailButton"&&(!i.val().length>0?(i.addClass(n),f.html("E-post mangler").show(),r=!1):isValidEmailAddress(i.val())||(i.addClass(n),f.html("Skriv inn en gyldig e-post adresse").show(),r=!1)),!r)?!1:!0}!function(n){function i(n,t){for(var i=window,r=(n||"").split(".");i&&r.length;)i=i[r.shift()];return"function"==typeof i?i:(t.push(n),Function.constructor.apply(null,t))}function u(n){return"GET"===n||"POST"===n}function e(n,t){u(t)||n.setRequestHeader("X-HTTP-Method-Override",t)}function o(t,i,r){var u;r.indexOf("application/x-javascript")===-1&&(u=(t.getAttribute("data-ajax-mode")||"").toUpperCase(),n(t.getAttribute("data-ajax-update")).each(function(t,r){switch(u){case"BEFORE":n(r).prepend(i);break;case"AFTER":n(r).append(i);break;case"REPLACE-WITH":n(r).replaceWith(i);break;default:n(r).html(i)}}))}function f(t,r){var c,l,f,a,s,h;(c=t.getAttribute("data-ajax-confirm"),!c||window.confirm(c))&&(l=n(t.getAttribute("data-ajax-loading")),a=parseInt(t.getAttribute("data-ajax-loading-duration"),10)||0,n.extend(r,{type:t.getAttribute("data-ajax-method")||void 0,url:t.getAttribute("data-ajax-url")||void 0,cache:"true"===(t.getAttribute("data-ajax-cache")||"").toLowerCase(),beforeSend:function(n){var r;return e(n,f),r=i(t.getAttribute("data-ajax-begin"),["xhr"]).apply(t,arguments),r!==!1&&l.show(a),r},complete:function(){l.hide(a);i(t.getAttribute("data-ajax-complete"),["xhr","status"]).apply(t,arguments)},success:function(n,r,u){o(t,n,u.getResponseHeader("Content-Type")||"text/html");i(t.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(t,arguments)},error:function(){i(t.getAttribute("data-ajax-failure"),["xhr","status","error"]).apply(t,arguments)}}),r.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),f=r.type.toUpperCase(),u(f)||(r.type="POST",r.data.push({name:"X-HTTP-Method-Override",value:f})),s=n(t),s.is("form")&&"multipart/form-data"==s.attr("enctype")&&(h=new FormData,n.each(r.data,function(n,t){h.append(t.name,t.value)}),n("input[type=file]",s).each(function(){var t=this;n.each(t.files,function(n,i){h.append(t.name,i)})}),n.extend(r,{processData:!1,contentType:!1,data:h})),n.ajax(r))}function s(t){var i=n(t).data(h);return!i||!i.validate||i.validate()}var t="unobtrusiveAjaxClick",r="unobtrusiveAjaxClickTarget",h="unobtrusiveValidation";n(document).on("click","a[data-ajax=true]",function(n){n.preventDefault();f(this,{url:this.href,type:"GET",data:[]})});n(document).on("click","form[data-ajax=true] input[type=image]",function(i){var r=i.target.name,u=n(i.target),f=n(u.parents("form")[0]),e=u.offset();f.data(t,[{name:r+".x",value:Math.round(i.pageX-e.left)},{name:r+".y",value:Math.round(i.pageY-e.top)}]);setTimeout(function(){f.removeData(t)},0)});n(document).on("click","form[data-ajax=true] :submit",function(i){var f=i.currentTarget.name,e=n(i.target),u=n(e.parents("form")[0]);u.data(t,f?[{name:f,value:i.currentTarget.value}]:[]);u.data(r,e);setTimeout(function(){u.removeData(t);u.removeData(r)},0)});n(document).on("submit","form[data-ajax=true]",function(i){var e=n(this).data(t)||[],u=n(this).data(r),o=u&&(u.hasClass("cancel")||void 0!==u.attr("formnovalidate"));i.preventDefault();(o||s(this))&&f(this,{url:this.action,type:this.method||"GET",data:e.concat(n(this).serializeArray())})})}(jQuery);var myShoppingListbuttonId=null