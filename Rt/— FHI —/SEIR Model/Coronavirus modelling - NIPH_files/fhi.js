function _toConsumableArray(n){if(Array.isArray(n)){for(var t=0,i=Array(n.length);t<n.length;t++)i[t]=n[t];return i}return Array.from(n)}function filter(){var n,i,r,t;n=$(".myInput");uls=$(".ordrList");t=!0;n.each(function(n,i){$(i).prop("checked")&&(t=!1)});$(uls).each(function(u,f){lis=$(f).children("li");$(lis).each(function(u,f){r=$(f).find(".event-type").html().toUpperCase();$(n).each(function(n,u){if(i=$(u).val().toUpperCase(),!(r.indexOf(i)<0)){if($(u).prop("checked")||t){$(f).show();return}$(f).hide()}})})});$(".ordrList").each(function(){showList=!1;$(this).find("li").each(function(n,t){$(t).css("display")!="none"&&(showList=!0)});showList?$(this).closest("div.fhi-calendar-month").show():$(this).closest("div.fhi-calendar-month").hide()})}function filterMarkAll(){var n=document.getElementsByClassName("myInput");for(x=0;x<n.length;x++)n[x].checked=!0;filter()}function toggleFilterList(n){var t=$("#past-events-filter"),i=$("#upcoming-events-filter"),r=$(".myInput");n?(t.hide(),i.show()):(t.show(),i.hide());$(r).prop("checked",!1);filter()}function toggleChartView(n){var i=$(n).closest(".highcharts-wrapper"),r=i.find(".highcharts-data-table"),t=i.find(".mceNonEditable div:first-of-type"),u;!t.length>0&&(t=i.find(".highchart-graph"));$(n).hasClass("active")||(u=$(n).closest(".options").find(".active"),u.removeClass("active").attr("aria-selected",!1),$(n).addClass("active").attr("aria-selected",!0),n.id=="viewTable"?(t.hide(),r.show()):(t.show(),r.hide()))}function positionToggletip(n){var t={left:$(n.target).position().left,right:$(n.target).position().left+$(n.target).width(),center:$(n.target).position().left+$(n.target).width()/2,top:$(n.target).position().top},i=$("#toggle-"+n.target.id+".fhi-word-definition-text"),r=$(n.target).closest(".textual-block").width(),u;$("#toggletiparrow").remove();r/3>200&&t.center>r/3&&t.center<r/3*2?(i.css("left",r/3).css("min-width",r/3),u=t.center-i.width()>0?t.center-i.width():15,u=u>i.width()?i.width()-15:u,$("head").append('<style id="toggletiparrow" >.fhi-word-definition-text:before{left: '+u+"px !important;}<\/style>")):r/2>t.left?(i.css("left",0).css("min-width",t.right),$("head").append('<style id="toggletiparrow" >.fhi-word-definition-text:before{left: '+t.center+"px !important;}<\/style>")):(i.css("right",0).css("min-width",r-t.left),$("head").append('<style id="toggletiparrow" >.fhi-word-definition-text:before{right: '+(r-t.center)+"px !important;}<\/style>"));i.css("top",t.top+$(n.target).height()+10);i.toggleClass("visible")}var aria=aria||{},objectFitImages,_slice,FHI,utils;aria.KeyCode={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};aria.Utils=aria.Utils||{};aria.Utils.hasClass=function(n,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(n.className)};aria.Utils.addClass=function(n,t){aria.Utils.hasClass(n,t)||(n.className+=" "+t)};aria.Utils.removeClass=function(n,t){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");n.className=n.className.replace(i," ").trim()};aria=aria||{};aria.Listbox=function(n){this.listboxNode=n;this.activeDescendant=this.listboxNode.getAttribute("aria-activedescendant");this.multiselectable=this.listboxNode.hasAttribute("aria-multiselectable");this.moveUpDownEnabled=!1;this.siblingList=null;this.upButton=null;this.downButton=null;this.moveButton=null;this.keysSoFar="";this.handleFocusChange=function(){};this.handleItemChange=function(){};this.registerEvents()};aria.Listbox.prototype.registerEvents=function(){this.listboxNode.addEventListener("focus",this.setupFocus.bind(this));this.listboxNode.addEventListener("keydown",this.checkKeyPress.bind(this));this.listboxNode.addEventListener("click",this.checkClickItem.bind(this))};aria.Listbox.prototype.setupFocus=function(){this.activeDescendant||this.focusFirstItem()};aria.Listbox.prototype.focusFirstItem=function(){var n;n=this.listboxNode.querySelector('[role="option"]');n&&this.focusItem(n)};aria.Listbox.prototype.focusLastItem=function(){var n=this.listboxNode.querySelectorAll('[role="option"]');n.length&&this.focusItem(n[n.length-1])};aria.Listbox.prototype.checkKeyPress=function(n){var r=n.which||n.keyCode,i=document.getElementById(this.activeDescendant),u,t,f;if(i)switch(r){case aria.KeyCode.PAGE_UP:case aria.KeyCode.PAGE_DOWN:this.moveUpDownEnabled&&(n.preventDefault(),r===aria.KeyCode.PAGE_UP?this.moveUpItems():this.moveDownItems());break;case aria.KeyCode.UP:case aria.KeyCode.DOWN:if(n.preventDefault(),this.moveUpDownEnabled&&n.altKey){r===aria.KeyCode.UP?this.moveUpItems():this.moveDownItems();return}i=r===aria.KeyCode.UP?i.previousElementSibling:i.nextElementSibling;i&&this.focusItem(i);break;case aria.KeyCode.HOME:n.preventDefault();this.focusFirstItem();break;case aria.KeyCode.END:n.preventDefault();this.focusLastItem();break;case aria.KeyCode.SPACE:n.preventDefault();this.toggleSelectItem(i);break;case aria.KeyCode.BACKSPACE:case aria.KeyCode.DELETE:case aria.KeyCode.RETURN:if(!this.moveButton)return;if(u=this.moveButton.getAttribute("aria-keyshortcuts"),r===aria.KeyCode.RETURN&&u.indexOf("Enter")===-1)return;if((r===aria.KeyCode.BACKSPACE||r===aria.KeyCode.DELETE)&&u.indexOf("Delete")===-1)return;for(n.preventDefault(),t=i.nextElementSibling;t;){if(t.getAttribute("aria-selected")!="true")break;t=t.nextElementSibling}if(!t)for(t=i.previousElementSibling;t;){if(t.getAttribute("aria-selected")!="true")break;t=t.previousElementSibling}this.moveItems();!this.activeDescendant&&t&&this.focusItem(t);break;default:f=this.findItemToFocus(r);f&&this.focusItem(f)}};aria.Listbox.prototype.findItemToFocus=function(n){var t=this.listboxNode.querySelectorAll('[role="option"]'),u=String.fromCharCode(n),i,r;if(!this.keysSoFar)for(i=0;i<t.length;i++)t[i].getAttribute("id")==this.activeDescendant&&(this.searchIndex=i);return this.keysSoFar+=u,this.clearKeysSoFarAfterDelay(),r=this.findMatchInRange(t,this.searchIndex+1,t.length),r||(r=this.findMatchInRange(t,0,this.searchIndex)),r};aria.Listbox.prototype.clearKeysSoFarAfterDelay=function(){this.keyClear&&(clearTimeout(this.keyClear),this.keyClear=null);this.keyClear=setTimeout(function(){this.keysSoFar="";this.keyClear=null}.bind(this),500)};aria.Listbox.prototype.findMatchInRange=function(n,t,i){for(var u,r=t;r<i;r++)if(u=n[r].innerText,u&&u.toUpperCase().indexOf(this.keysSoFar)===0)return n[r];return null};aria.Listbox.prototype.checkClickItem=function(n){n.target.getAttribute("role")==="option"&&(this.focusItem(n.target),this.toggleSelectItem(n.target))};aria.Listbox.prototype.toggleSelectItem=function(n){this.multiselectable&&(n.setAttribute("aria-selected",n.getAttribute("aria-selected")==="true"?"false":"true"),this.moveButton&&(this.listboxNode.querySelector('[aria-selected="true"]')?this.moveButton.setAttribute("aria-disabled","false"):this.moveButton.setAttribute("aria-disabled","true")))};aria.Listbox.prototype.defocusItem=function(n){n&&(this.multiselectable||n.removeAttribute("aria-selected"),aria.Utils.removeClass(n,"focused"))};aria.Listbox.prototype.focusItem=function(n){if(this.defocusItem(document.getElementById(this.activeDescendant)),this.multiselectable||n.setAttribute("aria-selected","true"),aria.Utils.addClass(n,"focused"),this.listboxNode.setAttribute("aria-activedescendant",n.id),this.activeDescendant=n.id,this.listboxNode.scrollHeight>this.listboxNode.clientHeight){var i=this.listboxNode.clientHeight+this.listboxNode.scrollTop,t=n.offsetTop+n.offsetHeight;t>i?this.listboxNode.scrollTop=t-this.listboxNode.clientHeight:n.offsetTop<this.listboxNode.scrollTop&&(this.listboxNode.scrollTop=n.offsetTop)}!this.multiselectable&&this.moveButton&&this.moveButton.setAttribute("aria-disabled",!1);this.checkUpDownButtons();this.handleFocusChange(n)};aria.Listbox.prototype.checkUpDownButtons=function(){var n=document.getElementById(this.activeDescendant);if(!this.moveUpDownEnabled)return!1;if(!n){this.upButton.setAttribute("aria-disabled","true");this.downButton.setAttribute("aria-disabled","true");return}this.upButton&&(n.previousElementSibling?this.upButton.setAttribute("aria-disabled",!1):this.upButton.setAttribute("aria-disabled","true"));this.downButton&&(n.nextElementSibling?this.downButton.setAttribute("aria-disabled",!1):this.downButton.setAttribute("aria-disabled","true"))};aria.Listbox.prototype.addItems=function(n){if(!n||!n.length)return!1;n.forEach(function(n){this.defocusItem(n);this.toggleSelectItem(n);this.listboxNode.append(n)}.bind(this));this.activeDescendant||this.focusItem(n[0]);this.handleItemChange("added",n)};aria.Listbox.prototype.deleteItems=function(){var n;return(this.multiselectable?n=this.listboxNode.querySelectorAll('[aria-selected="true"]'):this.activeDescendant&&(n=[document.getElementById(this.activeDescendant)]),!n||!n.length)?[]:(n.forEach(function(n){n.remove();n.id===this.activeDescendant&&this.clearActiveDescendant()}.bind(this)),this.handleItemChange("removed",n),n)};aria.Listbox.prototype.clearActiveDescendant=function(){this.activeDescendant=null;this.listboxNode.setAttribute("aria-activedescendant",null);this.moveButton&&this.moveButton.setAttribute("aria-disabled","true");this.checkUpDownButtons()};aria.Listbox.prototype.moveUpItems=function(){var n;this.activeDescendant&&(currentItem=document.getElementById(this.activeDescendant),n=currentItem.previousElementSibling,n&&(this.listboxNode.insertBefore(currentItem,n),this.handleItemChange("moved_up",[currentItem])),this.checkUpDownButtons())};aria.Listbox.prototype.moveDownItems=function(){var n;this.activeDescendant&&(currentItem=document.getElementById(this.activeDescendant),n=currentItem.nextElementSibling,n&&(this.listboxNode.insertBefore(n,currentItem),this.handleItemChange("moved_down",[currentItem])),this.checkUpDownButtons())};aria.Listbox.prototype.moveItems=function(){if(this.siblingList){var n=this.deleteItems();this.siblingList.addItems(n)}};aria.Listbox.prototype.enableMoveUpDown=function(n,t){this.moveUpDownEnabled=!0;this.upButton=n;this.downButton=t;n.addEventListener("click",this.moveUpItems.bind(this));t.addEventListener("click",this.moveDownItems.bind(this))};aria.Listbox.prototype.setupMove=function(n,t){this.siblingList=t;this.moveButton=n;n.addEventListener("click",this.moveItems.bind(this))};aria.Listbox.prototype.setHandleItemChange=function(n){this.handleItemChange=n};aria.Listbox.prototype.setHandleFocusChange=function(n){this.handleFocusChange=n};aria=aria||{};aria.ListboxButton=function(n,t){this.button=n;this.listbox=t;this.registerEvents()};aria.ListboxButton.prototype.registerEvents=function(){this.button.addEventListener("click",this.showListbox.bind(this));this.button.addEventListener("keyup",this.checkShow.bind(this));this.listbox.listboxNode.addEventListener("blur",this.hideListbox.bind(this));this.listbox.listboxNode.addEventListener("keydown",this.checkHide.bind(this));this.listbox.listboxNode.addEventListener("click",this.checkHide.bind(this));this.listbox.setHandleFocusChange(this.onFocusChange.bind(this))};aria.ListboxButton.prototype.checkShow=function(n){var t=n.which||n.keyCode;switch(t){case aria.KeyCode.UP:case aria.KeyCode.DOWN:n.preventDefault();this.showListbox();this.listbox.checkKeyPress(n)}};aria.ListboxButton.prototype.checkHide=function(n){if(n.type==="keydown"){var t=n.which||n.keyCode;switch(t){case aria.KeyCode.RETURN:case aria.KeyCode.ESC:n.preventDefault();this.hideListbox();this.button.focus()}}else n.target.getAttribute("role")==="option"&&this.hideListbox()};aria.ListboxButton.prototype.showListbox=function(){aria.Utils.removeClass(this.listbox.listboxNode,"fhi-hidden");this.button.setAttribute("aria-expanded","true");this.listbox.listboxNode.focus()};aria.ListboxButton.prototype.hideListbox=function(){aria.Utils.addClass(this.listbox.listboxNode,"fhi-hidden");this.button.removeAttribute("aria-expanded");var n=new CustomEvent("fhi-dropdown",{detail:{type:"execute",element:this.button}});document.dispatchEvent(n)};aria.ListboxButton.prototype.onFocusChange=function(n){this.button.innerText=n.innerText;var t=new CustomEvent("fhi-dropdown",{detail:{type:"selected",element:this.button,value:n.dataset.county}});document.dispatchEvent(t)};var EasyAutocomplete=function(n){return n.Configuration=function(n){function r(){var i,r;if("xml"===n.dataType&&(n.getValue||(n.getValue=function(n){return $(n).text()}),n.list||(n.list={}),n.list.sort||(n.list.sort={}),n.list.sort.method=function(t,i){return t=n.getValue(t),i=n.getValue(i),i>t?-1:t>i?1:0},n.list.match||(n.list.match={}),n.list.match.method=function(n,t){return n.search(t)>-1}),void 0!==n.categories&&n.categories instanceof Array){for(var f=[],u=0,e=n.categories.length;e>u;u+=1){i=n.categories[u];for(r in t.categories[0])void 0===i[r]&&(i[r]=t.categories[0][r]);f.push(i)}n.categories=f}}function u(){function i(n,t){var u=n||{};for(var r in n)void 0!==t[r]&&null!==t[r]&&("object"!=typeof t[r]||t[r]instanceof Array?u[r]=t[r]:i(n[r],t[r]));return void 0!==t.data&&null!==t.data&&"object"==typeof t.data&&(u.data=t.data),u}t=i(t,n)}function f(){var i,r,u;"list-required"!==t.url&&"function"!=typeof t.url&&(i=t.url,t.url=function(){return i});void 0!==t.ajaxSettings.url&&"function"!=typeof t.ajaxSettings.url&&(i=t.ajaxSettings.url,t.ajaxSettings.url=function(){return i});"string"==typeof t.listLocation&&(r=t.listLocation,t.listLocation="XML"===t.dataType.toUpperCase()?function(n){return $(n).find(r)}:function(n){return n[r]});"string"==typeof t.getValue&&(u=t.getValue,t.getValue=function(n){return n[u]});void 0!==n.categories&&(t.categoriesAssigned=!0)}function e(){t.ajaxSettings=void 0!==n.ajaxSettings&&"object"==typeof n.ajaxSettings?n.ajaxSettings:{}}function o(n){return void 0!==t[n]&&null!==t[n]}function i(n,i){function r(t,i){for(var u in i)void 0===t[u]&&n.log("Property '"+u+"' does not exist in EasyAutocomplete options API."),"object"==typeof t[u]&&-1===$.inArray(u,s)&&r(t[u],i[u])}r(t,i)}var t={data:"list-required",url:"list-required",dataType:"json",listLocation:function(n){return n},xmlElementName:"",getValue:function(n){return n},autocompleteOff:!0,placeholder:!1,ajaxCallback:function(){},matchResponseProperty:!1,list:{sort:{enabled:!1,method:function(n,i){return n=t.getValue(n),i=t.getValue(i),i>n?-1:n>i?1:0}},maxNumberOfElements:6,hideOnEmptyPhrase:!0,match:{enabled:!1,caseSensitive:!1,method:function(n,t){return n.search(t)>-1}},showAnimation:{type:"normal",time:400,callback:function(){}},hideAnimation:{type:"normal",time:400,callback:function(){}},onClickEvent:function(){},onSelectItemEvent:function(){},onLoadEvent:function(){},onChooseEvent:function(){},onKeyEnterEvent:function(){},onMouseOverEvent:function(){},onMouseOutEvent:function(){},onShowListEvent:function(){},onHideListEvent:function(){}},highlightPhrase:!0,theme:"",cssClasses:"",minCharNumber:0,requestDelay:0,adjustWidth:!0,ajaxSettings:{},preparePostData:function(n){return n},loggerEnabled:!0,template:"",categoriesAssigned:!1,categories:[{maxNumberOfElements:4}]},s=["ajaxSettings","template"];this.get=function(n){return t[n]};this.equals=function(n,i){return!(!o(n)||t[n]!==i)};this.checkDataUrlProperties=function(){return"list-required"!==t.url||"list-required"!==t.data};this.checkRequiredProperties=function(){for(var n in t)if("required"===t[n])return logger.error("Option "+n+" must be defined"),!1;return!0};this.printPropertiesThatDoesntExist=function(n,t){i(n,t)};r();u();t.loggerEnabled===!0&&i(console,n);e();f()},n}(EasyAutocomplete||{}),EasyAutocomplete=function(n){return n.Logger=function(){this.error=function(n){console.log("ERROR: "+n)};this.warning=function(n){console.log("WARNING: "+n)}},n}(EasyAutocomplete||{}),EasyAutocomplete=function(n){return n.Constans=function(){var n={CONTAINER_CLASS:"easy-autocomplete-container",CONTAINER_ID:"eac-container-",WRAPPER_CSS_CLASS:"easy-autocomplete"};this.getValue=function(t){return n[t]}},n}(EasyAutocomplete||{}),EasyAutocomplete=function(n){return n.ListBuilderService=function(n,t){function i(t,i){function f(){var r,u={};return void 0!==t.xmlElementName&&(u.xmlElementName=t.xmlElementName),void 0!==t.listLocation?r=t.listLocation:void 0!==n.get("listLocation")&&(r=n.get("listLocation")),void 0!==r?"string"==typeof r?u.data=$(i).find(r):"function"==typeof r&&(u.data=r(i)):u.data=i,u}function e(){var n={};return void 0!==t.listLocation?"string"==typeof t.listLocation?n.data=i[t.listLocation]:"function"==typeof t.listLocation&&(n.data=t.listLocation(i)):n.data=i,n}var r={},u;return(r="XML"===n.get("dataType").toUpperCase()?f():e(),void 0!==t.header&&(r.header=t.header),void 0!==t.maxNumberOfElements&&(r.maxNumberOfElements=t.maxNumberOfElements),void 0!==n.get("list").maxNumberOfElements&&(r.maxListSize=n.get("list").maxNumberOfElements),void 0!==t.getValue)?"string"==typeof t.getValue?(u=t.getValue,r.getValue=function(n){return n[u]}):"function"==typeof t.getValue&&(r.getValue=t.getValue):r.getValue=n.get("getValue"),r}function r(t){var i=[];return void 0===t.xmlElementName&&(t.xmlElementName=n.get("xmlElementName")),$(t.data).find(t.xmlElementName).each(function(){i.push(this)}),i}this.init=function(t){var r=[],i={};return i.data=n.get("listLocation")(t),i.getValue=n.get("getValue"),i.maxListSize=n.get("list").maxNumberOfElements,r.push(i),r};this.updateCategories=function(t,r){var u,f;if(n.get("categoriesAssigned"))for(t=[],u=0;u<n.get("categories").length;u+=1)f=i(n.get("categories")[u],r),t.push(f);return t};this.convertXml=function(t){if("XML"===n.get("dataType").toUpperCase())for(var i=0;i<t.length;i+=1)t[i].data=r(t[i]);return t};this.processData=function(i,r){for(var u=0,f=i.length;f>u;u+=1)i[u].data=t(n,i[u],r);return i};this.checkIfDataExists=function(n){for(var t=0,i=n.length;i>t;t+=1)if(void 0!==n[t].data&&n[t].data instanceof Array&&n[t].data.length>0)return!0;return!1}},n}(EasyAutocomplete||{}),EasyAutocomplete=function(n){return n.proccess=function(t,i,r){function e(n,i){var u=[],e="",r,o;if(t.get("list").match.enabled)for(r=0,o=n.length;o>r;r+=1)e=t.get("getValue")(n[r]),f(e,i)&&u.push(n[r]);else u=n;return u}function f(n,i){return t.get("list").match.caseSensitive||("string"==typeof n&&(n=n.toLowerCase()),i=i.toLowerCase()),!!t.get("list").match.method(n,i)}function o(n){return void 0!==i.maxNumberOfElements&&n.length>i.maxNumberOfElements&&(n=n.slice(0,i.maxNumberOfElements)),n}function s(n){return t.get("list").sort.enabled&&n.sort(t.get("list").sort.method),n}n.proccess.match=f;var u=i.data,h=r;return u=e(u,h),u=o(u),u=s(u)},n}(EasyAutocomplete||{}),EasyAutocomplete=function(n){return n.Template=function(n){var t={basic:{type:"basic",method:function(n){return n},cssClass:""},description:{type:"description",fields:{description:"description"},method:function(n){return n+" - description"},cssClass:"eac-description"},iconLeft:{type:"iconLeft",fields:{icon:""},method:function(n){return n},cssClass:"eac-icon-left"},iconRight:{type:"iconRight",fields:{iconSrc:""},method:function(n){return n},cssClass:"eac-icon-right"},links:{type:"links",fields:{link:""},method:function(n){return n},cssClass:""},custom:{type:"custom",method:function(){},cssClass:""}},i=function(n){var r,i=n.fields;return"description"===n.type?(r=t.description.method,"string"==typeof i.description?r=function(n,t){return n+" - <span>"+t[i.description]+"<\/span>"}:"function"==typeof i.description&&(r=function(n,t){return n+" - <span>"+i.description(t)+"<\/span>"}),r):"iconRight"===n.type?("string"==typeof i.iconSrc?r=function(n,t){return n+"<img class='eac-icon' src='"+t[i.iconSrc]+"' />"}:"function"==typeof i.iconSrc&&(r=function(n,t){return n+"<img class='eac-icon' src='"+i.iconSrc(t)+"' />"}),r):"iconLeft"===n.type?("string"==typeof i.iconSrc?r=function(n,t){return"<img class='eac-icon' src='"+t[i.iconSrc]+"' />"+n}:"function"==typeof i.iconSrc&&(r=function(n,t){return"<img class='eac-icon' src='"+i.iconSrc(t)+"' />"+n}),r):"links"===n.type?("string"==typeof i.link?r=function(n,t){return"<a href='"+t[i.link]+"' >"+n+"<\/a>"}:"function"==typeof i.link&&(r=function(n,t){return"<a href='"+i.link(t)+"' >"+n+"<\/a>"}),r):"custom"===n.type?n.method:t.basic.method},r=function(n){return n&&n.type&&n.type&&t[n.type]?i(n):t.basic.method},u=function(n){var i=function(){return""};return n&&n.type&&n.type&&t[n.type]?function(){var i=t[n.type].cssClass;return function(){return i}}():i};this.getTemplateClass=u(n);this.build=r(n)},n}(EasyAutocomplete||{}),EasyAutocomplete=function(n){return n.main=function(t,i){function d(){return 0===u.length?void a.error("Input field doesn't exist."):r.checkDataUrlProperties()?r.checkRequiredProperties()?(w(),void g()):void a.error("Will not work without mentioned properties."):void a.error("One of options variables 'data' or 'url' must be defined.")}function w(){function n(){var i=$("<div>"),n=s.getValue("WRAPPER_CSS_CLASS");r.get("theme")&&""!==r.get("theme")&&(n+=" eac-"+r.get("theme"));r.get("cssClasses")&&""!==r.get("cssClasses")&&(n+=" "+r.get("cssClasses"));""!==p.getTemplateClass()&&(n+=" "+p.getTemplateClass());i.addClass(n);u.wrap(i);r.get("adjustWidth")===!0&&t()}function t(){var n=u.outerWidth();u.parent().css("width",n)}function i(){u.unwrap()}function o(){var n=$("<div>").addClass(s.getValue("CONTAINER_CLASS"));n.attr("id",b()).prepend($("<ul>")),function(){n.on("show.eac",function(){var t,i;switch(r.get("list").showAnimation.type){case"slide":t=r.get("list").showAnimation.time;i=r.get("list").showAnimation.callback;n.find("ul").slideDown(t,i);break;case"fade":t=r.get("list").showAnimation.time;i=r.get("list").showAnimation.callback;n.find("ul").fadeIn(t);i;break;default:n.find("ul").show()}r.get("list").onShowListEvent()}).on("hide.eac",function(){var t,i;switch(r.get("list").hideAnimation.type){case"slide":t=r.get("list").hideAnimation.time;i=r.get("list").hideAnimation.callback;n.find("ul").slideUp(t,i);break;case"fade":t=r.get("list").hideAnimation.time;i=r.get("list").hideAnimation.callback;n.find("ul").fadeOut(t,i);break;default:n.find("ul").hide()}r.get("list").onHideListEvent()}).on("selectElement.eac",function(){n.find("ul li").removeClass("selected");n.find("ul li").eq(f).addClass("selected");r.get("list").onSelectItemEvent()}).on("loadElements.eac",function(t,i,o){var y="",v=n.find("ul"),h,c,b;v.empty().detach();e=[];for(var w=0,s=0,k=i.length;k>s;s+=1)if(h=i[s].data,0!==h.length)for(void 0!==i[s].header&&i[s].header.length>0&&v.append("<div class='eac-category' >"+i[s].header+"<\/div>"),c=0,b=h.length;b>c&&w<i[s].maxListSize;c+=1)y=$("<li><div class='eac-item'><\/div><\/li>"),function(){var t=c,n=w,e=i[s].getValue(h[t]);y.find(" > div").on("click",function(){u.val(e).trigger("change");f=n;l(n);r.get("list").onClickEvent();r.get("list").onChooseEvent()}).mouseover(function(){f=n;l(n);r.get("list").onMouseOverEvent()}).mouseout(function(){r.get("list").onMouseOutEvent()}).html(p.build(a(e,o),h[t]))}(),v.append(y),e.push(h[c]),w+=1;n.append(v);r.get("list").onLoadEvent()})}();u.after(n)}function h(){u.next("."+s.getValue("CONTAINER_CLASS")).remove()}function a(n,t){return r.get("highlightPhrase")&&""!==t?y(n,t):n}function v(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function y(n,t){var i=v(t);return(n+"").replace(new RegExp("("+i+")","gi"),"<b>$1<\/b>")}u.parent().hasClass(s.getValue("WRAPPER_CSS_CLASS"))&&(h(),i());n();o();c=$("#"+b());r.get("placeholder")&&u.attr("placeholder",r.get("placeholder"))}function b(){var n=u.attr("id");return s.getValue("CONTAINER_ID")+n}function g(){function n(){tt("autocompleteOff",!0)&&b();t();i();s();c();p();w()}function t(){u.focusout(function(){var t,i=u.val(),n,o;for(r.get("list").match.caseSensitive||(i=i.toLowerCase()),n=0,o=e.length;o>n;n+=1)if(t=r.get("getValue")(e[n]),r.get("list").match.caseSensitive||(t=t.toLowerCase()),t===i)return f=n,void l(f)})}function i(){u.off("keyup").keyup(function(n){function i(n){function e(){var n={},t=r.get("ajaxSettings")||{};for(var i in t)n[i]=t[i];return n}function s(n,t){return r.get("matchResponseProperty")!==!1?"string"==typeof r.get("matchResponseProperty")?t[r.get("matchResponseProperty")]===n:"function"==typeof r.get("matchResponseProperty")?r.get("matchResponseProperty")(t)===n:!0:!0}var f,i,t;n.length<r.get("minCharNumber")||("list-required"!==r.get("data")&&(f=r.get("data"),i=o.init(f),i=o.updateCategories(i,f),i=o.processData(i,n),k(i,n),u.parent().find("li").length>0?v():h()),t=e(),void 0!==t.url&&""!==t.url||(t.url=r.get("url")),void 0!==t.dataType&&""!==t.dataType||(t.dataType=r.get("dataType")),void 0!==t.url&&"list-required"!==t.url&&(t.url=t.url(n),t.data=r.get("preparePostData")(t.data,n),$.ajax(t).done(function(t){var i=o.init(t);i=o.updateCategories(i,t);i=o.convertXml(i);s(n,t)&&(i=o.processData(i,n),k(i,n));o.checkIfDataExists(i)&&u.parent().find("li").length>0?v():h();r.get("ajaxCallback")()}).fail(function(){a.warning("Fail to load response data")}).always(function(){})))}switch(n.keyCode){case 27:h();nt();break;case 38:n.preventDefault();e.length>0&&f>0&&(f-=1,u.val(r.get("getValue")(e[f])),l(f));break;case 40:n.preventDefault();e.length>0&&f<e.length-1&&(f+=1,u.val(r.get("getValue")(e[f])),l(f));break;default:if(n.keyCode>40||8===n.keyCode){var t=u.val();r.get("list").hideOnEmptyPhrase!==!0||8!==n.keyCode||""!==t?r.get("requestDelay")>0?(void 0!==y&&clearTimeout(y),y=setTimeout(function(){i(t)},r.get("requestDelay"))):i(t):h()}}})}function s(){u.on("keydown",function(n){n=n||window.event;var t=n.keyCode;if(38===t)return(suppressKeypress=!0,!1)}).keydown(function(n){13===n.keyCode&&f>-1&&(u.val(r.get("getValue")(e[f])),r.get("list").onKeyEnterEvent(),r.get("list").onChooseEvent(),f=-1,h(),n.preventDefault())})}function c(){u.off("keypress")}function p(){u.focus(function(){""!==u.val()&&e.length>0&&(f=-1,v())})}function w(){u.blur(function(){setTimeout(function(){f=-1;h()},250)})}function b(){u.attr("autocomplete","off")}n()}function v(){c.trigger("show.eac")}function h(){c.trigger("hide.eac")}function l(n){c.trigger("selectElement.eac",n)}function k(n,t){c.trigger("loadElements.eac",[n,t])}function nt(){u.trigger("blur")}var y,s=new n.Constans,r=new n.Configuration(i),a=new n.Logger,p=new n.Template(i.template),o=new n.ListBuilderService(r,n.proccess),tt=r.equals,u=t,c="",e=[],f=-1;n.consts=s;this.getConstants=function(){return s};this.getConfiguration=function(){return r};this.getContainer=function(){return c};this.getSelectedItemIndex=function(){return f};this.getItems=function(){return e};this.getItemData=function(n){return e.length<n||void 0===e[n]?-1:e[n]};this.getSelectedItemData=function(){return this.getItemData(f)};this.build=function(){w()};this.init=function(){d()}},n.eacHandles=[],n.getHandle=function(t){return n.eacHandles[t]},n.inputHasId=function(n){return void 0!==$(n).attr("id")&&$(n).attr("id").length>0},n.assignRandomId=function(t){var i="";do i="eac-"+Math.floor(1e4*Math.random());while(0!==$("#"+i).length);elementId=n.consts.getValue("CONTAINER_ID")+i;$(t).attr("id",i)},n.setHandle=function(t,i){n.eacHandles[i]=t},n}(EasyAutocomplete||{});!function(n){n.fn.easyAutocomplete=function(t){return this.each(function(){var i=n(this),r=new EasyAutocomplete.main(i,t);EasyAutocomplete.inputHasId(i)||EasyAutocomplete.assignRandomId(i);r.init();EasyAutocomplete.setHandle(r,i.attr("id"))})};n.fn.getSelectedItemIndex=function(){var t=n(this).attr("id");return void 0!==t?EasyAutocomplete.getHandle(t).getSelectedItemIndex():-1};n.fn.getItems=function(){var t=n(this).attr("id");return void 0!==t?EasyAutocomplete.getHandle(t).getItems():-1};n.fn.getItemData=function(t){var i=n(this).attr("id");return void 0!==i&&t>-1?EasyAutocomplete.getHandle(i).getItemData(t):-1};n.fn.getSelectedItemData=function(){var t=n(this).attr("id");return void 0!==t?EasyAutocomplete.getHandle(t).getSelectedItemData():-1}}(jQuery),function(n){var t=function(n,t){this.options=null;this.$trigger=null;this.$popover=null;this.init(n,t)};t.prototype.init=function(t,i){var r=this;this.options=n.extend({},n.fn.gpopover.defaults,i);this.$trigger=n(t);this.$popover=n("#"+this.$trigger.data("popover"));this._addArrowElements();this.options.preventHide&&this._preventHideClickPropagation();this.$trigger.click(function(t){r.$popover.is(":visible")||(n(this).parent().click(),r.show(),t.stopPropagation());t.preventDefault()})};t.prototype.show=function(){var r=this,t,i;this.$popover.width(this.options.width);this.$popover.fadeIn(this.options.fadeInDuration);n(document).one("click.popoverHide",function(){r.hide()});t=this.$trigger.offset();this.$popover.offset({left:t.left+this.$trigger.outerWidth()/2-this.$popover.outerWidth()/2,top:t.top+this.$trigger.outerHeight()+10});i=this._repositionForViewportSides();this._setArrowPosition(i);this.options.onShow.call(this.$trigger,this.$popover)};t.prototype.hide=function(){this.$popover.fadeOut(this.options.fadeOutDuration);this.options.onHide.call(this.$trigger,this.$popover)};t.prototype._addArrowElements=function(){this.$arrow=n('<div class="gpopover-arrow"><\/div>');this.$arrowShadow=n('<div class="gpopover-arrow-shadow"><\/div>');this.$popover.append(this.$arrow);this.$popover.append(this.$arrowShadow)};t.prototype._preventHideClickPropagation=function(){this.$popover.click(function(n){n.stopPropagation()})};t.prototype._repositionForViewportSides=function(){var t=this.$popover.offset().left,i=0,f=n(window),r,u;return t+this.$popover.outerWidth()+this.options.viewportSideMargin>f.width()&&(r=-(t+this.$popover.outerWidth()+this.options.viewportSideMargin-f.width()),t=t+r,i=r),t<this.options.viewportSideMargin&&(u=this.options.viewportSideMargin-t,t=t+u,i+=u),i!==0&&this.$popover.offset({left:t}),i};t.prototype._setArrowPosition=function(n){var t=this.$popover.outerWidth()/2-this.$arrow.outerWidth()/2-n;this.$arrow.css({top:-7,left:t});this.$arrowShadow.css({top:-8,left:t})};n.fn.gpopover=function(i){return this.each(function(){var u=n(this),r=u.data("gpopover"),f=typeof i=="object"&&i;r||(r=new t(this,f),u.data("gpopover",r));typeof i=="string"&&r[i]()})};n.fn.gpopover.defaults={width:250,fadeInDuration:65,fadeOutDuration:65,viewportSideMargin:10,preventHide:!1,onShow:function(){},onHide:function(){}}}(jQuery),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof module=="object"&&module.exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){var e=Array.prototype.slice,h=Array.prototype.splice,u={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"inherit"},f=n(window),c=n(document),i=[],o=f.height(),r=function(){for(var r,u,h,y,e=f.scrollTop(),l=c.height(),a=l-o,v=e>a?a-e:0,s=0,p=i.length;s<p;s++){var t=i[s],w=t.stickyWrapper.offset().top,b=w-t.topSpacing-v;t.stickyWrapper.css("height",t.stickyElement.outerHeight());e<=b?t.currentTop!==null&&(t.stickyElement.css({width:"",position:"",top:"","z-index":""}),t.stickyElement.parent().removeClass(t.className),t.stickyElement.trigger("sticky-end",[t]),t.currentTop=null):(r=l-t.stickyElement.outerHeight()-t.topSpacing-t.bottomSpacing-e-v,r=r<0?r+t.topSpacing:t.topSpacing,t.currentTop!==r&&(t.getWidthFrom?(padding=t.stickyElement.innerWidth()-t.stickyElement.width(),u=n(t.getWidthFrom).width()-padding||null):t.widthFromWrapper&&(u=t.stickyWrapper.width()),u==null&&(u=t.stickyElement.width()),t.stickyElement.css("width",u).css("position","fixed").css("top",r).css("z-index",t.zIndex),t.stickyElement.parent().addClass(t.className),t.currentTop===null?t.stickyElement.trigger("sticky-start",[t]):t.stickyElement.trigger("sticky-update",[t]),t.currentTop===t.topSpacing&&t.currentTop>r||t.currentTop===null&&r<t.topSpacing?t.stickyElement.trigger("sticky-bottom-reached",[t]):t.currentTop!==null&&r===t.topSpacing&&t.currentTop<r&&t.stickyElement.trigger("sticky-bottom-unreached",[t]),t.currentTop=r),h=t.stickyWrapper.parent(),y=t.stickyElement.offset().top+t.stickyElement.outerHeight()>=h.offset().top+h.outerHeight()&&t.stickyElement.offset().top<=t.topSpacing,y?t.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):t.stickyElement.css("position","fixed").css("top",r).css("bottom","").css("z-index",t.zIndex))}},s=function(){var u,e,t,r;for(o=f.height(),u=0,e=i.length;u<e;u++)t=i[u],r=null,t.getWidthFrom?t.responsiveWidth&&(r=n(t.getWidthFrom).width()):t.widthFromWrapper&&(r=t.stickyWrapper.width()),r!=null&&t.stickyElement.css("width",r)},t={init:function(r){return this.each(function(){var e=n.extend({},u,r),f=n(this),s=f.attr("id"),h=s?s+"-"+u.wrapperClassName:u.wrapperClassName,c=n("<div><\/div>").attr("id",h).addClass(e.wrapperClassName),o;f.wrapAll(function(){if(n(this).parent("#"+h).length==0)return c});o=f.parent();e.center&&o.css({width:f.outerWidth(),marginLeft:"auto",marginRight:"auto"});f.css("float")==="right"&&f.css({float:"none"}).parent().css({float:"right"});e.stickyElement=f;e.stickyWrapper=o;e.currentTop=null;i.push(e);t.setWrapperHeight(this);t.setupChangeListeners(this)})},setWrapperHeight:function(t){var i=n(t),r=i.parent();r&&r.css("height",i.outerHeight())},setupChangeListeners:function(n){if(window.MutationObserver){var i=new window.MutationObserver(function(i){(i[0].addedNodes.length||i[0].removedNodes.length)&&t.setWrapperHeight(n)});i.observe(n,{subtree:!0,childList:!0})}else window.addEventListener?(n.addEventListener("DOMNodeInserted",function(){t.setWrapperHeight(n)},!1),n.addEventListener("DOMNodeRemoved",function(){t.setWrapperHeight(n)},!1)):window.attachEvent&&(n.attachEvent("onDOMNodeInserted",function(){t.setWrapperHeight(n)}),n.attachEvent("onDOMNodeRemoved",function(){t.setWrapperHeight(n)}))},update:r,unstick:function(){return this.each(function(){for(var r=this,u=n(r),f=-1,t=i.length;t-->0;)i[t].stickyElement.get(0)===r&&(h.call(i,t,1),f=t);f!==-1&&(u.unwrap(),u.css({width:"",position:"",top:"",float:"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",r,!1),window.addEventListener("resize",s,!1)):window.attachEvent&&(window.attachEvent("onscroll",r),window.attachEvent("onresize",s));n.fn.sticky=function(i){if(t[i])return t[i].apply(this,e.call(arguments,1));if(typeof i!="object"&&i)n.error("Method "+i+" does not exist on jQuery.sticky");else return t.init.apply(this,arguments)};n.fn.unstick=function(i){if(t[i])return t[i].apply(this,e.call(arguments,1));if(typeof i!="object"&&i)n.error("Method "+i+" does not exist on jQuery.sticky");else return t.unstick.apply(this,arguments)};n(function(){setTimeout(r,0)})}),function(n,t){typeof define=="function"&&define.amd?define(["jquery"],t):typeof exports=="object"?module.exports=t(require("jquery")):n.lightbox=t(n.jQuery)}(this,function(n){function t(t){this.album=[];this.currentImageIndex=void 0;this.init();this.options=n.extend({},this.constructor.defaults);this.option(t)}return t.defaults={albumLabel:"%1 / %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:500,fitImagesInViewport:!0,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1},t.prototype.option=function(t){n.extend(this.options,t)},t.prototype.imageCountLabel=function(n,t){return this.options.albumLabel.replace(/%1/g,n).replace(/%2/g,t)},t.prototype.init=function(){this.enable();this.build()},t.prototype.enable=function(){var t=this;n("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(i){return t.start(n(i.currentTarget)),!1})},t.prototype.build=function(){var t=this;n('<div id="lightboxOverlay" class="lightboxOverlay fhi-print--hidden"><\/div><div id="lightbox" class="lightbox fhi-print--hidden"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-loader"><a class="lb-cancel"><\/a><\/div><\/div><\/div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"><\/span><div class="lb-nav"><a class="lb-prev" href="" ><\/a><a class="lb-next" href="" ><\/a><span class="lb-number"><\/span><\/div><\/div><div class="lb-closeContainer"><a class="lb-close"><\/a><\/div><\/div><\/div><\/div>').appendTo(n("body"));this.$lightbox=n("#lightbox");this.$overlay=n("#lightboxOverlay");this.$outerContainer=this.$lightbox.find(".lb-outerContainer");this.$container=this.$lightbox.find(".lb-container");this.containerTopPadding=parseInt(this.$container.css("padding-top"),10);this.containerRightPadding=parseInt(this.$container.css("padding-right"),10);this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10);this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10);this.$overlay.hide().on("click",function(){return t.end(),!1});this.$lightbox.hide().on("click",function(i){return n(i.target).attr("id")==="lightbox"&&t.end(),!1});this.$outerContainer.on("click",function(i){return n(i.target).attr("id")==="lightbox"&&t.end(),!1});this.$lightbox.find(".lb-prev").on("click",function(){return t.currentImageIndex===0?t.changeImage(t.album.length-1):t.changeImage(t.currentImageIndex-1),!1});this.$lightbox.find(".lb-next").on("click",function(){return t.currentImageIndex===t.album.length-1?t.changeImage(0):t.changeImage(t.currentImageIndex+1),!1});this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return t.end(),!1})},t.prototype.start=function(t){function o(n){l.album.push({link:n.attr("href"),title:n.attr("data-title")||n.attr("title")})}var l=this,e=n(window),f,s,i,r,u,h,c;e.on("resize",n.proxy(this.sizeOverlay,this));if(n("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[],f=0,s=t.attr("data-lightbox"),s)for(i=n(t.prop("tagName")+'[data-lightbox="'+s+'"]'),r=0;r<i.length;r=++r)o(n(i[r])),i[r]===t[0]&&(f=r);else if(t.attr("rel")==="lightbox")o(t);else for(i=n(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]'),u=0;u<i.length;u=++u)o(n(i[u])),i[u]===t[0]&&(f=u);h=e.scrollTop()+this.options.positionFromTop;c=e.scrollLeft();this.$lightbox.css({top:h+"px",left:c+"px"}).fadeIn(this.options.fadeDuration);this.options.disableScrolling&&n("body").addClass("lb-disable-scrolling");this.changeImage(f)},t.prototype.changeImage=function(t){var r=this,u,i;this.disableKeyboardNav();u=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration);n(".lb-loader").fadeIn("slow");this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide();this.$outerContainer.addClass("animating");i=new Image;i.onload=function(){var l,e,o,s,f,h,c;u.attr("src",r.album[t].link);l=n(i);u.width(i.width);u.height(i.height);r.options.fitImagesInViewport&&(c=n(window).width(),h=n(window).height(),f=c-r.containerLeftPadding-r.containerRightPadding-20,s=h-r.containerTopPadding-r.containerBottomPadding-120,r.options.maxWidth&&r.options.maxWidth<f&&(f=r.options.maxWidth),r.options.maxHeight&&r.options.maxHeight<f&&(s=r.options.maxHeight),(i.width>f||i.height>s)&&(i.width/f>i.height/s?(o=f,e=parseInt(i.height/(i.width/o),10),u.width(o),u.height(e)):(e=s,o=parseInt(i.width/(i.height/e),10),u.width(o),u.height(e))));r.sizeContainer(u.width(),u.height())};i.src=this.album[t].link;this.currentImageIndex=t},t.prototype.sizeOverlay=function(){this.$overlay.width(n(document).width()).height(n(document).height())},t.prototype.sizeContainer=function(n,t){function f(){i.$lightbox.find(".lb-dataContainer").width(u);i.$lightbox.find(".lb-prevLink").height(r);i.$lightbox.find(".lb-nextLink").height(r);i.showImage()}var i=this,e=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),u=n+this.containerLeftPadding+this.containerRightPadding,r=t+this.containerTopPadding+this.containerBottomPadding;e!==u||o!==r?this.$outerContainer.animate({width:u,height:r},this.options.resizeDuration,"swing",function(){f()}):f()},t.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide();this.$lightbox.find(".lb-image").fadeIn("slow");this.updateNav();this.updateDetails();this.preloadNeighboringImages();this.enableKeyboardNav()},t.prototype.updateNav=function(){var n=!1;try{document.createEvent("TouchEvent");n=this.options.alwaysShowNavOnTouchDevices?!0:!1}catch(t){}this.$lightbox.find(".lb-nav").show();this.album.length>1&&(this.options.wrapAround?(n&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),n&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),n&&this.$lightbox.find(".lb-next").css("opacity","1"))))},t.prototype.updateDetails=function(){var i=this,t;if(typeof this.album[this.currentImageIndex].title!="undefined"&&this.album[this.currentImageIndex].title!=="")this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",function(){n(this).attr("target")!==undefined?window.open(n(this).attr("href"),n(this).attr("target")):location.href=n(this).attr("href")});this.album.length>1&&this.options.showImageNumberLabel?(t=this.imageCountLabel(this.currentImageIndex+1,this.album.length),this.$lightbox.find(".lb-number").text(t).fadeIn("fast")):this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating");this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return i.sizeOverlay()})},t.prototype.preloadNeighboringImages=function(){var n,t;this.album.length>this.currentImageIndex+1&&(n=new Image,n.src=this.album[this.currentImageIndex+1].link);this.currentImageIndex>0&&(t=new Image,t.src=this.album[this.currentImageIndex-1].link)},t.prototype.enableKeyboardNav=function(){n(document).on("keyup.keyboard",n.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){n(document).off(".keyboard")},t.prototype.keyboardAction=function(n){var t=n.keyCode,i=String.fromCharCode(t).toLowerCase();t===27||i.match(/x|o|c/)?this.end():i==="p"||t===37?this.currentImageIndex!==0?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):(i==="n"||t===39)&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},t.prototype.end=function(){this.disableKeyboardNav();n(window).off("resize",this.sizeOverlay);this.$lightbox.fadeOut(this.options.fadeDuration);this.$overlay.fadeOut(this.options.fadeDuration);n("select, object, embed").css({visibility:"visible"});this.options.disableScrolling&&n("body").removeClass("lb-disable-scrolling")},new t});objectFitImages=function(){"use strict";function l(n,t){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+n+"' height='"+t+"'%3E%3C/svg%3E"}function a(n){if(n.srcset&&!k&&window.picturefill){var t=window.picturefill._;n[t.ns]&&n[t.ns].evaled||t.fillImg(n,{reselect:!0});n[t.ns].curSrc||(n[t.ns].supported=!1,t.fillImg(n,{reselect:!0}));n.currentSrc=n[t.ns].curSrc||n.src}}function v(n){for(var t,r=getComputedStyle(n).fontFamily,i={};null!==(t=w.exec(r));)i[t[1]]=t[2];return i}function o(n,t,i){var f=l(t||1,i||0);u.call(n,"src")!==f&&r.call(n,"src",f)}function f(n,t){n.naturalWidth?t(n):setTimeout(f,100,n,t)}function s(t){var e=v(t),i=t[n];if(e["object-fit"]=e["object-fit"]||"fill",!i.img){if("fill"===e["object-fit"])return;if(!i.skipTest&&h&&!e["object-position"])return}if(!i.img){i.img=new Image(t.width,t.height);i.img.srcset=u.call(t,"data-ofi-srcset")||t.srcset;i.img.src=u.call(t,"data-ofi-src")||t.src;r.call(t,"data-ofi-src",t.src);t.srcset&&r.call(t,"data-ofi-srcset",t.srcset);o(t,t.naturalWidth||t.width,t.naturalHeight||t.height);t.srcset&&(t.srcset="");try{y(t)}catch(t){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}a(i.img);t.style.backgroundImage='url("'+(i.img.currentSrc||i.img.src).replace(/"/g,'\\"')+'")';t.style.backgroundPosition=e["object-position"]||"center";t.style.backgroundRepeat="no-repeat";t.style.backgroundOrigin="content-box";/scale-down/.test(e["object-fit"])?f(i.img,function(){t.style.backgroundSize=i.img.naturalWidth>t.width||i.img.naturalHeight>t.height?"contain":"auto"}):t.style.backgroundSize=e["object-fit"].replace("none","auto").replace("fill","100% 100%");f(i.img,function(n){o(t,n.naturalWidth,n.naturalHeight)})}function y(t){var i={get:function(i){return t[n].img[i?i:"src"]},set:function(i,u){return t[n].img[u?u:"src"]=i,r.call(t,"data-ofi-"+u,i),s(t),i}};Object.defineProperty(t,"src",i);Object.defineProperty(t,"currentSrc",{get:function(){return i.get("currentSrc")}});Object.defineProperty(t,"srcset",{get:function(){return i.get("srcset")},set:function(n){return i.set(n,"srcset")}})}function p(){function t(t,i){return t[n]&&t[n].img&&("src"===i||"srcset"===i)?t[n].img:t}e||(HTMLImageElement.prototype.getAttribute=function(n){return u.call(t(this,n),n)},HTMLImageElement.prototype.setAttribute=function(n,i){return r.call(t(this,n),n,String(i))})}function i(t,r){var f=!c&&!t,u;if(r=r||{},t=t||"img",e&&!r.skipTest||!b)return!1;for("img"===t?t=document.getElementsByTagName("img"):"string"==typeof t?t=document.querySelectorAll(t):("length"in t)||(t=[t]),u=0;u<t.length;u++)t[u][n]=t[u][n]||{skipTest:r.skipTest},s(t[u]);f&&(document.body.addEventListener("load",function(n){"IMG"===n.target.tagName&&i(n.target,{skipTest:r.skipTest})},!0),c=!0,t="img");r.watchMQ&&window.addEventListener("resize",i.bind(null,t,{skipTest:r.skipTest}))}var n="bfred-it:object-fit-images",w=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,t="undefined"==typeof Image?{style:{"object-position":1}}:new Image,h="object-fit"in t.style,e="object-position"in t.style,b="background-size"in t.style,k="string"==typeof t.currentSrc,u=t.getAttribute,r=t.setAttribute,c=!1;return i.supportsObjectFit=h,i.supportsObjectPosition=e,p(),i}();_slice=Array.prototype.slice;!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):n.parsley=t(n.jQuery)}(this,function(n){"use strict";function nt(n,t){return n.parsleyAdaptedCallback||(n.parsleyAdaptedCallback=function(){var i=Array.prototype.slice.call(arguments,0);i.unshift(this);n.apply(t||pt,i)}),n.parsleyAdaptedCallback}function u(n){return 0===n.lastIndexOf(et,0)?n.substr(et.length):n}function st(){var t=this,i=window||global;n.extend(this,{isNativeEvent:function(n){return n.originalEvent&&n.originalEvent.isTrusted!==!1},fakeInputEvent:function(i){t.isNativeEvent(i)&&n(i.target).trigger("input")},misbehaves:function(i){t.isNativeEvent(i)&&(t.behavesOk(i),n(document).on("change.inputevent",i.data.selector,t.fakeInputEvent),t.fakeInputEvent(i))},behavesOk:function(i){t.isNativeEvent(i)&&n(document).off("input.inputevent",i.data.selector,t.behavesOk).off("change.inputevent",i.data.selector,t.misbehaves)},install:function(){var f,u,r;if(!i.inputEventPatched)for(i.inputEventPatched="0.0.3",f=["select",'input[type="checkbox"]','input[type="radio"]','input[type="file"]'],u=0;u<f.length;u++){r=f[u];n(document).on("input.inputevent",r,{selector:r},t.behavesOk).on("change.inputevent",r,{selector:r},t.misbehaves)}},uninstall:function(){delete i.inputEventPatched;n(document).off(".inputevent")}})}var ht=1,y={},ct={attr:function(n,t,i){var r,u,f,e=new RegExp("^"+t,"i");if("undefined"==typeof i)i={};else for(r in i)i.hasOwnProperty(r)&&delete i[r];if("undefined"==typeof n||"undefined"==typeof n[0])return i;for(f=n[0].attributes,r=f.length;r--;)u=f[r],u&&u.specified&&e.test(u.name)&&(i[this.camelize(u.name.slice(t.length))]=this.deserializeValue(u.value));return i},checkAttr:function(n,t,i){return n.is("["+t+i+"]")},setAttr:function(n,t,i,r){n[0].setAttribute(this.dasherize(t+i),String(r))},generateID:function(){return""+ht++},deserializeValue:function(t){var i;try{return t?"true"==t||("false"==t?!1:"null"==t?null:isNaN(i=Number(t))?/^[\[\{]/.test(t)?n.parseJSON(t):t:i):t}catch(r){return t}},camelize:function(n){return n.replace(/-+(.)?/g,function(n,t){return t?t.toUpperCase():""})},dasherize:function(n){return n.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},warn:function(){var n;window.console&&"function"==typeof window.console.warn&&(n=window.console).warn.apply(n,arguments)},warnOnce:function(n){y[n]||(y[n]=!0,this.warn.apply(this,arguments))},_resetWarnings:function(){y={}},trimString:function(n){return n.replace(/^\s+|\s+$/g,"")},namespaceEvents:function(t,i){return t=this.trimString(t||"").split(/\s+/),t[0]?n.map(t,function(n){return n+"."+i}).join(" "):""},objectCreate:Object.create||function(){var n=function(){};return function(t){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=typeof t)throw TypeError("Argument must be an object");n.prototype=t;var i=new n;return n.prototype=null,i}}()},t=ct,tt={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,multiple:null,group:null,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,triggerAfterFailure:"input",errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"><\/ul>',errorTemplate:"<li><\/li>"},r=function(){this.__id__=t.generateID()},w,l,a,o,it,f,b,k,rt,d,ut,e,g,h,v,i,ft,ot;r.prototype={asyncSupport:!0,_pipeAccordingToValidationResult:function(){var i=this,t=function(){var t=n.Deferred();return!0!==i.validationResult&&t.reject(),t.resolve().promise()};return[t,t]},actualizeOptions:function(){return t.attr(this.$element,this.options.namespace,this.domOptions),this.parent&&this.parent.actualizeOptions&&this.parent.actualizeOptions(),this},_resetOptions:function(n){this.domOptions=t.objectCreate(this.parent.options);this.options=t.objectCreate(this.domOptions);for(var i in n)n.hasOwnProperty(i)&&(this.options[i]=n[i]);this.actualizeOptions()},_listeners:null,on:function(n,t){this._listeners=this._listeners||{};var i=this._listeners[n]=this._listeners[n]||[];return i.push(t),this},subscribe:function(t,i){n.listenTo(this,t.toLowerCase(),i)},off:function(n,t){var i=this._listeners&&this._listeners[n],r;if(i)if(t)for(r=i.length;r--;)i[r]===t&&i.splice(r,1);else delete this._listeners[n];return this},unsubscribe:function(t){n.unsubscribeTo(this,t.toLowerCase())},trigger:function(n,t,i){var u,r,f;if(t=t||this,r=this._listeners&&this._listeners[n],r)for(f=r.length;f--;)if(u=r[f].call(t,t,i),u===!1)return u;return this.parent?this.parent.trigger(n,t,i):!0},reset:function(){if("ParsleyForm"!==this.__class__)return this._resetUI(),this._trigger("reset");for(var n=0;n<this.fields.length;n++)this.fields[n].reset();this._trigger("reset")},destroy:function(){if(this._destroyUI(),"ParsleyForm"!==this.__class__)return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void this._trigger("destroy");for(var n=0;n<this.fields.length;n++)this.fields[n].destroy();this.$element.removeData("Parsley");this._trigger("destroy")},asyncIsValid:function(n,i){return t.warnOnce("asyncIsValid is deprecated; please use whenValid instead"),this.whenValid({group:n,force:i})},_findRelated:function(){return this.options.multiple?this.parent.$element.find("["+this.options.namespace+'multiple="'+this.options.multiple+'"]'):this.$element}};var lt={string:function(n){return n},integer:function(n){if(isNaN(n))throw'Requirement is not an integer: "'+n+'"';return parseInt(n,10)},number:function(n){if(isNaN(n))throw'Requirement is not a number: "'+n+'"';return parseFloat(n)},reference:function(t){var i=n(t);if(0===i.length)throw'No such reference: "'+t+'"';return i},boolean:function(n){return"false"!==n},object:function(n){return t.deserializeValue(n)},regexp:function(n){var t="";return/^\/.*\/(?:[gimy]*)$/.test(n)?(t=n.replace(/.*\/([gimy]*)$/,"$1"),n=n.replace(new RegExp("^/(.*?)/"+t+"$"),"$1")):n="^"+n+"$",new RegExp(n,t)}},at=function(n,i){var u=n.match(/^\s*\[(.*)\]\s*$/),r;if(!u)throw'Requirement is not an array: "'+n+'"';if(r=u[1].split(",").map(t.trimString),r.length!==i)throw"Requirement has "+r.length+" values when "+i+" are needed";return r},c=function(n,t){var i=lt[n||"string"];if(!i)throw'Unknown requirement specification: "'+n+'"';return i(t)},vt=function(n,t,i){var f=null,e={},r,u;for(r in n)r?(u=i(r),"string"==typeof u&&(u=c(n[r],u)),e[r]=u):f=c(n[r],t);return[f,e]},p=function(t){n.extend(!0,this,t)};if(p.prototype={validate:function(t,i){if(this.fn)return arguments.length>3&&(i=[].slice.call(arguments,1,-1)),this.fn.call(this,t,i);if(n.isArray(t)){if(!this.validateMultiple)throw"Validator `"+this.name+"` does not handle multiple values";return this.validateMultiple.apply(this,arguments)}if(this.validateNumber)return isNaN(t)?!1:(arguments[0]=parseFloat(arguments[0]),this.validateNumber.apply(this,arguments));if(this.validateString)return this.validateString.apply(this,arguments);throw"Validator `"+this.name+"` only handles multiple values";},parseRequirements:function(t,i){var r,f,u;if("string"!=typeof t)return n.isArray(t)?t:[t];if(r=this.requirementType,n.isArray(r)){for(f=at(t,r.length),u=0;u<f.length;u++)f[u]=c(r[u],f[u]);return f}return n.isPlainObject(r)?vt(r,t,i):[c(r,t)]},requirementType:"string",priority:2},w=function(n,t){this.__class__="ParsleyValidatorRegistry";this.locale="en";this.init(n||{},t||{})},l={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,number:/^-?(\d*\.)?\d+(e[-+]?\d+)?$/i,integer:/^-?\d+$/,digits:/^\d+$/,alphanum:/^\w+$/i,url:new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$","i")},l.range=l.number,a=function(n){var t=(""+n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},w.prototype={init:function(t,i){this.catalog=i;this.validators=n.extend({},this.validators);for(var r in t)this.addValidator(r,t[r].fn,t[r].priority);window.Parsley.trigger("parsley:validator:init")},setLocale:function(n){if("undefined"==typeof this.catalog[n])throw new Error(n+" is not available in the catalog");return this.locale=n,this},addCatalog:function(n,t,i){return"object"==typeof t&&(this.catalog[n]=t),!0===i?this.setLocale(n):this},addMessage:function(n,t,i){return"undefined"==typeof this.catalog[n]&&(this.catalog[n]={}),this.catalog[n][t]=i,this},addMessages:function(n,t){for(var i in t)this.addMessage(n,i,t[i]);return this},addValidator:function(n){if(this.validators[n])t.warn('Validator "'+n+'" is already defined.');else if(tt.hasOwnProperty(n))return void t.warn('"'+n+'" is a restricted keyword and is not a valid validator name.');return this._setValidator.apply(this,arguments)},updateValidator:function(n){return this.validators[n]?this._setValidator.apply(this,arguments):(t.warn('Validator "'+n+'" is not already defined.'),this.addValidator.apply(this,arguments))},removeValidator:function(n){return this.validators[n]||t.warn('Validator "'+n+'" is not defined.'),delete this.validators[n],this},_setValidator:function(n,t,i){"object"!=typeof t&&(t={fn:t,priority:i});t.validate||(t=new p(t));this.validators[n]=t;for(var r in t.messages||{})this.addMessage(r,n,t.messages[r]);return this},getErrorMessage:function(n){var t,i;return"type"===n.name?(i=this.catalog[this.locale][n.name]||{},t=i[n.requirements]):t=this.formatMessage(this.catalog[this.locale][n.name],n.requirements),t||this.catalog[this.locale].defaultMessage||this.catalog.en.defaultMessage},formatMessage:function(n,t){if("object"==typeof t){for(var i in t)n=this.formatMessage(n,t[i]);return n}return"string"==typeof n?n.replace(/%s/i,t):""},validators:{notblank:{validateString:function(n){return/\S/.test(n)},priority:2},required:{validateMultiple:function(n){return n.length>0},validateString:function(n){return/\S/.test(n)},priority:512},type:{validateString:function(n,t){var e=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o=e.step,r=void 0===o?"1":o,s=e.base,h=void 0===s?0:s,c=l[t],u,f,i;if(!c)throw new Error("validator type `"+t+"` is not supported");return c.test(n)?"number"===t&&!/^any$/i.test(r||"")&&((u=Number(n),f=Math.max(a(r),a(h)),a(u)>f)||(i=function(n){return Math.round(n*Math.pow(10,f))},(i(u)-i(h))%i(r)!=0))?!1:!0:!1},requirementType:{"":"string",step:"string",base:"number"},priority:256},pattern:{validateString:function(n,t){return t.test(n)},requirementType:"regexp",priority:64},minlength:{validateString:function(n,t){return n.length>=t},requirementType:"integer",priority:30},maxlength:{validateString:function(n,t){return n.length<=t},requirementType:"integer",priority:30},length:{validateString:function(n,t,i){return n.length>=t&&n.length<=i},requirementType:["integer","integer"],priority:30},mincheck:{validateMultiple:function(n,t){return n.length>=t},requirementType:"integer",priority:30},maxcheck:{validateMultiple:function(n,t){return n.length<=t},requirementType:"integer",priority:30},check:{validateMultiple:function(n,t,i){return n.length>=t&&n.length<=i},requirementType:["integer","integer"],priority:30},min:{validateNumber:function(n,t){return n>=t},requirementType:"number",priority:30},max:{validateNumber:function(n,t){return t>=n},requirementType:"number",priority:30},range:{validateNumber:function(n,t,i){return n>=t&&i>=n},requirementType:["number","number"],priority:30},equalto:{validateString:function(t,i){var r=n(i);return r.length?t===r.val():t===i},priority:256}}},o={},it=function yt(n,t,i){for(var f,u,e=[],o=[],r=0;r<n.length;r++){for(f=!1,u=0;u<t.length;u++)if(n[r].assert.name===t[u].assert.name){f=!0;break}f?o.push(n[r]):e.push(n[r])}return{kept:o,added:e,removed:i?[]:yt(t,n,!0).added}},o.Form={_actualizeTriggers:function(){var n=this;this.$element.on("submit.Parsley",function(t){n.onSubmitValidate(t)});this.$element.on("click.Parsley",'input[type="submit"], button[type="submit"]',function(t){n.onSubmitButton(t)});!1!==this.options.uiEnabled&&this.$element.attr("novalidate","")},focus:function(){var t,n;if(this._focusedField=null,!0===this.validationResult||"none"===this.options.focus)return null;for(t=0;t<this.fields.length;t++)if(n=this.fields[t],!0!==n.validationResult&&n.validationResult.length>0&&"undefined"==typeof n.options.noFocus&&(this._focusedField=n.$element,"first"===this.options.focus))break;return null===this._focusedField?null:this._focusedField.focus()},_destroyUI:function(){this.$element.off(".Parsley")}},o.Field={_reflowUI:function(){if(this._buildUI(),this._ui){var n=it(this.validationResult,this._ui.lastValidationResult);this._ui.lastValidationResult=this.validationResult;this._manageStatusClass();this._manageErrorsMessages(n);this._actualizeTriggers();!n.kept.length&&!n.added.length||this._failedOnce||(this._failedOnce=!0,this._actualizeTriggers())}},getErrorsMessages:function(){if(!0===this.validationResult)return[];for(var t=[],n=0;n<this.validationResult.length;n++)t.push(this.validationResult[n].errorMessage||this._getErrorMessage(this.validationResult[n].assert));return t},addError:function(n){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=t.message,u=t.assert,i=t.updateClass,f=void 0===i?!0:i;this._buildUI();this._addError(n,{message:r,assert:u});f&&this._errorClass()},updateError:function(n){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=t.message,u=t.assert,i=t.updateClass,f=void 0===i?!0:i;this._buildUI();this._updateError(n,{message:r,assert:u});f&&this._errorClass()},removeError:function(n){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],t=i.updateClass,r=void 0===t?!0:t;this._buildUI();this._removeError(n);r&&this._manageStatusClass()},_manageStatusClass:function(){this.hasConstraints()&&this.needsValidation()&&!0===this.validationResult?this._successClass():this.validationResult.length>0?this._errorClass():this._resetClass()},_manageErrorsMessages:function(t){if("undefined"==typeof this.options.errorsMessagesDisabled){if("undefined"!=typeof this.options.errorMessage)return t.added.length||t.kept.length?(this._insertErrorWrapper(),0===this._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&this._ui.$errorsWrapper.append(n(this.options.errorTemplate).addClass("parsley-custom-error-message")),this._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(this.options.errorMessage)):this._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var i=0;i<t.removed.length;i++)this._removeError(t.removed[i].assert.name);for(i=0;i<t.added.length;i++)this._addError(t.added[i].assert.name,{message:t.added[i].errorMessage,assert:t.added[i].assert});for(i=0;i<t.kept.length;i++)this._updateError(t.kept[i].assert.name,{message:t.kept[i].errorMessage,assert:t.kept[i].assert})}},_addError:function(t,i){var r=i.message,u=i.assert;this._insertErrorWrapper();this._ui.$errorsWrapper.addClass("filled").append(n(this.options.errorTemplate).addClass("parsley-"+t).html(r||this._getErrorMessage(u)))},_updateError:function(n,t){var i=t.message,r=t.assert;this._ui.$errorsWrapper.addClass("filled").find(".parsley-"+n).html(i||this._getErrorMessage(r))},_removeError:function(n){this._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+n).remove()},_getErrorMessage:function(n){var t=n.name+"Message";return"undefined"!=typeof this.options[t]?window.Parsley.formatMessage(this.options[t],n.requirements):window.Parsley.getErrorMessage(n)},_buildUI:function(){if(!this._ui&&!1!==this.options.uiEnabled){var t={};this.$element.attr(this.options.namespace+"id",this.__id__);t.$errorClassHandler=this._manageClassHandler();t.errorsWrapperId="parsley-id-"+(this.options.multiple?"multiple-"+this.options.multiple:this.__id__);t.$errorsWrapper=n(this.options.errorsWrapper).attr("id",t.errorsWrapperId);t.lastValidationResult=[];t.validationInformationVisible=!1;this._ui=t}},_manageClassHandler:function(){if("string"==typeof this.options.classHandler&&n(this.options.classHandler).length)return n(this.options.classHandler);var t=this.options.classHandler.call(this,this);return"undefined"!=typeof t&&t.length?t:!this.options.multiple||this.$element.is("select")?this.$element:this.$element.parent()},_insertErrorWrapper:function(){var i,r;if(0!==this._ui.$errorsWrapper.parent().length)return this._ui.$errorsWrapper.parent();if("string"==typeof this.options.errorsContainer){if(n(this.options.errorsContainer).length)return n(this.options.errorsContainer).append(this._ui.$errorsWrapper);t.warn("The errors container `"+this.options.errorsContainer+"` does not exist in DOM")}else"function"==typeof this.options.errorsContainer&&(i=this.options.errorsContainer.call(this,this));return"undefined"!=typeof i&&i.length?i.append(this._ui.$errorsWrapper):(r=this.$element,this.options.multiple&&(r=r.parent()),r.after(this._ui.$errorsWrapper))},_actualizeTriggers:function(){var i,r=this,n=this._findRelated();n.off(".Parsley");this._failedOnce?n.on(t.namespaceEvents(this.options.triggerAfterFailure,"Parsley"),function(){r.validate()}):(i=t.namespaceEvents(this.options.trigger,"Parsley"))&&n.on(i,function(n){r._eventValidate(n)})},_eventValidate:function(n){/key|input/.test(n.type)&&(!this._ui||!this._ui.validationInformationVisible)&&this.getValue().length<=this.options.validationThreshold||this.validate()},_resetUI:function(){this._failedOnce=!1;this._actualizeTriggers();"undefined"!=typeof this._ui&&(this._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(),this._ui.lastValidationResult=[],this._ui.validationInformationVisible=!1)},_destroyUI:function(){this._resetUI();"undefined"!=typeof this._ui&&this._ui.$errorsWrapper.remove();delete this._ui},_successClass:function(){this._ui.validationInformationVisible=!0;this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass)},_errorClass:function(){this._ui.validationInformationVisible=!0;this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass)},_resetClass:function(){this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass)}},f=function(t,i,r){this.__class__="ParsleyForm";this.$element=n(t);this.domOptions=i;this.options=r;this.parent=window.Parsley;this.fields=[];this.validationResult=null},b={pending:null,resolved:!0,rejected:!1},f.prototype={onSubmitValidate:function(n){var r=this,i,t;!0!==n.parsley&&(i=this._$submitSource||this.$element.find('input[type="submit"], button[type="submit"]').first(),(this._$submitSource=null,this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!0),i.is("[formnovalidate]"))||(t=this.whenValidate({event:n}),"resolved"===t.state()&&!1!==this._trigger("submit")||(n.stopImmediatePropagation(),n.preventDefault(),"pending"===t.state()&&t.done(function(){r._submit(i)}))))},onSubmitButton:function(t){this._$submitSource=n(t.target)},_submit:function(t){if(!1!==this._trigger("submit")){if(t){var i=this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!1);0===i.length&&(i=n('<input class="parsley-synthetic-submit-button" type="hidden">').appendTo(this.$element));i.attr({name:t.attr("name"),value:t.attr("value")})}this.$element.trigger(n.extend(n.Event("submit"),{parsley:!0}))}},validate:function(i){if(arguments.length>=1&&!n.isPlainObject(i)){t.warnOnce("Calling validate on a parsley form without passing arguments as an object is deprecated.");var r=_slice.call(arguments),u=r[0],f=r[1],e=r[2];i={group:u,force:f,event:e}}return b[this.whenValidate(i).state()]},whenValidate:function(){var f,i=this,r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=r.group,s=r.force,u=r.event,e;return this.submitEvent=u,u&&(this.submitEvent=n.extend({},u,{preventDefault:function(){t.warnOnce("Using `this.submitEvent.preventDefault()` is deprecated; instead, call `this.validationResult = false`");i.validationResult=!1}})),this.validationResult=!0,this._trigger("validate"),this._refreshFields(),e=this._withoutReactualizingFormOptions(function(){return n.map(i.fields,function(n){return n.whenValidate({force:s,group:o})})}),(f=n.when.apply(n,_toConsumableArray(e)).done(function(){i._trigger("success")}).fail(function(){i.validationResult=!1;i.focus();i._trigger("error")}).always(function(){i._trigger("validated")})).pipe.apply(f,_toConsumableArray(this._pipeAccordingToValidationResult()))},isValid:function(i){if(arguments.length>=1&&!n.isPlainObject(i)){t.warnOnce("Calling isValid on a parsley form without passing arguments as an object is deprecated.");var r=_slice.call(arguments),u=r[0],f=r[1];i={group:u,force:f}}return b[this.whenValid(i).state()]},whenValid:function(){var r=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],u=t.group,f=t.force,i;return this._refreshFields(),i=this._withoutReactualizingFormOptions(function(){return n.map(r.fields,function(n){return n.whenValid({group:u,force:f})})}),n.when.apply(n,_toConsumableArray(i))},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var t=this,i=this.fields;return this.fields=[],this.fieldsMappedById={},this._withoutReactualizingFormOptions(function(){t.$element.find(t.options.inputs).not(t.options.excluded).each(function(n,i){var r=new window.Parsley.Factory(i,{},t);"ParsleyField"!==r.__class__&&"ParsleyFieldMultiple"!==r.__class__||!0===r.options.excluded||"undefined"==typeof t.fieldsMappedById[r.__class__+"-"+r.__id__]&&(t.fieldsMappedById[r.__class__+"-"+r.__id__]=r,t.fields.push(r))});n(i).not(t.fields).each(function(n,t){t._trigger("reset")})}),this},_withoutReactualizingFormOptions:function(n){var i=this.actualizeOptions,t;return this.actualizeOptions=function(){return this},t=n(),this.actualizeOptions=i,t},_trigger:function(n){return this.trigger("form:"+n)}},k=function(t,i,r,u,f){if(!/ParsleyField/.test(t.__class__))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");var o=window.Parsley._validatorRegistry.validators[i],e=new p(o);n.extend(this,{validator:e,name:i,requirements:r,priority:u||t.options[i+"Priority"]||e.priority,isDomConstraint:!0===f});this._parseRequirements(t.options)},rt=function(n){var t=n[0].toUpperCase();return t+n.slice(1)},k.prototype={validate:function(n,t){var i=this.requirementList.slice(0);return i.unshift(n),i.push(t),this.validator.validate.apply(this.validator,i)},_parseRequirements:function(n){var t=this;this.requirementList=this.validator.parseRequirements(this.requirements,function(i){return n[t.name+rt(i)]})}},d=function(t,i,r,u){this.__class__="ParsleyField";this.$element=n(t);"undefined"!=typeof u&&(this.parent=u);this.options=r;this.domOptions=i;this.constraints=[];this.constraintsByName={};this.validationResult=!0;this._bindConstraints()},ut={pending:null,resolved:!0,rejected:!1},d.prototype={validate:function(i){arguments.length>=1&&!n.isPlainObject(i)&&(t.warnOnce("Calling validate on a parsley field without passing arguments as an object is deprecated."),i={options:i});var r=this.whenValidate(i);if(!r)return!0;switch(r.state()){case"pending":return null;case"resolved":return!0;case"rejected":return this.validationResult}},whenValidate:function(){var t,n=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],u=i.force,r=i.group;return this.refreshConstraints(),!r||this._isInGroup(r)?(this.value=this.getValue(),this._trigger("validate"),(t=this.whenValid({force:u,value:this.value,_refreshed:!0}).always(function(){n._reflowUI()}).done(function(){n._trigger("success")}).fail(function(){n._trigger("error")}).always(function(){n._trigger("validated")})).pipe.apply(t,_toConsumableArray(this._pipeAccordingToValidationResult()))):void 0},hasConstraints:function(){return 0!==this.constraints.length},needsValidation:function(n){return"undefined"==typeof n&&(n=this.getValue()),n.length||this._isRequired()||"undefined"!=typeof this.options.validateIfEmpty?!0:!1},_isInGroup:function(t){return n.isArray(this.options.group)?-1!==n.inArray(t,this.options.group):this.options.group===t},isValid:function(i){var r;if(arguments.length>=1&&!n.isPlainObject(i)){t.warnOnce("Calling isValid on a parsley field without passing arguments as an object is deprecated.");var u=_slice.call(arguments),f=u[0],e=u[1];i={force:f,value:e}}return r=this.whenValid(i),r?ut[r.state()]:!0},whenValid:function(){var o=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],u=i.force,s=void 0===u?!1:u,t=i.value,f=i.group,h=i._refreshed,e,r;if(h||this.refreshConstraints(),!f||this._isInGroup(f))return(this.validationResult=!0,!this.hasConstraints())?n.when():(("undefined"==typeof t||null===t)&&(t=this.getValue()),!this.needsValidation(t)&&!0!==s)?n.when():(e=this._getGroupedConstraints(),r=[],n.each(e,function(i,u){var f=n.when.apply(n,_toConsumableArray(n.map(u,function(n){return o._validateConstraint(t,n)})));return r.push(f),"rejected"===f.state()?!1:void 0}),n.when.apply(n,r))},_validateConstraint:function(t,i){var r=this,u=i.validate(t,this);return!1===u&&(u=n.Deferred().reject()),n.when(u).fail(function(n){r.validationResult instanceof Array||(r.validationResult=[]);r.validationResult.push({assert:i,errorMessage:"string"==typeof n&&n})})},getValue:function(){var n;return n="function"==typeof this.options.value?this.options.value(this):"undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof n||null===n?"":this._handleWhitespace(n)},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(n,t,i,r){if(window.Parsley._validatorRegistry.validators[n]){var u=new k(this,n,t,i,r);"undefined"!==this.constraintsByName[u.name]&&this.removeConstraint(u.name);this.constraints.push(u);this.constraintsByName[u.name]=u}return this},removeConstraint:function(n){for(var t=0;t<this.constraints.length;t++)if(n===this.constraints[t].name){this.constraints.splice(t,1);break}return delete this.constraintsByName[n],this},updateConstraint:function(n,t,i){return this.removeConstraint(n).addConstraint(n,t,i)},_bindConstraints:function(){for(var t,i=[],r={},n=0;n<this.constraints.length;n++)!1===this.constraints[n].isDomConstraint&&(i.push(this.constraints[n]),r[this.constraints[n].name]=this.constraints[n]);this.constraints=i;this.constraintsByName=r;for(t in this.options)this.addConstraint(t,this.options[t],void 0,!0);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0);"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0);"undefined"!=typeof this.$element.attr("min")&&"undefined"!=typeof this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):"undefined"!=typeof this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):"undefined"!=typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0);"undefined"!=typeof this.$element.attr("minlength")&&"undefined"!=typeof this.$element.attr("maxlength")?this.addConstraint("length",[this.$element.attr("minlength"),this.$element.attr("maxlength")],void 0,!0):"undefined"!=typeof this.$element.attr("minlength")?this.addConstraint("minlength",this.$element.attr("minlength"),void 0,!0):"undefined"!=typeof this.$element.attr("maxlength")&&this.addConstraint("maxlength",this.$element.attr("maxlength"),void 0,!0);var n=this.$element.attr("type");return"undefined"==typeof n?this:"number"===n?this.addConstraint("type",["number",{step:this.$element.attr("step"),base:this.$element.attr("min")||this.$element.attr("value")}],void 0,!0):/^(email|url|range)$/i.test(n)?this.addConstraint("type",n,void 0,!0):this},_isRequired:function(){return"undefined"==typeof this.constraintsByName.required?!1:!1!==this.constraintsByName.required.requirements},_trigger:function(n){return this.trigger("field:"+n)},_handleWhitespace:function(n){return!0===this.options.trimValue&&t.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'),"squish"===this.options.whitespace&&(n=n.replace(/\s{2,}/g," ")),("trim"===this.options.whitespace||"squish"===this.options.whitespace||!0===this.options.trimValue)&&(n=t.trimString(n)),n},_getGroupedConstraints:function(){var t;if(!1===this.options.priorityEnabled)return[this.constraints];for(var i=[],r={},n=0;n<this.constraints.length;n++)t=this.constraints[n].priority,r[t]||i.push(r[t]=[]),r[t].push(this.constraints[n]);return i.sort(function(n,t){return t[0].priority-n[0].priority}),i}},e=d,g=function(){this.__class__="ParsleyFieldMultiple"},g.prototype={addElement:function(n){return this.$elements.push(n),this},refreshConstraints:function(){var i,r,t;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(r=0;r<this.$elements.length;r++)if(n("html").has(this.$elements[r]).length)for(i=this.$elements[r].data("ParsleyFieldMultiple").refreshConstraints().constraints,t=0;t<i.length;t++)this.addConstraint(i[t].name,i[t].requirements,i[t].priority,i[t].isDomConstraint);else this.$elements.splice(r,1);return this},getValue:function(){if("function"==typeof this.options.value)return this.options.value(this);if("undefined"!=typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return this._findRelated().filter(":checked").val()||"";if(this.$element.is("input[type=checkbox]")){var t=[];return this._findRelated().filter(":checked").each(function(){t.push(n(this).val())}),t}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function(){return this.$elements=[this.$element],this}},h=function(t,i,r){this.$element=n(t);var u=this.$element.data("Parsley");if(u)return"undefined"!=typeof r&&u.parent===window.Parsley&&(u.parent=r,u._resetOptions(u.options)),u;if(!this.$element.length)throw new Error("You must bind Parsley on an existing element.");if("undefined"!=typeof r&&"ParsleyForm"!==r.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.parent=r||window.Parsley,this.init(i)},h.prototype={init:function(n){return this.__class__="Parsley",this.__version__="2.3.11",this.__id__=t.generateID(),this._resetOptions(n),this.$element.is("form")||t.checkAttr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.isMultiple()?this.handleMultiple():this.bind("parsleyField")},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")||this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")},handleMultiple:function(){var u,i,e=this,f,r;if(this.options.multiple||("undefined"!=typeof this.$element.attr("name")&&this.$element.attr("name").length?this.options.multiple=u=this.$element.attr("name"):"undefined"!=typeof this.$element.attr("id")&&this.$element.attr("id").length&&(this.options.multiple=this.$element.attr("id"))),this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple"))return this.options.multiple=this.options.multiple||this.__id__,this.bind("parsleyFieldMultiple");if(!this.options.multiple)return t.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;for(this.options.multiple=this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),"undefined"!=typeof u&&n('input[name="'+u+'"]').each(function(t,i){n(i).is("input[type=radio], input[type=checkbox]")&&n(i).attr(e.options.namespace+"multiple",e.options.multiple)}),f=this._findRelated(),r=0;r<f.length;r++)if(i=n(f.get(r)).data("Parsley"),"undefined"!=typeof i){this.$element.data("ParsleyFieldMultiple")||i.addElement(this.$element);break}return this.bind("parsleyField",!0),i||this.bind("parsleyFieldMultiple")},bind:function(i,u){var o;switch(i){case"parsleyForm":o=n.extend(new f(this.$element,this.domOptions,this.options),new r,window.ParsleyExtend)._bindFields();break;case"parsleyField":o=n.extend(new e(this.$element,this.domOptions,this.options,this.parent),new r,window.ParsleyExtend);break;case"parsleyFieldMultiple":o=n.extend(new e(this.$element,this.domOptions,this.options,this.parent),new g,new r,window.ParsleyExtend)._init();break;default:throw new Error(i+"is not a supported Parsley type");}return this.options.multiple&&t.setAttr(this.$element,this.options.namespace,"multiple",this.options.multiple),"undefined"!=typeof u?(this.$element.data("ParsleyFieldMultiple",o),o):(this.$element.data("Parsley",o),o._actualizeTriggers(),o._trigger("init"),o)}},v=n.fn.jquery.split("."),parseInt(v[0])<=1&&parseInt(v[1])<8)throw"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better.";v.forEach||t.warn("Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim");i=n.extend(new r,{$element:n(document),actualizeOptions:null,_resetOptions:null,Factory:h,version:"2.3.11"});n.extend(e.prototype,o.Field,r.prototype);n.extend(f.prototype,o.Form,r.prototype);n.extend(h.prototype,r.prototype);n.fn.parsley=n.fn.psly=function(i){if(this.length>1){var r=[];return this.each(function(){r.push(n(this).parsley(i))}),r}return n(this).length?new h(this,i):void t.warn("You must bind Parsley on an existing element.")};"undefined"==typeof ParsleyExtend&&(window.ParsleyExtend={});i.options=n.extend(t.objectCreate(tt),window.ParsleyConfig);window.ParsleyConfig=i.options;window.Parsley=window.psly=i;window.ParsleyUtils=t;ft=window.Parsley._validatorRegistry=new w(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);window.ParsleyValidator={};n.each("setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator".split(" "),function(i,r){window.Parsley[r]=n.proxy(ft,r);window.ParsleyValidator[r]=function(){var n;return t.warnOnce("Accessing the method '"+r+"' through ParsleyValidator is deprecated. Simply call 'window.Parsley."+r+"(...)'"),(n=window.Parsley)[r].apply(n,arguments)}});window.Parsley.UI=o;window.ParsleyUI={removeError:function(n,i,r){var u=!0!==r;return t.warnOnce("Accessing ParsleyUI is deprecated. Call 'removeError' on the instance directly. Please comment in issue 1073 as to your need to call this method."),n.removeError(i,{updateClass:u})},getErrorsMessages:function(n){return t.warnOnce("Accessing ParsleyUI is deprecated. Call 'getErrorsMessages' on the instance directly."),n.getErrorsMessages()}};n.each("addError updateError".split(" "),function(n,i){window.ParsleyUI[i]=function(n,r,u,f,e){var o=!0!==e;return t.warnOnce("Accessing ParsleyUI is deprecated. Call '"+i+"' on the instance directly. Please comment in issue 1073 as to your need to call this method."),n[i](r,{message:u,assert:f,updateClass:o})}});!1!==window.ParsleyConfig.autoBind&&n(function(){n("[data-parsley-validate]").length&&n("[data-parsley-validate]").parsley()});var pt=n({}),s=function(){t.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")},et="parsley:";return n.listen=function(n,t){var i;if(s(),"object"==typeof arguments[1]&&"function"==typeof arguments[2]&&(i=arguments[1],t=arguments[2]),"function"!=typeof t)throw new Error("Wrong parameters");window.Parsley.on(u(n),nt(t,i))},n.listenTo=function(n,t,i){if(s(),!(n instanceof e||n instanceof f))throw new Error("Must give Parsley instance");if("string"!=typeof t||"function"!=typeof i)throw new Error("Wrong parameters");n.on(u(t),nt(i))},n.unsubscribe=function(n,t){if(s(),"string"!=typeof n||"function"!=typeof t)throw new Error("Wrong arguments");window.Parsley.off(u(n),t.parsleyAdaptedCallback)},n.unsubscribeTo=function(n,t){if(s(),!(n instanceof e||n instanceof f))throw new Error("Must give Parsley instance");n.off(u(t))},n.unsubscribeAll=function(t){s();window.Parsley.off(u(t));n("form,input,textarea,select").each(function(){var i=n(this).data("Parsley");i&&i.off(u(t))})},n.emit=function(n,t){var o,i,r;s();i=t instanceof e||t instanceof f;r=Array.prototype.slice.call(arguments,i?2:1);r.unshift(u(n));i||(t=window.Parsley);(o=t).trigger.apply(o,_toConsumableArray(r))},n.extend(!0,i,{asyncValidators:{"default":{fn:function(n){return n.status>=200&&n.status<300},url:!1},reverse:{fn:function(n){return n.status<200||n.status>=300},url:!1}},addAsyncValidator:function(n,t,r,u){return i.asyncValidators[n]={fn:t,url:r||!1,options:u||{}},this}}),i.addValidator("remote",{requirementType:{"":"string",validator:"string",reverse:"boolean",options:"object"},validateString:function(t,r,u,f){var o,s,l={},e=u.validator||(!0===u.reverse?"reverse":"default"),a,h,c;if("undefined"==typeof i.asyncValidators[e])throw new Error("Calling an undefined async validator: `"+e+"`");return r=i.asyncValidators[e].url||r,r.indexOf("{value}")>-1?r=r.replace("{value}",encodeURIComponent(t)):l[f.$element.attr("name")||f.$element.attr("id")]=t,a=n.extend(!0,u.options||{},i.asyncValidators[e].options),o=n.extend(!0,{},{url:r,data:l,type:"GET"},a),f.trigger("field:ajaxoptions",f,o),s=n.param(o),"undefined"==typeof i._remoteCache&&(i._remoteCache={}),h=i._remoteCache[s]=i._remoteCache[s]||n.ajax(o),c=function(){var t=i.asyncValidators[e].fn.call(f,h,r,u);return t||(t=n.Deferred().reject()),n.when(t)},h.then(c,c)},priority:-1}),i.on("form:submit",function(){i._remoteCache={}}),window.ParsleyExtend.addAsyncValidator=function(){return ParsleyUtils.warnOnce("Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`"),i.addAsyncValidator.apply(i,arguments)},i.addMessages("en",{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),i.setLocale("en"),ot=new st,ot.install(),i});FHI={};$(document).ready(function(){"use strict";if($(".fhi-popover").gpopover({width:195}),window.onbeforeprint=function(){$(".textual-block h3").each(function(){$(this).next("p, ul").addBack().wrapAll('<div class="no-break-inside" />')});$(".textual-block h2").each(function(){$(this).next("p, ul, h3, .no-break-inside").addBack().wrapAll('<div class="no-break-inside" />')});$(".textual-block .figure:not(.table)").each(function(){$(this).next(".caption").addBack().wrapAll('<div class="no-break-inside" />')});$(".textual-block figure.table table td, .textual-block figure.table table th").each(function(){$(this).css("width","unset")});document.querySelectorAll(".textual-block p").forEach(function(n){n.innerHTML=n.innerHTML.replace(/&nbsp;/g," ")})},window.onafterprint=function(){$(".textual-block h3").each(function(){$(this).next("p, ul").addBack().unwrap(".no-break-inside")});$(".textual-block h2").each(function(){$(this).next("p, ul, h3, .no-break-inside").addBack().unwrap(".no-break-inside")});$(".textual-block .figure:not(.table)").each(function(){$(this).next(".caption").addBack().unwrap(".no-break-inside")})},$(".fhi-sticky").sticky({topSpacing:20,widthFromWrapper:!1}),$(".fhi-vaccine-group__vaccine").each(function(){$(this).parent().attr("role","listitem").parent().attr("role","list")}),$(".fhi-page-search-container").length>0){var n=$(".fhi-page-search-container").data("page-list"),t={data:n,getValue:"name",minCharNumber:2,list:{sort:{enabled:!0},match:{enabled:!0},onKeyEnterEvent:function(){var n=$("#fhi-page-search-input").getSelectedItemData();window.location.href=n.url}},template:{type:"links",fields:{link:"url"}}};n&&$("#fhi-page-search-input").easyAutocomplete(t);$("#fhi-page-search").on("submit",function(n){var u;n.preventDefault();var t=$("#fhi-page-search-input").getItems(),r=$("#fhi-page-search-input").val(),i=window.location.pathname;r&&t&&t.length>0&&(i+="?term="+r+"&ids=",u=t.map(function(n){return n.id}),i+=u.join(","),window.location.href=i)});$(".fhi-page-reset-search").on("click",function(){window.location.href=window.location.pathname})}});utils={};utils.isSubmitEvent=function(n){var i=document.getElementsByTagName("html")[0].dataset.whatinput=="keyboard"?!0:!1,t;return n.type=="click"&&!i?!0:(t=n.charCode||n.keyCode,t==32||t==13)?!0:!1};utils.capitalizeFirstLetter=function(n){return n.charAt(0).toUpperCase()+n.slice(1)};utils.createCookie=function(n,t,i){var r,u;i?(r=new Date,r.setTime(r.getTime()+i*864e5),u="; expires="+r.toGMTString()):u="";document.cookie=n+"="+t+u+"; path=/"};utils.getCookie=function(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1,t.length);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return null};utils.eraseCookie=function(n){createCookie(n,"",-1)};utils.createLink=function(n,t,i){var r=document.createElement("a");return r.href=n,r.target=t,r.rel=i,r};utils.waitAndExecute=function(n,t,i){var r=0,u=setInterval(function(){r>=t&&clearInterval(u);r++;i()==!0&&clearInterval(u)},n)};utils.formatNumbers=function(n){$(n).each(function(){var n=$(this).text().replace(",",".");n=n.replace(/\s/g,"");$(this).text().endsWith("%")?(n=n.slice(0,n.length-1),n=(new Intl.NumberFormat).format(n),n=n.toString().concat("%")):$(this).text().endsWith("+")?(n=n.slice(0,n.length-1),n=(new Intl.NumberFormat).format(n),n=n.toString().concat("+")):n=(new Intl.NumberFormat).format(n);$(this).text(n)})};$(document).ready(function(){$("[data-autocomplete-url]").each(function(){$(this).autocomplete({appendTo:$(this).parent(),minLength:2,delay:500,disabled:$(this).data("autocomplete-enabled"),source:$(this).data("autocomplete-url"),select:function(n,t){t.item&&$(n.target).val(t.item.value);$(n.target.form).submit()}})})}),function(){$("[data-is-block-toggler]").on("click",function(n){n&&this.tagName==="LABEL"&&(n.preventDefault(),$(this).find("input").prop("checked",!$(this).find("input").prop("checked")));var t=$("#"+$(this).attr("aria-controls")),i=$(this).attr("aria-expanded")==="true";i?(t.addClass("is-hidden"),$(this).attr("aria-expanded",!1)):(t.removeClass("is-hidden"),$(this).attr("aria-expanded",!0))}).each(function(n){var t=$("#"+$(this).attr("aria-controls")),i=$(n).attr("aria-expanded")==="false";i?t.removeClass("is-hidden"):t.addClass("is-hidden")})}(FHI);$(function(){function o(){n.hasClass("expanded")?(n.removeClass("expanded"),t.css("max-height",i)):(n.addClass("expanded"),t.css("max-height",1e4));$(this).text(function(){return n.hasClass("expanded")?e:u})}$(".fhi-report-chapters").length>0&&$(".fhi-report-chapters").children().length>1&&$(".fhi-report-chapters").removeClass("fhi-hidden");var n=$(".fhi-report-chapters"),t=n.find("ul"),r=t.children(),u=n.hasClass("english")?"Show all":"Vis alle",e=n.hasClass("english")?"Close":"Lukk",f=$("<div id='index-toggler'>"+u+"<\/div>"),i;r.length>10&&(i=i=r.eq(9).offset().top-n.offset().top+r.eq(9).outerHeight()+15,n.append(f),f.click(o),t.css("max-height",i))}),function(n){$(function(){var t=$("div#cookie-banner"),i=t.find(".fhi-col"),f=14,r="cookie-consent",u="true";if(t.hasClass("english")?i.append("<button type='button'class='fhi-button fhi-button--round fhi-button--white'>Close<\/button>"):i.append("<button type='button'class='fhi-button fhi-button--round fhi-button--white'>Lukk<\/button>"),!1&&n.eraseCookie(r),n.getCookie(r)!=u){t.show();i.on("click","button",function(){t.hide();n.createCookie(r,u,f)})}})}(utils),function(){function n(n,t){t=t||{bubbles:!1,cancelable:!1,detail:undefined};var i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),i}if(typeof window.CustomEvent=="function")return!1;n.prototype=window.Event.prototype;window.CustomEvent=n}();utils=utils||{};aria=aria||{};utils.initDropdown=function(n,t){var u=$(n+" .fhi-dropdown-list"),i,r;if(t!="undefined"&&t.length>0)for(i=0;i<t.length;i++)r=document.createElement("LI"),r.id=n+"-"+t[i].id,r.dataset.county=t[i].id,r.innerHTML=t[i].name,r.setAttribute("role","option"),u.append(r);var f=document.querySelector(n+" .fhi-dropdown-btn"),e=new aria.Listbox(document.querySelector(n+" .fhi-dropdown-list")),o=new aria.ListboxButton(f,e)};$(document).ready(function(){filter()}),function(){if($(".fhi-expandable-box").length>0)$(".fhi-expandable-header a").on("click",function(n){n.preventDefault();const t=$(this).closest(".fhi-expandable-box");t.find(".fhi-expandable-header").toggleClass("open");t.find(".fhi-expandable-content").toggle(200);var i=t.find(".fhi-expandable-content").attr("aria-expanded")==="true";t.find(".fhi-expandable-content").attr("aria-expanded",!i)})}(FHI),function(){if($(".fhi-expandable-filterbox").length>0)$(".fhi-expandable-filterheader a").on("click",function(n){n.preventDefault();const t=$(this).closest(".fhi-expandable-filterbox");t.find(".fhi-expandable-filterheader").toggleClass("open");t.find(".fhi-expandable-filtercontent").slideToggle(300);var i=t.find(".fhi-expandable-filtercontent").attr("aria-expanded")==="true";t.find(".fhi-expandable-filtercontent").attr("aria-expanded",!i)})}(FHI),function(){$("[data-is-expandable]").click(function(){var n=$(this).attr("aria-expanded")==="true";$(this).attr("aria-expanded",!n)})}(FHI),function(){(window.matchMedia&&window.matchMedia("(max-width: 750px)").matches||$("[data-auto-collapse-chapters]").length)&&($(".textual-block div:has(h2)").contents().unwrap(),$(".textual-block h2:not([data-is-expandable])").each(function(n){var t=$(this),i=t.nextUntil("h2");i.wrapAll("<div class='expandable-block'>");t.addClass("expandable-heading");n===0&&t.attr("aria-expanded",!0);t.attr("role","button").attr("tabindex",0)}));$(".expandable-heading:not([data-is-expandable])").on("click keydown",function(n){(n.type!=="keydown"||n.which==13)&&($(this).blur(),$(this).attr("aria-expanded",!($(this).attr("aria-expanded")==="true")),$(this).next().addClass("ie-fake").removeClass("ie-fake"))})}(FHI||{}),function(){var n=".hideShow-box, .hideShow-box-english";$(n).each(function(){var u,t;if(!$(this).hasClass("non-collapsible")){u=$(this).find(".hideShow-box-content");t=$("html").attr("lang")!="no";u.length||$(this).children().not(".hideShow-infotext").not("h2:first-child, h3:first-child").wrapAll("<div class='hideShow-box-content' />");var i=$(this).find(".hideShow-infotext").detach().eq(0),f=i.text(),r="";r=t?$(this).hasClass("expanded")?$("<span class='hideShow-infotext expanded fhi-print--hidden'>Close<\/span>"):$("<span class='hideShow-infotext fhi-print--hidden'>Show more<\/span>"):$(this).hasClass("expanded")?$("<span class='hideShow-infotext expanded fhi-print--hidden'>Lukk<\/span>"):$("<span class='hideShow-infotext fhi-print--hidden'>Vis mer<\/span>");i.length?($(this).append(i),i.click(e)):($(this).append(r),f=t?"Show more":"Vis mer",r.click(e));function e(){$(this).parents(n).toggleClass("expanded");$(this).toggleClass("expanded").text(function(){return $(this).hasClass("expanded")?t?"Close":"Lukk":f})}}})}(FHI),function(){$(".textual-block > figure.minimized").click(function(){$(this).toggleClass("expanded")})}(FHI),function(){"use strict";var n,t,i;if($("[data-auto-jumpto-index]").length){n=$("<div class='internal-chapters'>");t=$("<ul class=''>").appendTo(n);function r(n){var u=$(n),i=u.text(),r=i.toLowerCase().replace("æ","ae").replace("ø","oe").replace("å","aa").replace(/[^\w ]+/g,"").replace(/ +/g,"-"),f=$("<li>").append($("<a>").text(i).attr("href","#"+r));$(n).attr("id",r);f.appendTo(t)}i=$("[data-auto-jumpto-index] h2:visible, [data-auto-jumpto-index] h2 + a:visible, .jumpto-index-heading");i.length>0?(i.each(function(n,t){r(t)}),t.appendTo(n),$("#internal-chapters").after(n)):$(".internal-chapters-container").remove()}}(FHI||{});$(function(){function n(){var n=$(".key-figure-single .fhi-key-figure-number");n.each(function(){var n=$(this).find("span"),i;for(n.css("font-size",t);$(this).width()<n.width();)i=parseInt(n.css("font-size")),n.css("font-size",i-5);while($(this).width()>n.width()+50&&i<$(this).height())i=parseInt(n.css("font-size")),n.css("font-size",i+5)})}var t=$(".key-figure-single .fhi-key-figure-number span").eq(0).css("font-size");n();utils.formatNumbers(".fhi-key-figure-number span");$(window).resize(function(){this.setTimeout(function(){n()},500)})});$(document).ready(function(){const n=$(".fhi-local-menu-close-button"),t=$(".fhi-local-menu");n.on("click",function(n){n.preventDefault();t.toggleClass("open");$(".fhi-local-menu-item-togglable").toggle(200)})}),function(n){"use strict";function d(){var n=i.attr("aria-expanded")==="true";n?(f.removeClass("main-menu-open"),r()):(f.addClass("main-menu-open"),y(),t.find(".is-top-level:first > button").focus())}function c(n){if(n.type!=="keydown"||n.which==o){var i=$(this),r=i.parent().attr("aria-expanded")==="true";t.find(".is-selected").attr("aria-expanded",!1);t.find(".is-open, .is-selected, li.fhi-hidden").removeClass("is-open is-selected fhi-hidden");i.find(".icon-arrow-left").removeClass(" icon-arrow-left").addClass("icon-plus-nav");r?i.parent().attr("aria-expanded",!1):(i.parent().attr("aria-expanded",!0),e.addClass("fhi-header--is-expanded"),t.find(".is-top-level").not(i.parent()).addClass("fhi-hidden"),i.parent().addClass("is-selected").attr("aria-expanded",!0),i.next().addClass("is-open"),i.find(".icon-plus-nav").removeClass("icon-plus-nav").addClass("icon-arrow-left"));u();n.preventDefault()}}function g(n){if(n.type!=="keydown"||n.which==o){var i=$(this).parent(),r=i.attr("aria-expanded")==="true";n.preventDefault();i.find(".icon-arrow-left").removeClass(" icon-arrow-left").addClass("icon-plus-nav");r?(i.attr("aria-expanded",!1),t.find(".is-top-level.is-selected").children(".fhi-mega-menu__button").removeClass("fhi-hidden"),t.find(".fhi-mega-menu__list-item").not(i).not(".fhi-mega-menu__sub-inner *").removeClass("fhi-hidden"),i.removeClass("is-open")):(t.find(".fhi-mega-menu__list-item").not(i).removeClass("is-open").attr("aria-expanded",!1),i.addClass("is-open"),i.attr("aria-expanded",!0),t.find(".is-top-level.is-selected").children(".fhi-mega-menu__button").addClass("fhi-hidden"),t.find(".fhi-mega-menu__list-item").not(i).not(".fhi-mega-menu__sub-inner *").addClass("fhi-hidden"),i.find(".icon-plus-nav").removeClass("icon-plus-nav").addClass("icon-arrow-left"));u()}}function r(n){n&&n.type==="keydown"&&n.which!=o||($(".fhi-mega-menu__list").find("a, button").attr("tabindex","-1"),$("#toggle-menu-sr, .fhi-menu-close").attr("tabindex","-1"),f.removeClass("main-menu-open"),s.removeClass("icon-x--white").addClass("icon-hamburger"),t.removeClass("is-open"),h.removeClass("is-open"),e.removeClass("fhi-header--is-expanded"),t.find(".is-top-level").removeClass("fhi-hidden"),t.find(".icon-arrow-left").removeClass(" icon-arrow-left").addClass("icon-plus-nav"),i.attr("aria-expanded",!1),u(),n&&n.preventDefault(),t.removeClass("fhi-position-static--mobile"))}function y(n){if(!n||n.type!=="keydown"||n.which==o){$(".fhi-mega-menu__list").find("a, button").attr("tabindex","0");$("#toggle-menu-sr, .fhi-menu-close").attr("tabindex","0");nt();const r=[];b.find(".fhi-breadcrumb-item").each(function(n,t){r.push($(t).text())});t.find(".is-top-level").each(function(n,t){const i=$($(t).find(".top-menu-item-title"));if(i&&r.includes(i.text())&&(i.closest("button").addClass("active"),i.trigger("click"),r.length>1)){const n=$(t).find(".fhi-mega-menu__list-item--expandable");$(n).each(function(n,t){const i=$(t).children("a").first(),u=$(i).children("span").first().text();u!==""&&r.includes(u)&&(i.addClass("active"),i.trigger("click"))})}});f.addClass("main-menu-open");s.removeClass("icon-hamburger").addClass("icon-x--white");t.addClass("is-open");h.addClass("is-open");i.attr("aria-expanded",!0);e.addClass("fhi-header--is-expanded");u();n&&n.preventDefault();setTimeout(function(){t.addClass("fhi-position-static--mobile")},300)}}function nt(){e.removeClass("fhi-header--is-expanded");s.removeClass("icon-x--white").addClass("icon-hamburger");t.removeClass("is-open");h.removeClass("is-open");t.find(".is-selected").attr("aria-expanded",!1);t.find(".fhi-mega-menu__list-item").attr("aria-expanded",!1);t.find(".is-open, .is-selected, li.fhi-hidden").removeClass("is-open is-selected fhi-hidden");t.find(".icon-arrow-left").removeClass(" icon-arrow-left").addClass("icon-plus-nav");t.find(".fhi-mega-menu__sub.is-open").removeClass("is-open")}function tt(){t.find(".is-selected").attr("aria-expanded",!1);t.find(".fhi-mega-menu__list-item").attr("aria-expanded",!1);t.find(".is-open, .is-selected, li.fhi-hidden").removeClass("is-open is-selected fhi-hidden");t.find(".is-top-level").children(".fhi-mega-menu__button").removeClass("fhi-hidden");t.find(".icon-arrow-left").removeClass(" icon-arrow-left").addClass("icon-plus-nav");u()}function u(){const n=t.find(".is-top-level.is-selected").length>0;v.toggleClass("fhi-hidden",!n)}var f=$("body"),i=$("#toggle-menu"),s=i.find("span:first-child"),e=$(".fhi-header"),t=$("#main-nav"),h=$("#top-links"),l=$(".fhi-menu-close"),p=$(".is-top-level > button"),w=$(".fhi-mega-menu__list-item--expandable > a"),a=$(".fhi-overlay"),v=$(".fhi-menu-back");const b=$("#breadcrumbs-menu");var it=window.matchMedia("(max-width: 995px)").matches,k=27,o=13;$(".fhi-mega-menu__list").find("a, button").attr("tabindex","-1");$("#toggle-menu-sr, .fhi-menu-close").attr("tabindex","-1");i.click(d);p.on("click keydown",c);w.on("click keydown",g);l.on("click keydown",c);l.on("click keydown",r);a.on("click keydown",c);a.on("click keydown",r);v.on("click keydown",tt);$(".breadcrumbs-menu, .main-nav").on("keydown",function(n){n.which===k&&r()});n.Menu={close:r,open:y}}(FHI||{});ParsleyConfig.trigger="blur";ParsleyConfig.triggerAfterFailure="blur",function(n){"use strict";$(function(){if($("[data-quiz]").length>0){var f=$("[data-quiz]").find(".quiz-question-container"),s=f.length,i=0,t=-1,r=$(".quiz-footer button.start"),e=$(".quiz-footer button.next"),u=$(".quiz-footer button.finish"),o=$(".quiz-footer button.retake");function h(){t=t+1;f.each(function(n){n!=t?$(this).hide():$(this).show()})}function l(){for(var t,r,u,i=document.getElementsByClassName("quiz-illustration"),n=0;n<i.length;n++)t=i[n].querySelector("iframe"),r=i[n].querySelector("video"),t!==null&&(u=t.src,t.src=u),r!==null&&r.pause()}function a(){return document.getElementsByClassName("quiz")[0].getBoundingClientRect().bottom>=(window.innerHeight||document.documentElement.clientHeight)}function v(){return document.getElementsByClassName("quiz")[0].getBoundingClientRect().top<0}function c(n){v()&&$("html, body").animate({scrollTop:$(".quiz").offset().top},n)}function y(n){a()&&$("html, body").animate({scrollTop:$(".quiz-footer").offset().top-$(window).height()+$(".quiz-footer").height()+15},n)}h();$("[data-quiz]").on("click keypress",".quiz-option input, .quiz-option label",function(f){if(n.isSubmitEvent(f)&&$(this).prop("disabled")==!1){var o=$(this).parent();o.closest(".quiz-options-list").find(".quiz-option input").prop("disabled",!0).attr("aria-disabled",!0);o.closest(".quiz-options-list").find("[data-correct='True']").addClass("correct");o.data("correct")=="True"?(i=i+1,o.closest(".quiz-question-container").find(".quiz-answer.correct").show()):(o.addClass("false"),o.closest(".quiz-question-container").find(".quiz-answer.false").show());t<s-1?t==0?r.show():e.show():u.show();y(500)}});r.on("click keypress",function(t){n.isSubmitEvent(t)&&(c(500),l(),h(),$(this).hide())});e.on("click keypress",function(t){n.isSubmitEvent(t)&&(c(500),l(),h(),$(this).hide())});u.on("click keypress",function(t){t.preventDefault();n.isSubmitEvent(t)&&(c(500),l(),h(),$(this).hide(),$(".quiz-feedback-container").show().find(".quiz-feedback").each(function(){if(i>=$(this).data("min-score"))return $(this).show(),!1}).find(".score").text(i),o.show())});o.on("click keypress",function(f){n.isSubmitEvent(f)&&($(this).hide(),i=0,t=-1,u.removeClass("gt-quiz-finish"),r.removeClass("gt-quiz-begin"),$(".quiz-option").removeClass("correct").removeClass("false").find("input").prop("disabled",!1).attr("aria-disabled",!1).prop("checked",!1),$(".quiz-feedback-container, .quiz-answer, .quiz-feedback").hide(),h(),c(0))});$(window).resize(function(){var n={height:$(".quiz-illustration.video iframe").attr("height"),width:$(".quiz-illustration.video iframe").attr("width")},i=n.height/n.width,t=document.getElementsByClassName("quiz-body")[0].getBoundingClientRect().width;$(".quiz-illustration.video iframe").attr("width",t).attr("height",t*i)}).resize()}})}(utils),function(){function n(n){return n.$element[0].type.toLowerCase()=="radio"||n.$element[0].type.toLowerCase()=="checkbox"}window.Parsley.on("field:error",function(){n(this)&&this.$element.parent().parent().parent().addClass("parsley-error")});window.Parsley.on("field:success",function(){n(this)&&this.$element.parent().parent().parent().removeClass("parsley-error")})}(FHI);$(function(){function i(){var t=$(window).scrollTop(),i=$(window).height();t>i*.125?n.addClass("is-on"):n.removeClass("is-on")}var n=$(".scroll-to-top"),t;n.length&&($(window).scroll(function(){clearTimeout(t);t=setTimeout(i,100)}),i())});$(function(){$("[data-is-expandable-smaller-screens]").on("click keydown",function(n){if((n.type!=="keydown"||n.which==13)&&window.matchMedia&&window.matchMedia("(max-width: 1023px)").matches){var t=$(this).attr("aria-expanded")==="true";$(this).attr("aria-expanded",!t)}}).each(function(n,t){window.matchMedia&&window.matchMedia("(max-width: 1023px)").matches&&$(t).attr("aria-role","button").attr("aria-expanded",!1).attr("tabindex",0)});var n;$(window).resize(function(){clearTimeout(n);n=setTimeout(function(){window.matchMedia&&window.matchMedia("(max-width: 1023px)").matches||$("[data-is-expandable-smaller-screens]").removeAttr("aria-role").removeAttr("aria-expanded").removeAttr("tabindex")},500)});$(".search-filter ul.fhi-filter-list input").click(function(){window.location.href=$(this).attr("value")});$("fieldset.order-by input").click(function(){window.location.href=$(this).attr("value")})}),function(){$(".select select").each(function(){var n=$(this).parent();$(this).focus(function(){n.addClass("has-focus")});$(this).blur(function(){n.removeClass("has-focus")})});window.Parsley.on("field:error",function(){this.$element[0].tagName=="SELECT"&&this.$element.removeClass("parsley-error").parent().addClass("parsley-error")});window.Parsley.on("field:success",function(){this.$element[0].tagName=="SELECT"&&this.$element.parent().removeClass("parsley-error")})}(FHI),function(){$(".close-shopping-cart-alert").click(function(){$(this).parent().removeClass("is-on")})}(FHI),function(){$(".textual-block table.largeTable:not(.figure table)").wrap("<figure class='figure table is-stretchy'><\/figure>");$(".textual-block table:not(.figure table)").wrap("<figure class='figure table '><\/figure>");$(".textual-block table.plainTableLarge").parent().addClass("noMarginTable")}(FHI),function(n){$(function(){$(".textual-block span.definition").each(function(t){var i=$(this),r="def"+Date.now()+t,e=i.attr("title"),u,f;i.replaceWith("<span class='fhi-visually-hidden'>"+i.text()+"<\/span> <button id='"+r+"' class='fhi-word-definition' type='button' aria-describedby='toggle-"+r+"'>"+i.text()+"<\/button>");i=$("#"+r);$("html").attr("lang")!="no"?i.attr("aria-label","Click to read a description of ")+i.text():i.attr("aria-label","Klikk for å lese en beskrivelse av "+i.text());u=i.closest(".textual-block");u.css("position","relative");f=$("html").attr("lang")!="no"?"Close":"Lukk";u.find(".fhi-word-definition-wrapper").append("<div id='toggle-"+r+"' class='fhi-word-definition-text'><p><strong aria-hidden='true'>"+n.capitalizeFirstLetter(i.text())+"<\/strong><\/p><p>"+e+"<\/p><button type='button' class='icon-x--red circle is-white fhi-word-definition-close' aria-label='"+f+"'><\/button><\/div>")});$(".fhi-word-definition").on("click keypress",function(t){if(t.stopPropagation(),n.isSubmitEvent(t)){$(".fhi-word-definition-text").each(function(n,t){$(t).removeClass("visible")});positionToggletip(t);$(document).on("click keypress",function(n){n.stopPropagation();$(".fhi-word-definition-text").each(function(){$(this).removeClass("visible");$(document).off("click keypress")})})}})})}(utils)