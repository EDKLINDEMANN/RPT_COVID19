!function(e,i,t,o){const l="https://cdn.iol.pt/js/utils/onlive/assets",n={project:"",imageUrl:"",imageId:"5a85dfa80cf2c0b845730812"};e.fn.iolonlive=function(i){e(this).data("iolonlive",new a(this,i))};var a=function(t,o){if(this.iolOnlive={},this.iolOnlive.element=e(t),this.iolOnlive.options=e.extend(!0,{},n,o),this.iolOnlive.onliveCookieName=`${this.iolOnlive.options.project?this.iolOnlive.options.project:"mcd"}-onlive-footer-close`,this.iolOnlive.loadedItems=[],this.iolOnlive.options.imageId&&!this.iolOnlive.options.imageUrl){var l=i.innerWidth>=1024?1300:2*i.innerWidth;this.iolOnlive.options.imageWidth=Number.isInteger(this.iolOnlive.options.width)?this.iolOnlive.options.width:l,this.iolOnlive.options.imageUrl="https://www.iol.pt/multimedia/oratvi/multimedia/imagem/id/"+this.iolOnlive.options.imageId+"/"+this.iolOnlive.options.imageWidth}var a=""!==this.iolOnlive.options.project?`https://services.iol.pt/onLive/getLivesByProject?project=${this.iolOnlive.options.project}`:"https://services.iol.pt/onLive/getLives",s=this;e.ajax({url:a,async:!1,contentType:"text/plain",success:function(e){s.iolOnlive.availableLives=e,s.initIOLOnlive()},error:function(e){s.iolOnlive.result=void 0}})};a.prototype={initIOLOnlive:function(){if(!this.iolOnlive.availableLives)return!1;var i=e.cookie("jwiol");if(i)this.iolOnlive.playerTK=`?wmsAuthSign=${i}`,this.createIOLOnlive();else{this.iolOnlive.uname=this.getUser();var t=this;e.ajax({url:`https://services.iol.pt/matrix?userId=${t.iolOnlive.uname}`,async:!1,contentType:"text/plain",success:function(i){t.iolOnlive.playerTK=`?wmsAuthSign=${i}`;var o=new Date,l=new Date;l.setTime(l.getTime()+72e6),e.cookie("jwiol",i,{expires:l,domain:"iol.pt",path:"/"}),e.cookie("jwiol_c",o,{expires:l,domain:"iol.pt",path:"/"}),t.createIOLOnlive()},error:function(e){}})}},createIOLOnlive:function(){this.loadScripts(),this.loadStyles();let i=e(`<div class="title"><img src="${l}/live.gif" width="14"/> EM DIRETO AGORA<a id="close-iol-onlive" href=""><span class="close-onlive icon-close"></span></a></div>`),t=e('<div class="iol-onliveList owl-carousel"></div>'),o=e.cookie(this.iolOnlive.onliveCookieName);o=o?JSON.parse(o):[];for(var n=0;n<this.iolOnlive.availableLives.length;n++){let i=this.iolOnlive.availableLives[n],a=this.isMobileOrTablet();if(i.urlVideo&&!o.includes(i.id)){i.urlVideo=i.urlVideo.replace(/[?]wmsAuthSign=(.*)/g,""),i.urlVideo+=this.iolOnlive.playerTK;let o=i.imageId?this.iolOnlive.options.imageUrl:`https://www.iol.pt/multimedia/oratvi/multimedia/imagem/id/${i.imageId}`,s=a?`<img src="${o}/200"/>`:`<video id="onLivePlayer${i.id}" data-setup='{ "controls": false, "autoplay": true, "preload": "auto", "muted" : "true" }' class="video-js onlive-video-js" preload="auto" fluid="true" poster="${o}">\n                          <source src="${i.urlVideo}" type='application/x-mpegURL' />\n                        </video>`,r=`\n                    <div class="onlive iol-onlive-footer item" id="onlive${i.id}" data-media="${i.id}">\n                        <div class="tablecell img">\n                            <a href="/direto/${i.id}/${this.normalize(i.titulo)}" class="link-player" onclick="dataLayer.push({'eventCategory': 'Click_Direto', 'eventLabel': '${n+1}', 'eventAction': 'direto_footer', 'event': 'gaEvent'});"></a>\n                            <div class="img-onlive" id="player-onlive-${i.id}">\n                            ${s} \n                            </div>\n                            <img src="${l}/play.svg" width="50" class="play-onlive"/>\n                        </div>\n                        <div class="tablecell"> \n                            <a href="/direto/${i.id}/${this.normalize(i.titulo)}"  onclick="dataLayer.push({'eventCategory': 'Click_Direto', 'eventLabel': '${n+1}', 'eventAction': 'direto_footer', 'event': 'gaEvent'});">\n                                ${i.titulo}\n                            </a>\n                        </div>\n                    </div>\n                    `;t.append(e(r)),this.iolOnlive.loadedItems.push(i.id)}}this.iolOnlive.loadedItems.length>0&&(t.append(e('<div class="onlive item iol-onlive-dummyItem" style="width: 250px;"></div>')),this.iolOnlive.element.append(i),this.iolOnlive.element.append(t),this.showIOLOnlive())},showIOLOnlive:function(){i.innerWidth<300*this.iolOnlive.loadedItems.length?(e(".iol-onliveList.owl-carousel").owlCarousel({autoWidth:!0,nav:!0}),e("#iol-onlive").css("width","100%")):e(".iol-onlive-dummyItem").remove(),this.loadIOLOnliveEvents()},disposeIOLOnlive:function(){for(var e=0;e<this.iolOnlive.loadedItems.length;e++){videojs(`onLivePlayer${this.iolOnlive.loadedItems[e]}`).dispose()}},loadIOLOnliveEvents:function(){var i=this;setTimeout(function(){e("#iol-onlive").css("bottom","0")},3e3),e("#close-iol-onlive").click(function(e){e.preventDefault(),i.closeIOLOnlive()})},closeIOLOnlive:function(){let i=this.iolOnlive.loadedItems,t=e.cookie(this.iolOnlive.onliveCookieName);t&&(i=JSON.parse(t).concat(i)),this.disposeIOLOnlive();var o=new Date;o.setTime(o.getTime()+18e5),e.cookie(this.iolOnlive.onliveCookieName,JSON.stringify(i),{expires:o}),e("#iol-onlive").remove(),dataLayer.push({eventCategory:"Barra_Direto",eventLabel:"",eventAction:"direto_footer_close",event:"gaEvent"})},getUser:function(){var e=localStorage.getItem("userx1"),i=localStorage.getItem("x1user");return null!=e?(sl=JSON.parse(e).userName,sl||""):null!=i?(sl=JSON.parse(i).userName,sl||""):""},loadScripts:function(){let e=t.createElement("script");e.src="https://cdn.iol.pt/js/utils/video-js-7.0.5/video.js",e.type="text/javascript",t.getElementsByTagName("head")[0].appendChild(e)},loadStyles:function(){let e=t.createElement("link");e.type="text/css",e.rel="stylesheet",e.href="https://cdn.iol.pt/js/utils/video-js-7.0.5/video-js.min.css",t.getElementsByTagName("head")[0].appendChild(e)},isMobileOrTablet:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||i.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},normalize:function(e){return void 0===e||""===e?"":(e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(new RegExp("\\p{InCombiningDiacriticalMarks}+","g"),"").replace(new RegExp("[^A-Za-z0-9]+","g"),"-").replace(new RegExp("[^A-Za-z0-9]+$","g"),"").replace(new RegExp("^[^A-Za-z0-9]+","g"),"")}}}(jQuery,window,document);